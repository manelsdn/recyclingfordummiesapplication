<html>
<head>
<title>sift.min.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #cf8e6d;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #7a7e85;}
.s5 { color: #2aacb8;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
sift.min.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">!</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s3">&quot;object&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">exports</span><span class="s0">&amp;&amp;</span><span class="s3">&quot;undefined&quot;</span><span class="s0">!=</span><span class="s1">typeof </span><span class="s2">module</span><span class="s0">?</span><span class="s2">t</span><span class="s0">(</span><span class="s2">exports</span><span class="s0">):</span><span class="s3">&quot;function&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">define</span><span class="s0">&amp;&amp;</span><span class="s2">define</span><span class="s0">.</span><span class="s2">amd</span><span class="s0">?</span><span class="s2">define</span><span class="s0">([</span><span class="s3">&quot;exports&quot;</span><span class="s0">],</span><span class="s2">t</span><span class="s0">):</span><span class="s2">t</span><span class="s0">((</span><span class="s2">n</span><span class="s0">=</span><span class="s2">n</span><span class="s0">||</span><span class="s2">self</span><span class="s0">).</span><span class="s2">sift</span><span class="s0">={})}(</span><span class="s1">this</span><span class="s0">,(</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
<a name="l2"><span class="ln">2    </span></a><span class="s4">/*! ***************************************************************************** 
<a name="l3"><span class="ln">3    </span></a>    Copyright (c) Microsoft Corporation. 
<a name="l4"><span class="ln">4    </span></a> 
<a name="l5"><span class="ln">5    </span></a>    Permission to use, copy, modify, and/or distribute this software for any 
<a name="l6"><span class="ln">6    </span></a>    purpose with or without fee is hereby granted. 
<a name="l7"><span class="ln">7    </span></a> 
<a name="l8"><span class="ln">8    </span></a>    THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH 
<a name="l9"><span class="ln">9    </span></a>    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY 
<a name="l10"><span class="ln">10   </span></a>    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, 
<a name="l11"><span class="ln">11   </span></a>    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM 
<a name="l12"><span class="ln">12   </span></a>    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR 
<a name="l13"><span class="ln">13   </span></a>    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR 
<a name="l14"><span class="ln">14   </span></a>    PERFORMANCE OF THIS SOFTWARE. 
<a name="l15"><span class="ln">15   </span></a>    ***************************************************************************** */</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">return</span><span class="s0">(</span><span class="s2">t</span><span class="s0">=</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">setPrototypeOf</span><span class="s0">||{</span><span class="s2">__proto__</span><span class="s0">:[]}</span><span class="s1">instanceof </span><span class="s2">Array</span><span class="s0">&amp;&amp;</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s2">n</span><span class="s0">.</span><span class="s2">__proto__</span><span class="s0">=</span><span class="s2">t</span><span class="s0">}||</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">r </span><span class="s1">in </span><span class="s2">t</span><span class="s0">)</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)&amp;&amp;(</span><span class="s2">n</span><span class="s0">[</span><span class="s2">r</span><span class="s0">]=</span><span class="s2">t</span><span class="s0">[</span><span class="s2">r</span><span class="s0">])})(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)};</span><span class="s1">function </span><span class="s2">r</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s3">&quot;function&quot;</span><span class="s0">!=</span><span class="s1">typeof </span><span class="s2">r</span><span class="s0">&amp;&amp;</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">r</span><span class="s0">)</span><span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">&quot;Class extends value &quot;</span><span class="s0">+</span><span class="s2">String</span><span class="s0">(</span><span class="s2">r</span><span class="s0">)+</span><span class="s3">&quot; is not a constructor or null&quot;</span><span class="s0">);</span><span class="s1">function </span><span class="s2">i</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">=</span><span class="s2">n</span><span class="s0">}</span><span class="s2">t</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">),</span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">=</span><span class="s1">null</span><span class="s0">===</span><span class="s2">r</span><span class="s0">?</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">create</span><span class="s0">(</span><span class="s2">r</span><span class="s0">):(</span><span class="s2">i</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">=</span><span class="s2">r</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">,</span><span class="s1">new </span><span class="s2">i</span><span class="s0">)}</span><span class="s1">var </span><span class="s2">i</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s3">&quot;[object &quot;</span><span class="s0">+</span><span class="s2">n</span><span class="s0">+</span><span class="s3">&quot;]&quot;</span><span class="s0">;</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">u</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)===</span><span class="s2">t</span><span class="s0">}},</span><span class="s2">u</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)},</span><span class="s2">e</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">n </span><span class="s1">instanceof </span><span class="s2">Date</span><span class="s0">?</span><span class="s2">n</span><span class="s0">.</span><span class="s2">getTime</span><span class="s0">():</span><span class="s2">o</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)?</span><span class="s2">n</span><span class="s0">.</span><span class="s2">map</span><span class="s0">(</span><span class="s2">e</span><span class="s0">):</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s3">&quot;function&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">n</span><span class="s0">.</span><span class="s2">toJSON</span><span class="s0">?</span><span class="s2">n</span><span class="s0">.</span><span class="s2">toJSON</span><span class="s0">():</span><span class="s2">n</span><span class="s0">},</span><span class="s2">o</span><span class="s0">=</span><span class="s2">i</span><span class="s0">(</span><span class="s3">&quot;Array&quot;</span><span class="s0">),</span><span class="s2">f</span><span class="s0">=</span><span class="s2">i</span><span class="s0">(</span><span class="s3">&quot;Object&quot;</span><span class="s0">),</span><span class="s2">s</span><span class="s0">=</span><span class="s2">i</span><span class="s0">(</span><span class="s3">&quot;Function&quot;</span><span class="s0">),</span><span class="s2">c</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s1">null</span><span class="s0">==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">==</span><span class="s2">t</span><span class="s0">)</span><span class="s1">return</span><span class="s0">!</span><span class="s5">0</span><span class="s0">;</span><span class="s1">if</span><span class="s0">(</span><span class="s2">n</span><span class="s0">===</span><span class="s2">t</span><span class="s0">)</span><span class="s1">return</span><span class="s0">!</span><span class="s5">0</span><span class="s0">;</span><span class="s1">if</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)!==</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">t</span><span class="s0">))</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">if</span><span class="s0">(</span><span class="s2">o</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)){</span><span class="s1">if</span><span class="s0">(</span><span class="s2">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">!==</span><span class="s2">t</span><span class="s0">.</span><span class="s2">length</span><span class="s0">)</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">r</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">i</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">r</span><span class="s0">&lt;</span><span class="s2">i</span><span class="s0">;</span><span class="s2">r</span><span class="s0">++)</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">c</span><span class="s0">(</span><span class="s2">n</span><span class="s0">[</span><span class="s2">r</span><span class="s0">],</span><span class="s2">t</span><span class="s0">[</span><span class="s2">r</span><span class="s0">]))</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">return</span><span class="s0">!</span><span class="s5">0</span><span class="s0">}</span><span class="s1">if</span><span class="s0">(</span><span class="s2">f</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)){</span><span class="s1">if</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">n</span><span class="s0">).</span><span class="s2">length</span><span class="s0">!==</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">t</span><span class="s0">).</span><span class="s2">length</span><span class="s0">)</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">u </span><span class="s1">in </span><span class="s2">n</span><span class="s0">)</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">c</span><span class="s0">(</span><span class="s2">n</span><span class="s0">[</span><span class="s2">u</span><span class="s0">],</span><span class="s2">t</span><span class="s0">[</span><span class="s2">u</span><span class="s0">]))</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">return</span><span class="s0">!</span><span class="s5">0</span><span class="s0">}</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">},</span><span class="s2">h</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">){</span><span class="s1">var </span><span class="s2">f</span><span class="s0">=</span><span class="s2">t</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span><span class="s1">if</span><span class="s0">(</span><span class="s2">o</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)&amp;&amp;</span><span class="s2">isNaN</span><span class="s0">(</span><span class="s2">Number</span><span class="s0">(</span><span class="s2">f</span><span class="s0">)))</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">s</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">c</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">s</span><span class="s0">&lt;</span><span class="s2">c</span><span class="s0">;</span><span class="s2">s</span><span class="s0">++)</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">h</span><span class="s0">(</span><span class="s2">n</span><span class="s0">[</span><span class="s2">s</span><span class="s0">],</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">s</span><span class="s0">,</span><span class="s2">n</span><span class="s0">))</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">return </span><span class="s2">i</span><span class="s0">===</span><span class="s2">t</span><span class="s0">.</span><span class="s2">length</span><span class="s0">||</span><span class="s1">null</span><span class="s0">==</span><span class="s2">n</span><span class="s0">?</span><span class="s2">r</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">,</span><span class="s5">0</span><span class="s0">===</span><span class="s2">i</span><span class="s0">):</span><span class="s2">h</span><span class="s0">(</span><span class="s2">n</span><span class="s0">[</span><span class="s2">f</span><span class="s0">],</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">+</span><span class="s5">1</span><span class="s0">,</span><span class="s2">f</span><span class="s0">,</span><span class="s2">n</span><span class="s0">)},</span><span class="s2">a</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">function </span><span class="s2">n</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">=</span><span class="s2">n</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">owneryQuery</span><span class="s0">=</span><span class="s2">t</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">options</span><span class="s0">=</span><span class="s2">r</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">name</span><span class="s0">=</span><span class="s2">i</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">init</span><span class="s0">()}</span><span class="s1">return </span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){},</span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">},</span><span class="s2">n</span><span class="s0">}(),</span><span class="s2">l</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">){</span><span class="s1">var </span><span class="s2">e</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">e</span><span class="s0">.</span><span class="s2">children</span><span class="s0">=</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">n</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">children</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">n</span><span class="s0">&lt;</span><span class="s2">t</span><span class="s0">;</span><span class="s2">n</span><span class="s0">++)</span><span class="s1">this</span><span class="s0">.</span><span class="s2">children</span><span class="s0">[</span><span class="s2">n</span><span class="s0">].</span><span class="s2">reset</span><span class="s0">()},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">childrenNext</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">u</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">e</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">o</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">f</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">children</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">o</span><span class="s0">&lt;</span><span class="s2">f</span><span class="s0">;</span><span class="s2">o</span><span class="s0">++){</span><span class="s1">var </span><span class="s2">s</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">children</span><span class="s0">[</span><span class="s2">o</span><span class="s0">];</span><span class="s1">if</span><span class="s0">(</span><span class="s2">s</span><span class="s0">.</span><span class="s2">done</span><span class="s0">||</span><span class="s2">s</span><span class="s0">.</span><span class="s2">next</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">),</span><span class="s2">s</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">||(</span><span class="s2">e</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">),</span><span class="s2">s</span><span class="s0">.</span><span class="s2">done</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">s</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">)</span><span class="s1">break</span><span class="s0">}</span><span class="s1">else </span><span class="s2">u</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">}</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=</span><span class="s2">u</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=</span><span class="s2">e</span><span class="s0">},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">v</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">){</span><span class="s1">var </span><span class="s2">o</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">o</span><span class="s0">.</span><span class="s2">name</span><span class="s0">=</span><span class="s2">e</span><span class="s0">,</span><span class="s2">o</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">l</span><span class="s0">),</span><span class="s2">w</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">childrenNext</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">l</span><span class="s0">),</span><span class="s2">p</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">){</span><span class="s1">var </span><span class="s2">o</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">o</span><span class="s0">.</span><span class="s2">keyPath</span><span class="s0">=</span><span class="s2">t</span><span class="s0">,</span><span class="s2">o</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">o</span><span class="s0">.</span><span class="s2">t</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return </span><span class="s2">o</span><span class="s0">.</span><span class="s2">childrenNext</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">),!</span><span class="s2">o</span><span class="s0">.</span><span class="s2">done</span><span class="s0">},</span><span class="s2">o</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s2">h</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keyPath</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">t</span><span class="s0">,</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">l</span><span class="s0">),</span><span class="s2">b</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s2">n </span><span class="s1">instanceof </span><span class="s2">Function</span><span class="s0">)</span><span class="s1">return </span><span class="s2">n</span><span class="s0">;</span><span class="s1">if</span><span class="s0">(</span><span class="s2">n </span><span class="s1">instanceof </span><span class="s2">RegExp</span><span class="s0">)</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">var </span><span class="s2">r</span><span class="s0">=</span><span class="s3">&quot;string&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">t</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">test</span><span class="s0">(</span><span class="s2">t</span><span class="s0">);</span><span class="s1">return </span><span class="s2">n</span><span class="s0">.</span><span class="s2">lastIndex</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">r</span><span class="s0">};</span><span class="s1">var </span><span class="s2">r</span><span class="s0">=</span><span class="s2">e</span><span class="s0">(</span><span class="s2">n</span><span class="s0">);</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">t</span><span class="s0">(</span><span class="s2">r</span><span class="s0">,</span><span class="s2">e</span><span class="s0">(</span><span class="s2">n</span><span class="s0">))}},</span><span class="s2">y</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">i</span><span class="s0">=</span><span class="s2">b</span><span class="s0">(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">options</span><span class="s0">.</span><span class="s2">compare</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">r</span><span class="s0">)&amp;&amp;!</span><span class="s2">r</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">(</span><span class="s2">t</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">.</span><span class="s2">i</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)&amp;&amp;(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">$</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">d</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">t</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">){</span><span class="s1">var </span><span class="s2">o</span><span class="s0">=</span><span class="s1">typeof </span><span class="s2">e</span><span class="s0">(</span><span class="s2">t</span><span class="s0">),</span><span class="s2">f</span><span class="s0">=</span><span class="s2">n</span><span class="s0">(</span><span class="s2">t</span><span class="s0">);</span><span class="s1">return new </span><span class="s2">y</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return typeof </span><span class="s2">e</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)===</span><span class="s2">o</span><span class="s0">&amp;&amp;</span><span class="s2">f</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)}),</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">)},</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">){</span><span class="s1">return null</span><span class="s0">==</span><span class="s2">n</span><span class="s0">?</span><span class="s1">new </span><span class="s2">$</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">):</span><span class="s2">t</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">)};</span><span class="s1">var </span><span class="s2">t</span><span class="s0">},</span><span class="s2">j</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">var </span><span class="s2">u</span><span class="s0">=</span><span class="s2">i</span><span class="s0">.</span><span class="s2">operations</span><span class="s0">[</span><span class="s2">n</span><span class="s0">];</span><span class="s1">return </span><span class="s2">u</span><span class="s0">||</span><span class="s2">m</span><span class="s0">(</span><span class="s2">n</span><span class="s0">),</span><span class="s2">u</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">n</span><span class="s0">)},</span><span class="s2">m</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Unsupported operation: &quot;</span><span class="s0">+</span><span class="s2">n</span><span class="s0">)},</span><span class="s2">O</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">r </span><span class="s1">in </span><span class="s2">n</span><span class="s0">)</span><span class="s1">if</span><span class="s0">(</span><span class="s2">t</span><span class="s0">.</span><span class="s2">operations</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">(</span><span class="s2">r</span><span class="s0">)||</span><span class="s3">&quot;$&quot;</span><span class="s0">===</span><span class="s2">r</span><span class="s0">.</span><span class="s2">charAt</span><span class="s0">(</span><span class="s5">0</span><span class="s0">))</span><span class="s1">return</span><span class="s0">!</span><span class="s5">0</span><span class="s0">;</span><span class="s1">return</span><span class="s0">!</span><span class="s5">1</span><span class="s0">},</span><span class="s2">g</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s2">O</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">u</span><span class="s0">)){</span><span class="s1">var </span><span class="s2">e</span><span class="s0">=</span><span class="s2">x</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">u</span><span class="s0">),</span><span class="s2">o</span><span class="s0">=</span><span class="s2">e</span><span class="s0">[</span><span class="s5">0</span><span class="s0">];</span><span class="s1">if</span><span class="s0">(</span><span class="s2">e</span><span class="s0">[</span><span class="s5">1</span><span class="s0">].</span><span class="s2">length</span><span class="s0">)</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Property queries must contain only operations, or exact objects.&quot;</span><span class="s0">);</span><span class="s1">return new </span><span class="s2">p</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">,</span><span class="s2">o</span><span class="s0">)}</span><span class="s1">return new </span><span class="s2">p</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">,[</span><span class="s1">new </span><span class="s2">y</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">)])},</span><span class="s2">E</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">void </span><span class="s5">0</span><span class="s0">===</span><span class="s2">t</span><span class="s0">&amp;&amp;(</span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">);</span><span class="s1">var </span><span class="s2">i</span><span class="s0">=</span><span class="s1">void </span><span class="s5">0</span><span class="s0">===</span><span class="s2">r</span><span class="s0">?{}:</span><span class="s2">r</span><span class="s0">,</span><span class="s2">u</span><span class="s0">=</span><span class="s2">i</span><span class="s0">.</span><span class="s2">compare</span><span class="s0">,</span><span class="s2">e</span><span class="s0">=</span><span class="s2">i</span><span class="s0">.</span><span class="s2">operations</span><span class="s0">,</span><span class="s2">o</span><span class="s0">={</span><span class="s2">compare</span><span class="s0">:</span><span class="s2">u</span><span class="s0">||</span><span class="s2">c</span><span class="s0">,</span><span class="s2">operations</span><span class="s0">:</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({},</span><span class="s2">e</span><span class="s0">||{})},</span><span class="s2">f</span><span class="s0">=</span><span class="s2">x</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s1">null</span><span class="s0">,</span><span class="s2">o</span><span class="s0">),</span><span class="s2">s</span><span class="s0">=</span><span class="s2">f</span><span class="s0">[</span><span class="s5">0</span><span class="s0">],</span><span class="s2">h</span><span class="s0">=</span><span class="s2">f</span><span class="s0">[</span><span class="s5">1</span><span class="s0">],</span><span class="s2">a</span><span class="s0">=[];</span><span class="s1">return </span><span class="s2">s</span><span class="s0">.</span><span class="s2">length</span><span class="s0">&amp;&amp;</span><span class="s2">a</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s1">new </span><span class="s2">p</span><span class="s0">([],</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">o</span><span class="s0">,</span><span class="s2">s</span><span class="s0">)),</span><span class="s2">a</span><span class="s0">.</span><span class="s2">push</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s2">a</span><span class="s0">,</span><span class="s2">h</span><span class="s0">),</span><span class="s5">1</span><span class="s0">===</span><span class="s2">a</span><span class="s0">.</span><span class="s2">length</span><span class="s0">?</span><span class="s2">a</span><span class="s0">[</span><span class="s5">0</span><span class="s0">]:</span><span class="s1">new </span><span class="s2">w</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">o</span><span class="s0">,</span><span class="s2">a</span><span class="s0">)},</span><span class="s2">x</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">var </span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">=[],</span><span class="s2">e</span><span class="s0">=[];</span><span class="s1">if</span><span class="s0">(!(</span><span class="s2">i</span><span class="s0">=</span><span class="s2">n</span><span class="s0">)||</span><span class="s2">i</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">!==</span><span class="s2">Object</span><span class="s0">&amp;&amp;</span><span class="s2">i</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">!==</span><span class="s2">Array</span><span class="s0">&amp;&amp;</span><span class="s3">&quot;function Object() { [native code] }&quot;</span><span class="s0">!==</span><span class="s2">i</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">()&amp;&amp;</span><span class="s3">&quot;function Array() { [native code] }&quot;</span><span class="s0">!==</span><span class="s2">i</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">()||</span><span class="s2">i</span><span class="s0">.</span><span class="s2">toJSON</span><span class="s0">)</span><span class="s1">return </span><span class="s2">u</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s1">new </span><span class="s2">y</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)),[</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">];</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">o </span><span class="s1">in </span><span class="s2">n</span><span class="s0">)</span><span class="s1">if</span><span class="s0">(</span><span class="s2">r</span><span class="s0">.</span><span class="s2">operations</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">(</span><span class="s2">o</span><span class="s0">)){</span><span class="s1">var </span><span class="s2">f</span><span class="s0">=</span><span class="s2">j</span><span class="s0">(</span><span class="s2">o</span><span class="s0">,</span><span class="s2">n</span><span class="s0">[</span><span class="s2">o</span><span class="s0">],</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">);</span><span class="s1">if</span><span class="s0">(</span><span class="s2">f</span><span class="s0">&amp;&amp;!</span><span class="s2">f</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">&amp;&amp;</span><span class="s2">t</span><span class="s0">&amp;&amp;!</span><span class="s2">r</span><span class="s0">.</span><span class="s2">operations</span><span class="s0">[</span><span class="s2">t</span><span class="s0">])</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Malformed query. &quot;</span><span class="s0">+</span><span class="s2">o</span><span class="s0">+</span><span class="s3">&quot; cannot be matched against property.&quot;</span><span class="s0">);</span><span class="s1">null</span><span class="s0">!=</span><span class="s2">f</span><span class="s0">&amp;&amp;</span><span class="s2">u</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">f</span><span class="s0">)}</span><span class="s1">else</span><span class="s3">&quot;$&quot;</span><span class="s0">===</span><span class="s2">o</span><span class="s0">.</span><span class="s2">charAt</span><span class="s0">(</span><span class="s5">0</span><span class="s0">)?</span><span class="s2">m</span><span class="s0">(</span><span class="s2">o</span><span class="s0">):</span><span class="s2">e</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">g</span><span class="s0">(</span><span class="s2">o</span><span class="s0">.</span><span class="s2">split</span><span class="s0">(</span><span class="s3">&quot;.&quot;</span><span class="s0">),</span><span class="s2">n</span><span class="s0">[</span><span class="s2">o</span><span class="s0">],</span><span class="s2">o</span><span class="s0">,</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">));</span><span class="s1">return</span><span class="s0">[</span><span class="s2">u</span><span class="s0">,</span><span class="s2">e</span><span class="s0">]},</span><span class="s2">_</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return </span><span class="s2">n</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">(),</span><span class="s2">n</span><span class="s0">.</span><span class="s2">next</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">),</span><span class="s2">n</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">}},</span><span class="s2">A</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">i</span><span class="s0">=</span><span class="s2">b</span><span class="s0">(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">options</span><span class="s0">.</span><span class="s2">compare</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">i</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)&amp;&amp;(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">M</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">if</span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">||</span><span class="s3">&quot;object&quot;</span><span class="s0">!=</span><span class="s1">typeof this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">)</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Malformed query. $elemMatch must by an object.&quot;</span><span class="s0">);</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">=</span><span class="s2">E</span><span class="s0">(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">owneryQuery</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">options</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">()},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s2">o</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)){</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">r</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">t</span><span class="s0">&lt;</span><span class="s2">r</span><span class="s0">;</span><span class="s2">t</span><span class="s0">++){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">();</span><span class="s1">var </span><span class="s2">i</span><span class="s0">=</span><span class="s2">n</span><span class="s0">[</span><span class="s2">t</span><span class="s0">];</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">next</span><span class="s0">(</span><span class="s2">i</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">,!</span><span class="s5">1</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">||</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">}</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">}</span><span class="s1">else this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">q</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">=</span><span class="s2">E</span><span class="s0">(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">owneryQuery</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">options</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">()},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">next</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">done</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s1">this</span><span class="s0">.</span><span class="s2">u</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">k</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s2">o</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">===</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">&amp;&amp;(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">z</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s5">0</span><span class="s0">===</span><span class="s2">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">)</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;$and/$or/$nor must be a nonempty array&quot;</span><span class="s0">)},</span><span class="s2">F</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">n</span><span class="s0">=</span><span class="s1">this</span><span class="s0">;</span><span class="s2">z</span><span class="s0">(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">o</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">.</span><span class="s2">map</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">return </span><span class="s2">E</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s1">null</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">options</span><span class="s0">)}))},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">;</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">n</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">o</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">n</span><span class="s0">&lt;</span><span class="s2">t</span><span class="s0">;</span><span class="s2">n</span><span class="s0">++)</span><span class="s1">this</span><span class="s0">.</span><span class="s2">o</span><span class="s0">[</span><span class="s2">n</span><span class="s0">].</span><span class="s2">reset</span><span class="s0">()},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">i</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s2">u</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s2">e</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">o</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">o</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">e</span><span class="s0">&lt;</span><span class="s2">o</span><span class="s0">;</span><span class="s2">e</span><span class="s0">++){</span><span class="s1">var </span><span class="s2">f</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">o</span><span class="s0">[</span><span class="s2">e</span><span class="s0">];</span><span class="s1">if</span><span class="s0">(</span><span class="s2">f</span><span class="s0">.</span><span class="s2">next</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">),</span><span class="s2">f</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">){</span><span class="s2">i</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">u</span><span class="s0">=</span><span class="s2">f</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">;</span><span class="s1">break</span><span class="s0">}}</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=</span><span class="s2">u</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=</span><span class="s2">i</span><span class="s0">},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">N</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">F</span><span class="s0">),</span><span class="s2">S</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">init</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">n</span><span class="s0">=</span><span class="s1">this</span><span class="s0">;</span><span class="s1">this</span><span class="s0">.</span><span class="s2">h</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">.</span><span class="s2">map</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s2">O</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">options</span><span class="s0">))</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;cannot nest $ under &quot;</span><span class="s0">+</span><span class="s2">n</span><span class="s0">.</span><span class="s2">name</span><span class="s0">.</span><span class="s2">toLowerCase</span><span class="s0">());</span><span class="s1">return </span><span class="s2">b</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">options</span><span class="s0">.</span><span class="s2">compare</span><span class="s0">)}))},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">i</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s2">u</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s2">e</span><span class="s0">=</span><span class="s5">0</span><span class="s0">,</span><span class="s2">o</span><span class="s0">=</span><span class="s1">this</span><span class="s0">.</span><span class="s2">h</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">e</span><span class="s0">&lt;</span><span class="s2">o</span><span class="s0">;</span><span class="s2">e</span><span class="s0">++){</span><span class="s1">if</span><span class="s0">((</span><span class="s5">0</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">h</span><span class="s0">[</span><span class="s2">e</span><span class="s0">])(</span><span class="s2">n</span><span class="s0">)){</span><span class="s2">i</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">u</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">;</span><span class="s1">break</span><span class="s0">}}</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=</span><span class="s2">u</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=</span><span class="s2">i</span><span class="s0">},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">C</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">){</span><span class="s1">var </span><span class="s2">e</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">e</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">e</span><span class="s0">.</span><span class="s2">l</span><span class="s0">=</span><span class="s1">new </span><span class="s2">S</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">),</span><span class="s2">e</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">l</span><span class="s0">.</span><span class="s2">next</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">),</span><span class="s2">o</span><span class="s0">(</span><span class="s2">r</span><span class="s0">)&amp;&amp;!</span><span class="s2">i</span><span class="s0">?</span><span class="s1">this</span><span class="s0">.</span><span class="s2">l</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">?(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">):</span><span class="s2">t</span><span class="s0">==</span><span class="s2">r</span><span class="s0">.</span><span class="s2">length</span><span class="s0">-</span><span class="s5">1</span><span class="s0">&amp;&amp;(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">):(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s1">this</span><span class="s0">.</span><span class="s2">l</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s2">n</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">),</span><span class="s1">this</span><span class="s0">.</span><span class="s2">l</span><span class="s0">.</span><span class="s2">reset</span><span class="s0">()},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">D</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">t</span><span class="s0">=</span><span class="s1">null</span><span class="s0">!==</span><span class="s2">n</span><span class="s0">&amp;&amp;</span><span class="s2">n</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">arguments</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">t</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">t</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s2">r</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">(</span><span class="s2">t</span><span class="s0">)===</span><span class="s1">this</span><span class="s0">.</span><span class="s2">params</span><span class="s0">&amp;&amp;(</span><span class="s1">this</span><span class="s0">.</span><span class="s2">done</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s1">this</span><span class="s0">.</span><span class="s2">keep</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">a</span><span class="s0">),</span><span class="s2">P</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">){</span><span class="s1">var </span><span class="s2">e</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">t</span><span class="s0">.</span><span class="s2">map</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">E</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)})),</span><span class="s2">u</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">e</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">1</span><span class="s0">,</span><span class="s2">z</span><span class="s0">(</span><span class="s2">t</span><span class="s0">),</span><span class="s2">e</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">childrenNext</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">v</span><span class="s0">),</span><span class="s2">R</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">function </span><span class="s2">t</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">u</span><span class="s0">){</span><span class="s1">var </span><span class="s2">e</span><span class="s0">=</span><span class="s2">n</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s1">this</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">,</span><span class="s2">t</span><span class="s0">.</span><span class="s2">map</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">E</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)})),</span><span class="s2">u</span><span class="s0">)||</span><span class="s1">this</span><span class="s0">;</span><span class="s1">return </span><span class="s2">e</span><span class="s0">.</span><span class="s2">propop</span><span class="s0">=!</span><span class="s5">0</span><span class="s0">,</span><span class="s2">e</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">(</span><span class="s2">t</span><span class="s0">,</span><span class="s2">n</span><span class="s0">),</span><span class="s2">t</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">next</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">this</span><span class="s0">.</span><span class="s2">childrenNext</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">t</span><span class="s0">}(</span><span class="s2">v</span><span class="s0">),</span><span class="s2">T</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">y</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">I</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">A</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">U</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">F</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">B</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">N</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">G</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">M</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">H</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">C</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">J</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">S</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">K</span><span class="s0">=</span><span class="s2">d</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">return </span><span class="s2">t</span><span class="s0">&lt;</span><span class="s2">n</span><span class="s0">}})),</span><span class="s2">L</span><span class="s0">=</span><span class="s2">d</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">return </span><span class="s2">t</span><span class="s0">&lt;=</span><span class="s2">n</span><span class="s0">}})),</span><span class="s2">Q</span><span class="s0">=</span><span class="s2">d</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">return </span><span class="s2">t</span><span class="s0">&gt;</span><span class="s2">n</span><span class="s0">}})),</span><span class="s2">V</span><span class="s0">=</span><span class="s2">d</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">return </span><span class="s2">t</span><span class="s0">&gt;=</span><span class="s2">n</span><span class="s0">}})),</span><span class="s2">W</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">var </span><span class="s2">i</span><span class="s0">=</span><span class="s2">n</span><span class="s0">[</span><span class="s5">0</span><span class="s0">],</span><span class="s2">u</span><span class="s0">=</span><span class="s2">n</span><span class="s0">[</span><span class="s5">1</span><span class="s0">];</span><span class="s1">return new </span><span class="s2">y</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">e</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)%</span><span class="s2">i</span><span class="s0">===</span><span class="s2">u</span><span class="s0">}),</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">X</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">D</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">Y</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">y</span><span class="s0">(</span><span class="s1">new </span><span class="s2">RegExp</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">.</span><span class="s2">$options</span><span class="s0">),</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">Z</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">q</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">nn</span><span class="s0">={</span><span class="s2">number</span><span class="s0">:</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return</span><span class="s3">&quot;number&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">n</span><span class="s0">},</span><span class="s2">string</span><span class="s0">:</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return</span><span class="s3">&quot;string&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">n</span><span class="s0">},</span><span class="s2">bool</span><span class="s0">:</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return</span><span class="s3">&quot;boolean&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">n</span><span class="s0">},</span><span class="s2">array</span><span class="s0">:</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)},</span><span class="s1">null</span><span class="s0">:</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return null</span><span class="s0">===</span><span class="s2">n</span><span class="s0">},</span><span class="s2">timestamp</span><span class="s0">:</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">n </span><span class="s1">instanceof </span><span class="s2">Date</span><span class="s0">}},</span><span class="s2">tn</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">y</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">t</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s3">&quot;string&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">n</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">nn</span><span class="s0">[</span><span class="s2">n</span><span class="s0">])</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Type alias does not exist&quot;</span><span class="s0">);</span><span class="s1">return </span><span class="s2">nn</span><span class="s0">[</span><span class="s2">n</span><span class="s0">](</span><span class="s2">t</span><span class="s0">)}</span><span class="s1">return null</span><span class="s0">!=</span><span class="s2">t</span><span class="s0">&amp;&amp;(</span><span class="s2">t </span><span class="s1">instanceof </span><span class="s2">n</span><span class="s0">||</span><span class="s2">t</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">===</span><span class="s2">n</span><span class="s0">)}),</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">rn</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">P</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">un</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">R</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">i</span><span class="s0">)},</span><span class="s2">en</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">k</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s3">&quot;$size&quot;</span><span class="s0">)},</span><span class="s2">on</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">return null</span><span class="s0">},</span><span class="s2">fn</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">var </span><span class="s2">i</span><span class="s0">;</span><span class="s1">if</span><span class="s0">(</span><span class="s2">s</span><span class="s0">(</span><span class="s2">n</span><span class="s0">))</span><span class="s2">i</span><span class="s0">=</span><span class="s2">n</span><span class="s0">;</span><span class="s1">else</span><span class="s0">{</span><span class="s1">if</span><span class="s0">(</span><span class="s2">process</span><span class="s0">.</span><span class="s2">env</span><span class="s0">.</span><span class="s2">CSP_ENABLED</span><span class="s0">)</span><span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">'In CSP mode, sift does not support strings in &quot;$where&quot; condition'</span><span class="s0">);</span><span class="s2">i</span><span class="s0">=</span><span class="s1">new </span><span class="s2">Function</span><span class="s0">(</span><span class="s3">&quot;obj&quot;</span><span class="s0">,</span><span class="s3">&quot;return &quot;</span><span class="s0">+</span><span class="s2">n</span><span class="s0">)}</span><span class="s1">return new </span><span class="s2">y</span><span class="s0">((</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">){</span><span class="s1">return </span><span class="s2">i</span><span class="s0">.</span><span class="s2">bind</span><span class="s0">(</span><span class="s2">n</span><span class="s0">)(</span><span class="s2">n</span><span class="s0">)}),</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">sn</span><span class="s0">=</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">freeze</span><span class="s0">({</span><span class="s2">__proto__</span><span class="s0">:</span><span class="s1">null</span><span class="s0">,</span><span class="s2">$Size</span><span class="s0">:</span><span class="s2">k</span><span class="s0">,</span><span class="s2">$eq</span><span class="s0">:</span><span class="s2">T</span><span class="s0">,</span><span class="s2">$ne</span><span class="s0">:</span><span class="s2">I</span><span class="s0">,</span><span class="s2">$or</span><span class="s0">:</span><span class="s2">U</span><span class="s0">,</span><span class="s2">$nor</span><span class="s0">:</span><span class="s2">B</span><span class="s0">,</span><span class="s2">$elemMatch</span><span class="s0">:</span><span class="s2">G</span><span class="s0">,</span><span class="s2">$nin</span><span class="s0">:</span><span class="s2">H</span><span class="s0">,</span><span class="s2">$in</span><span class="s0">:</span><span class="s2">J</span><span class="s0">,</span><span class="s2">$lt</span><span class="s0">:</span><span class="s2">K</span><span class="s0">,</span><span class="s2">$lte</span><span class="s0">:</span><span class="s2">L</span><span class="s0">,</span><span class="s2">$gt</span><span class="s0">:</span><span class="s2">Q</span><span class="s0">,</span><span class="s2">$gte</span><span class="s0">:</span><span class="s2">V</span><span class="s0">,</span><span class="s2">$mod</span><span class="s0">:</span><span class="s2">W</span><span class="s0">,</span><span class="s2">$exists</span><span class="s0">:</span><span class="s2">X</span><span class="s0">,</span><span class="s2">$regex</span><span class="s0">:</span><span class="s2">Y</span><span class="s0">,</span><span class="s2">$not</span><span class="s0">:</span><span class="s2">Z</span><span class="s0">,</span><span class="s2">$type</span><span class="s0">:</span><span class="s2">tn</span><span class="s0">,</span><span class="s2">$and</span><span class="s0">:</span><span class="s2">rn</span><span class="s0">,</span><span class="s2">$all</span><span class="s0">:</span><span class="s2">un</span><span class="s0">,</span><span class="s2">$size</span><span class="s0">:</span><span class="s2">en</span><span class="s0">,</span><span class="s2">$options</span><span class="s0">:</span><span class="s2">on</span><span class="s0">,</span><span class="s2">$where</span><span class="s0">:</span><span class="s2">fn</span><span class="s0">}),</span><span class="s2">cn</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">var </span><span class="s2">i</span><span class="s0">=</span><span class="s1">void </span><span class="s5">0</span><span class="s0">===</span><span class="s2">r</span><span class="s0">?{}:</span><span class="s2">r</span><span class="s0">,</span><span class="s2">u</span><span class="s0">=</span><span class="s2">i</span><span class="s0">.</span><span class="s2">compare</span><span class="s0">,</span><span class="s2">e</span><span class="s0">=</span><span class="s2">i</span><span class="s0">.</span><span class="s2">operations</span><span class="s0">;</span><span class="s1">return </span><span class="s2">E</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,{</span><span class="s2">compare</span><span class="s0">:</span><span class="s2">u</span><span class="s0">,</span><span class="s2">operations</span><span class="s0">:</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({},</span><span class="s2">sn</span><span class="s0">,</span><span class="s2">e</span><span class="s0">||{})})};</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$Size</span><span class="s0">=</span><span class="s2">k</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$all</span><span class="s0">=</span><span class="s2">un</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$and</span><span class="s0">=</span><span class="s2">rn</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$elemMatch</span><span class="s0">=</span><span class="s2">G</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$eq</span><span class="s0">=</span><span class="s2">T</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$exists</span><span class="s0">=</span><span class="s2">X</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$gt</span><span class="s0">=</span><span class="s2">Q</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$gte</span><span class="s0">=</span><span class="s2">V</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$in</span><span class="s0">=</span><span class="s2">J</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$lt</span><span class="s0">=</span><span class="s2">K</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$lte</span><span class="s0">=</span><span class="s2">L</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$mod</span><span class="s0">=</span><span class="s2">W</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$ne</span><span class="s0">=</span><span class="s2">I</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$nin</span><span class="s0">=</span><span class="s2">H</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$nor</span><span class="s0">=</span><span class="s2">B</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$not</span><span class="s0">=</span><span class="s2">Z</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$options</span><span class="s0">=</span><span class="s2">on</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$or</span><span class="s0">=</span><span class="s2">U</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$regex</span><span class="s0">=</span><span class="s2">Y</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$size</span><span class="s0">=</span><span class="s2">en</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$type</span><span class="s0">=</span><span class="s2">tn</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">$where</span><span class="s0">=</span><span class="s2">fn</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">EqualsOperation</span><span class="s0">=</span><span class="s2">y</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">createDefaultQueryOperation</span><span class="s0">=</span><span class="s2">cn</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">createEqualsOperation</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">){</span><span class="s1">return new </span><span class="s2">y</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">,</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">n</span><span class="s0">.</span><span class="s2">createOperationTester</span><span class="s0">=</span><span class="s2">_</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">createQueryOperation</span><span class="s0">=</span><span class="s2">E</span><span class="s0">,</span><span class="s2">n</span><span class="s0">.</span><span class="s2">createQueryTester</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s1">return void </span><span class="s5">0</span><span class="s0">===</span><span class="s2">t</span><span class="s0">&amp;&amp;(</span><span class="s2">t</span><span class="s0">={}),</span><span class="s2">_</span><span class="s0">(</span><span class="s2">E</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s1">null</span><span class="s0">,</span><span class="s2">t</span><span class="s0">))},</span><span class="s2">n</span><span class="s0">.</span><span class="s2">default</span><span class="s0">=</span><span class="s1">function</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s1">void </span><span class="s5">0</span><span class="s0">===</span><span class="s2">t</span><span class="s0">&amp;&amp;(</span><span class="s2">t</span><span class="s0">={});</span><span class="s1">var </span><span class="s2">r</span><span class="s0">=</span><span class="s2">cn</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s1">null</span><span class="s0">,</span><span class="s2">t</span><span class="s0">);</span><span class="s1">return </span><span class="s2">_</span><span class="s0">(</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">defineProperty</span><span class="s0">(</span><span class="s2">n</span><span class="s0">,</span><span class="s3">&quot;v&quot;</span><span class="s0">,{</span><span class="s2">value</span><span class="s0">:!</span><span class="s5">0</span><span class="s0">})}));</span>
<a name="l16"><span class="ln">16   </span></a><span class="s4">//# sourceMappingURL=sift.min.js.map</span>
<a name="l17"><span class="ln">17   </span></a></pre>
</body>
</html>