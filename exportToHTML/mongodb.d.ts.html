<html>
<head>
<title>mongodb.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #6aab73;}
.s5 { color: #5f826b; font-style: italic;}
.s6 { color: #67a37c; font-style: italic;}
.s7 { color: #2aacb8;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
mongodb.d.ts</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">/// &lt;reference types=&quot;node&quot; /&gt;</span>
<a name="l2"><span class="ln">2    </span></a>
<a name="l3"><span class="ln">3    </span></a><span class="s2">import </span><span class="s1">type </span><span class="s3">{ </span><span class="s1">DeserializeOptions </span><span class="s3">, </span><span class="s1">ObjectIdLike </span><span class="s3">, </span><span class="s1">SerializeOptions </span><span class="s3">} </span><span class="s1">from </span><span class="s4">'bson'</span><span class="s3">;</span>
<a name="l4"><span class="ln">4    </span></a><span class="s2">import </span><span class="s3">{ </span><span class="s1">Binary </span><span class="s3">, </span><span class="s1">BSON </span><span class="s3">, </span><span class="s1">BSONRegExp </span><span class="s3">, </span><span class="s1">BSONSymbol </span><span class="s3">, </span><span class="s1">BSONType </span><span class="s3">, </span><span class="s1">Code </span><span class="s3">, </span><span class="s1">DBRef </span><span class="s3">, </span><span class="s1">Decimal128 </span><span class="s3">, </span><span class="s1">deserialize </span><span class="s3">, </span><span class="s1">Document </span><span class="s3">, </span><span class="s1">Double </span><span class="s3">, </span><span class="s1">Int32 </span><span class="s3">, </span><span class="s1">Long </span><span class="s3">, </span><span class="s1">MaxKey </span><span class="s3">, </span><span class="s1">MinKey </span><span class="s3">, </span><span class="s1">ObjectId </span><span class="s3">, </span><span class="s1">serialize </span><span class="s3">, </span><span class="s1">Timestamp </span><span class="s3">, </span><span class="s1">UUID </span><span class="s3">} </span><span class="s1">from </span><span class="s4">'bson'</span><span class="s3">;</span>
<a name="l5"><span class="ln">5    </span></a><span class="s2">import </span><span class="s1">type </span><span class="s3">{ </span><span class="s1">SrvRecord </span><span class="s3">} </span><span class="s1">from </span><span class="s4">'dns'</span><span class="s3">;</span>
<a name="l6"><span class="ln">6    </span></a><span class="s2">import </span><span class="s3">{ </span><span class="s1">EventEmitter </span><span class="s3">} </span><span class="s1">from </span><span class="s4">'events'</span><span class="s3">;</span>
<a name="l7"><span class="ln">7    </span></a><span class="s2">import </span><span class="s1">type </span><span class="s3">{ </span><span class="s1">Socket </span><span class="s3">, </span><span class="s1">TcpNetConnectOpts </span><span class="s3">} </span><span class="s1">from </span><span class="s4">'net'</span><span class="s3">;</span>
<a name="l8"><span class="ln">8    </span></a><span class="s2">import </span><span class="s3">{  </span><span class="s1">Readable </span><span class="s3">, </span><span class="s1">Writable </span><span class="s3">} </span><span class="s1">from </span><span class="s4">'stream'</span><span class="s3">;</span>
<a name="l9"><span class="ln">9    </span></a><span class="s2">import </span><span class="s1">type </span><span class="s3">{ </span><span class="s1">ConnectionOptions </span><span class="s3">as </span><span class="s1">ConnectionOptions_2 </span><span class="s3">, </span><span class="s1">TLSSocket </span><span class="s3">, </span><span class="s1">TLSSocketOptions </span><span class="s3">} </span><span class="s1">from </span><span class="s4">'tls'</span><span class="s3">;</span>
<a name="l10"><span class="ln">10   </span></a>
<a name="l11"><span class="ln">11   </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l12"><span class="ln">12   </span></a><span class="s2">export </span><span class="s1">declare abstract </span><span class="s2">class </span><span class="s1">AbstractCursor</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">= </span><span class="s1">any</span><span class="s3">, </span><span class="s1">CursorEvents </span><span class="s2">extends </span><span class="s1">AbstractCursorEvents </span><span class="s3">= </span><span class="s1">AbstractCursorEvents</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;</span><span class="s1">CursorEvents</span><span class="s3">&gt; {</span>
<a name="l13"><span class="ln">13   </span></a>    <span class="s0">/* Excluded from this release type: [kId] */</span>
<a name="l14"><span class="ln">14   </span></a>    <span class="s0">/* Excluded from this release type: [kSession] */</span>
<a name="l15"><span class="ln">15   </span></a>    <span class="s0">/* Excluded from this release type: [kServer] */</span>
<a name="l16"><span class="ln">16   </span></a>    <span class="s0">/* Excluded from this release type: [kNamespace] */</span>
<a name="l17"><span class="ln">17   </span></a>    <span class="s0">/* Excluded from this release type: [kDocuments] */</span>
<a name="l18"><span class="ln">18   </span></a>    <span class="s0">/* Excluded from this release type: [kClient] */</span>
<a name="l19"><span class="ln">19   </span></a>    <span class="s0">/* Excluded from this release type: [kTransform] */</span>
<a name="l20"><span class="ln">20   </span></a>    <span class="s0">/* Excluded from this release type: [kInitialized] */</span>
<a name="l21"><span class="ln">21   </span></a>    <span class="s0">/* Excluded from this release type: [kClosed] */</span>
<a name="l22"><span class="ln">22   </span></a>    <span class="s0">/* Excluded from this release type: [kKilled] */</span>
<a name="l23"><span class="ln">23   </span></a>    <span class="s0">/* Excluded from this release type: [kOptions] */</span>
<a name="l24"><span class="ln">24   </span></a>    <span class="s5">/** </span><span class="s6">@event </span><span class="s5">*/</span>
<a name="l25"><span class="ln">25   </span></a>    <span class="s2">static </span><span class="s1">readonly CLOSE</span><span class="s3">: </span><span class="s4">&quot;close&quot;</span><span class="s3">;</span>
<a name="l26"><span class="ln">26   </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l27"><span class="ln">27   </span></a>    <span class="s1">get id</span><span class="s3">(): </span><span class="s1">Long </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l28"><span class="ln">28   </span></a>    <span class="s0">/* Excluded from this release type: isDead */</span>
<a name="l29"><span class="ln">29   </span></a>    <span class="s0">/* Excluded from this release type: client */</span>
<a name="l30"><span class="ln">30   </span></a>    <span class="s0">/* Excluded from this release type: server */</span>
<a name="l31"><span class="ln">31   </span></a>    <span class="s1">get namespace</span><span class="s3">(): </span><span class="s1">MongoDBNamespace</span><span class="s3">;</span>
<a name="l32"><span class="ln">32   </span></a>    <span class="s1">get readPreference</span><span class="s3">(): </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l33"><span class="ln">33   </span></a>    <span class="s1">get readConcern</span><span class="s3">(): </span><span class="s1">ReadConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l34"><span class="ln">34   </span></a>    <span class="s0">/* Excluded from this release type: session */</span>
<a name="l35"><span class="ln">35   </span></a>    <span class="s0">/* Excluded from this release type: session */</span>
<a name="l36"><span class="ln">36   </span></a>    <span class="s0">/* Excluded from this release type: cursorOptions */</span>
<a name="l37"><span class="ln">37   </span></a>    <span class="s1">get closed</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l38"><span class="ln">38   </span></a>    <span class="s1">get killed</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l39"><span class="ln">39   </span></a>    <span class="s1">get loadBalanced</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l40"><span class="ln">40   </span></a>    <span class="s5">/** Returns current buffered documents length */</span>
<a name="l41"><span class="ln">41   </span></a>    <span class="s1">bufferedCount</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l42"><span class="ln">42   </span></a>    <span class="s5">/** Returns current buffered documents */</span>
<a name="l43"><span class="ln">43   </span></a>    <span class="s1">readBufferedDocuments</span><span class="s3">(</span><span class="s1">number</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">): </span><span class="s1">TSchema</span><span class="s3">[];</span>
<a name="l44"><span class="ln">44   </span></a>    <span class="s3">[</span><span class="s1">Symbol</span><span class="s3">.</span><span class="s1">asyncIterator</span><span class="s3">](): </span><span class="s1">AsyncGenerator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s2">void</span><span class="s3">, </span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l45"><span class="ln">45   </span></a>    <span class="s1">stream</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CursorStreamOptions</span><span class="s3">): </span><span class="s1">Readable </span><span class="s3">&amp; </span><span class="s1">AsyncIterable</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l46"><span class="ln">46   </span></a>    <span class="s1">hasNext</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l47"><span class="ln">47   </span></a>    <span class="s5">/** Get the next available document from the cursor, returns null if no more documents are available. */</span>
<a name="l48"><span class="ln">48   </span></a>    <span class="s1">next</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">| </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l49"><span class="ln">49   </span></a>    <span class="s5">/**</span>
<a name="l50"><span class="ln">50   </span></a>     <span class="s5">* Try to get the next available document from the cursor or `null` if an empty batch is returned</span>
<a name="l51"><span class="ln">51   </span></a>     <span class="s5">*/</span>
<a name="l52"><span class="ln">52   </span></a>    <span class="s1">tryNext</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">| </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l53"><span class="ln">53   </span></a>    <span class="s5">/**</span>
<a name="l54"><span class="ln">54   </span></a>     <span class="s5">* Iterates over all the documents for this cursor using the iterator, callback pattern.</span>
<a name="l55"><span class="ln">55   </span></a>     <span class="s5">*</span>
<a name="l56"><span class="ln">56   </span></a>     <span class="s5">* If the iterator returns `false`, iteration will stop.</span>
<a name="l57"><span class="ln">57   </span></a>     <span class="s5">*</span>
<a name="l58"><span class="ln">58   </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">iterator - The iteration callback.</span>
<a name="l59"><span class="ln">59   </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">- Will be removed in a future release. Use for await...of instead.</span>
<a name="l60"><span class="ln">60   </span></a>     <span class="s5">*/</span>
<a name="l61"><span class="ln">61   </span></a>    <span class="s1">forEach</span><span class="s3">(</span><span class="s1">iterator</span><span class="s3">: (</span><span class="s1">doc</span><span class="s3">: </span><span class="s1">TSchema</span><span class="s3">) =&gt; </span><span class="s1">boolean </span><span class="s3">| </span><span class="s2">void</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l62"><span class="ln">62   </span></a>    <span class="s1">close</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l63"><span class="ln">63   </span></a>    <span class="s5">/**</span>
<a name="l64"><span class="ln">64   </span></a>     <span class="s5">* Returns an array of documents. The caller is responsible for making sure that there</span>
<a name="l65"><span class="ln">65   </span></a>     <span class="s5">* is enough memory to store the results. Note that the array only contains partial</span>
<a name="l66"><span class="ln">66   </span></a>     <span class="s5">* results when this cursor had been previously accessed. In that case,</span>
<a name="l67"><span class="ln">67   </span></a>     <span class="s5">* cursor.rewind() can be used to reset the cursor.</span>
<a name="l68"><span class="ln">68   </span></a>     <span class="s5">*/</span>
<a name="l69"><span class="ln">69   </span></a>    <span class="s1">toArray</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[]&gt;;</span>
<a name="l70"><span class="ln">70   </span></a>    <span class="s5">/**</span>
<a name="l71"><span class="ln">71   </span></a>     <span class="s5">* Add a cursor flag to the cursor</span>
<a name="l72"><span class="ln">72   </span></a>     <span class="s5">*</span>
<a name="l73"><span class="ln">73   </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">flag - The flag to set, must be one of following ['tailable', 'oplogReplay', 'noCursorTimeout', 'awaitData', 'partial' -.</span>
<a name="l74"><span class="ln">74   </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The flag boolean value.</span>
<a name="l75"><span class="ln">75   </span></a>     <span class="s5">*/</span>
<a name="l76"><span class="ln">76   </span></a>    <span class="s1">addCursorFlag</span><span class="s3">(</span><span class="s1">flag</span><span class="s3">: </span><span class="s1">CursorFlag</span><span class="s3">, </span><span class="s1">value</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l77"><span class="ln">77   </span></a>    <span class="s5">/**</span>
<a name="l78"><span class="ln">78   </span></a>     <span class="s5">* Map all documents using the provided function</span>
<a name="l79"><span class="ln">79   </span></a>     <span class="s5">* If there is a transform set on the cursor, that will be called first and the result passed to</span>
<a name="l80"><span class="ln">80   </span></a>     <span class="s5">* this function's transform.</span>
<a name="l81"><span class="ln">81   </span></a>     <span class="s5">*</span>
<a name="l82"><span class="ln">82   </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l83"><span class="ln">83   </span></a>     <span class="s5">*</span>
<a name="l84"><span class="ln">84   </span></a>     <span class="s5">* **Note** Cursors use `null` internally to indicate that there are no more documents in the cursor. Providing a mapping</span>
<a name="l85"><span class="ln">85   </span></a>     <span class="s5">* function that maps values to `null` will result in the cursor closing itself before it has finished iterating</span>
<a name="l86"><span class="ln">86   </span></a>     <span class="s5">* all documents.  This will **not** result in a memory leak, just surprising behavior.  For example:</span>
<a name="l87"><span class="ln">87   </span></a>     <span class="s5">*</span>
<a name="l88"><span class="ln">88   </span></a>     <span class="s5">* ```typescript</span>
<a name="l89"><span class="ln">89   </span></a>     <span class="s5">* const cursor = collection.find({});</span>
<a name="l90"><span class="ln">90   </span></a>     <span class="s5">* cursor.map(() =&gt; null);</span>
<a name="l91"><span class="ln">91   </span></a>     <span class="s5">*</span>
<a name="l92"><span class="ln">92   </span></a>     <span class="s5">* const documents = await cursor.toArray();</span>
<a name="l93"><span class="ln">93   </span></a>     <span class="s5">* // documents is always [], regardless of how many documents are in the collection.</span>
<a name="l94"><span class="ln">94   </span></a>     <span class="s5">* ```</span>
<a name="l95"><span class="ln">95   </span></a>     <span class="s5">*</span>
<a name="l96"><span class="ln">96   </span></a>     <span class="s5">* Other falsey values are allowed:</span>
<a name="l97"><span class="ln">97   </span></a>     <span class="s5">*</span>
<a name="l98"><span class="ln">98   </span></a>     <span class="s5">* ```typescript</span>
<a name="l99"><span class="ln">99   </span></a>     <span class="s5">* const cursor = collection.find({});</span>
<a name="l100"><span class="ln">100  </span></a>     <span class="s5">* cursor.map(() =&gt; '');</span>
<a name="l101"><span class="ln">101  </span></a>     <span class="s5">*</span>
<a name="l102"><span class="ln">102  </span></a>     <span class="s5">* const documents = await cursor.toArray();</span>
<a name="l103"><span class="ln">103  </span></a>     <span class="s5">* // documents is now an array of empty strings</span>
<a name="l104"><span class="ln">104  </span></a>     <span class="s5">* ```</span>
<a name="l105"><span class="ln">105  </span></a>     <span class="s5">*</span>
<a name="l106"><span class="ln">106  </span></a>     <span class="s5">* **Note for Typescript Users:** adding a transform changes the return type of the iteration of this cursor,</span>
<a name="l107"><span class="ln">107  </span></a>     <span class="s5">* it **does not** return a new instance of a cursor. This means when calling map,</span>
<a name="l108"><span class="ln">108  </span></a>     <span class="s5">* you should always assign the result to a new variable in order to get a correctly typed cursor variable.</span>
<a name="l109"><span class="ln">109  </span></a>     <span class="s5">* Take note of the following example:</span>
<a name="l110"><span class="ln">110  </span></a>     <span class="s5">*</span>
<a name="l111"><span class="ln">111  </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l112"><span class="ln">112  </span></a>     <span class="s5">* ```typescript</span>
<a name="l113"><span class="ln">113  </span></a>     <span class="s5">* const cursor: FindCursor&lt;Document&gt; = coll.find();</span>
<a name="l114"><span class="ln">114  </span></a>     <span class="s5">* const mappedCursor: FindCursor&lt;number&gt; = cursor.map(doc =&gt; Object.keys(doc).length);</span>
<a name="l115"><span class="ln">115  </span></a>     <span class="s5">* const keyCounts: number[] = await mappedCursor.toArray(); // cursor.toArray() still returns Document[]</span>
<a name="l116"><span class="ln">116  </span></a>     <span class="s5">* ```</span>
<a name="l117"><span class="ln">117  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">transform - The mapping transformation method.</span>
<a name="l118"><span class="ln">118  </span></a>     <span class="s5">*/</span>
<a name="l119"><span class="ln">119  </span></a>    <span class="s1">map</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt;(</span><span class="s1">transform</span><span class="s3">: (</span><span class="s1">doc</span><span class="s3">: </span><span class="s1">TSchema</span><span class="s3">) =&gt; </span><span class="s1">T</span><span class="s3">): </span><span class="s1">AbstractCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l120"><span class="ln">120  </span></a>    <span class="s5">/**</span>
<a name="l121"><span class="ln">121  </span></a>     <span class="s5">* Set the ReadPreference for the cursor.</span>
<a name="l122"><span class="ln">122  </span></a>     <span class="s5">*</span>
<a name="l123"><span class="ln">123  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">readPreference - The new read preference for the cursor.</span>
<a name="l124"><span class="ln">124  </span></a>     <span class="s5">*/</span>
<a name="l125"><span class="ln">125  </span></a>    <span class="s1">withReadPreference</span><span class="s3">(</span><span class="s1">readPreference</span><span class="s3">: </span><span class="s1">ReadPreferenceLike</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l126"><span class="ln">126  </span></a>    <span class="s5">/**</span>
<a name="l127"><span class="ln">127  </span></a>     <span class="s5">* Set the ReadPreference for the cursor.</span>
<a name="l128"><span class="ln">128  </span></a>     <span class="s5">*</span>
<a name="l129"><span class="ln">129  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">readPreference - The new read preference for the cursor.</span>
<a name="l130"><span class="ln">130  </span></a>     <span class="s5">*/</span>
<a name="l131"><span class="ln">131  </span></a>    <span class="s1">withReadConcern</span><span class="s3">(</span><span class="s1">readConcern</span><span class="s3">: </span><span class="s1">ReadConcernLike</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l132"><span class="ln">132  </span></a>    <span class="s5">/**</span>
<a name="l133"><span class="ln">133  </span></a>     <span class="s5">* Set a maxTimeMS on the cursor query, allowing for hard timeout limits on queries (Only supported on MongoDB 2.6 or higher)</span>
<a name="l134"><span class="ln">134  </span></a>     <span class="s5">*</span>
<a name="l135"><span class="ln">135  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - Number of milliseconds to wait before aborting the query.</span>
<a name="l136"><span class="ln">136  </span></a>     <span class="s5">*/</span>
<a name="l137"><span class="ln">137  </span></a>    <span class="s1">maxTimeMS</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l138"><span class="ln">138  </span></a>    <span class="s5">/**</span>
<a name="l139"><span class="ln">139  </span></a>     <span class="s5">* Set the batch size for the cursor.</span>
<a name="l140"><span class="ln">140  </span></a>     <span class="s5">*</span>
<a name="l141"><span class="ln">141  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The number of documents to return per batch. See {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/command/find/|find command documentation}.</span>
<a name="l142"><span class="ln">142  </span></a>     <span class="s5">*/</span>
<a name="l143"><span class="ln">143  </span></a>    <span class="s1">batchSize</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l144"><span class="ln">144  </span></a>    <span class="s5">/**</span>
<a name="l145"><span class="ln">145  </span></a>     <span class="s5">* Rewind this cursor to its uninitialized state. Any options that are present on the cursor will</span>
<a name="l146"><span class="ln">146  </span></a>     <span class="s5">* remain in effect. Iterating this cursor will cause new queries to be sent to the server, even</span>
<a name="l147"><span class="ln">147  </span></a>     <span class="s5">* if the resultant data has already been retrieved by this cursor.</span>
<a name="l148"><span class="ln">148  </span></a>     <span class="s5">*/</span>
<a name="l149"><span class="ln">149  </span></a>    <span class="s1">rewind</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l150"><span class="ln">150  </span></a>    <span class="s5">/**</span>
<a name="l151"><span class="ln">151  </span></a>     <span class="s5">* Returns a new uninitialized copy of this cursor, with options matching those that have been set on the current instance</span>
<a name="l152"><span class="ln">152  </span></a>     <span class="s5">*/</span>
<a name="l153"><span class="ln">153  </span></a>    <span class="s1">abstract clone</span><span class="s3">(): </span><span class="s1">AbstractCursor</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l154"><span class="ln">154  </span></a>    <span class="s0">/* Excluded from this release type: _initialize */</span>
<a name="l155"><span class="ln">155  </span></a>    <span class="s0">/* Excluded from this release type: getMore */</span>
<a name="l156"><span class="ln">156  </span></a>    <span class="s0">/* Excluded from this release type: [kInit] */</span>
<a name="l157"><span class="ln">157  </span></a><span class="s3">}</span>
<a name="l158"><span class="ln">158  </span></a>
<a name="l159"><span class="ln">159  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l160"><span class="ln">160  </span></a><span class="s2">export </span><span class="s1">declare type AbstractCursorEvents </span><span class="s3">= {</span>
<a name="l161"><span class="ln">161  </span></a>    <span class="s3">[</span><span class="s1">AbstractCursor</span><span class="s3">.</span><span class="s1">CLOSE</span><span class="s3">](): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l162"><span class="ln">162  </span></a><span class="s3">};</span>
<a name="l163"><span class="ln">163  </span></a>
<a name="l164"><span class="ln">164  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l165"><span class="ln">165  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">AbstractCursorOptions </span><span class="s2">extends </span><span class="s1">BSONSerializeOptions </span><span class="s3">{</span>
<a name="l166"><span class="ln">166  </span></a>    <span class="s1">session</span><span class="s3">?: </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l167"><span class="ln">167  </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l168"><span class="ln">168  </span></a>    <span class="s1">readConcern</span><span class="s3">?: </span><span class="s1">ReadConcernLike</span><span class="s3">;</span>
<a name="l169"><span class="ln">169  </span></a>    <span class="s5">/**</span>
<a name="l170"><span class="ln">170  </span></a>     <span class="s5">* Specifies the number of documents to return in each response from MongoDB</span>
<a name="l171"><span class="ln">171  </span></a>     <span class="s5">*/</span>
<a name="l172"><span class="ln">172  </span></a>    <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l173"><span class="ln">173  </span></a>    <span class="s5">/**</span>
<a name="l174"><span class="ln">174  </span></a>     <span class="s5">* When applicable `maxTimeMS` controls the amount of time the initial command</span>
<a name="l175"><span class="ln">175  </span></a>     <span class="s5">* that constructs a cursor should take. (ex. find, aggregate, listCollections)</span>
<a name="l176"><span class="ln">176  </span></a>     <span class="s5">*/</span>
<a name="l177"><span class="ln">177  </span></a>    <span class="s1">maxTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l178"><span class="ln">178  </span></a>    <span class="s5">/**</span>
<a name="l179"><span class="ln">179  </span></a>     <span class="s5">* When applicable `maxAwaitTimeMS` controls the amount of time subsequent getMores</span>
<a name="l180"><span class="ln">180  </span></a>     <span class="s5">* that a cursor uses to fetch more data should take. (ex. cursor.next())</span>
<a name="l181"><span class="ln">181  </span></a>     <span class="s5">*/</span>
<a name="l182"><span class="ln">182  </span></a>    <span class="s1">maxAwaitTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l183"><span class="ln">183  </span></a>    <span class="s5">/**</span>
<a name="l184"><span class="ln">184  </span></a>     <span class="s5">* Comment to apply to the operation.</span>
<a name="l185"><span class="ln">185  </span></a>     <span class="s5">*</span>
<a name="l186"><span class="ln">186  </span></a>     <span class="s5">* In server versions pre-4.4, 'comment' must be string.  A server</span>
<a name="l187"><span class="ln">187  </span></a>     <span class="s5">* error will be thrown if any other type is provided.</span>
<a name="l188"><span class="ln">188  </span></a>     <span class="s5">*</span>
<a name="l189"><span class="ln">189  </span></a>     <span class="s5">* In server versions 4.4 and above, 'comment' can be any valid BSON type.</span>
<a name="l190"><span class="ln">190  </span></a>     <span class="s5">*/</span>
<a name="l191"><span class="ln">191  </span></a>    <span class="s1">comment</span><span class="s3">?: </span><span class="s1">unknown</span><span class="s3">;</span>
<a name="l192"><span class="ln">192  </span></a>    <span class="s5">/**</span>
<a name="l193"><span class="ln">193  </span></a>     <span class="s5">* By default, MongoDB will automatically close a cursor when the</span>
<a name="l194"><span class="ln">194  </span></a>     <span class="s5">* client has exhausted all results in the cursor. However, for [capped collections](https://www.mongodb.com/docs/manual/core/capped-collections)</span>
<a name="l195"><span class="ln">195  </span></a>     <span class="s5">* you may use a Tailable Cursor that remains open after the client exhausts</span>
<a name="l196"><span class="ln">196  </span></a>     <span class="s5">* the results in the initial cursor.</span>
<a name="l197"><span class="ln">197  </span></a>     <span class="s5">*/</span>
<a name="l198"><span class="ln">198  </span></a>    <span class="s1">tailable</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l199"><span class="ln">199  </span></a>    <span class="s5">/**</span>
<a name="l200"><span class="ln">200  </span></a>     <span class="s5">* If awaitData is set to true, when the cursor reaches the end of the capped collection,</span>
<a name="l201"><span class="ln">201  </span></a>     <span class="s5">* MongoDB blocks the query thread for a period of time waiting for new data to arrive.</span>
<a name="l202"><span class="ln">202  </span></a>     <span class="s5">* When new data is inserted into the capped collection, the blocked thread is signaled</span>
<a name="l203"><span class="ln">203  </span></a>     <span class="s5">* to wake up and return the next batch to the client.</span>
<a name="l204"><span class="ln">204  </span></a>     <span class="s5">*/</span>
<a name="l205"><span class="ln">205  </span></a>    <span class="s1">awaitData</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l206"><span class="ln">206  </span></a>    <span class="s1">noCursorTimeout</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l207"><span class="ln">207  </span></a><span class="s3">}</span>
<a name="l208"><span class="ln">208  </span></a>
<a name="l209"><span class="ln">209  </span></a><span class="s0">/* Excluded from this release type: AbstractOperation */</span>
<a name="l210"><span class="ln">210  </span></a>
<a name="l211"><span class="ln">211  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l212"><span class="ln">212  </span></a><span class="s2">export </span><span class="s1">declare type AcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">FieldType</span><span class="s3">, </span><span class="s1">AssignableType</span><span class="s3">&gt; = {</span>
<a name="l213"><span class="ln">213  </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">KeysOfAType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">FieldType</span><span class="s3">&gt;]?: </span><span class="s1">AssignableType</span><span class="s3">;</span>
<a name="l214"><span class="ln">214  </span></a><span class="s3">};</span>
<a name="l215"><span class="ln">215  </span></a>
<a name="l216"><span class="ln">216  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l217"><span class="ln">217  </span></a><span class="s2">export </span><span class="s1">declare type AddToSetOperators</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">&gt; = {</span>
<a name="l218"><span class="ln">218  </span></a>    <span class="s1">$each</span><span class="s3">?: </span><span class="s1">Array</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">&gt;&gt;;</span>
<a name="l219"><span class="ln">219  </span></a><span class="s3">};</span>
<a name="l220"><span class="ln">220  </span></a>
<a name="l221"><span class="ln">221  </span></a><span class="s5">/**</span>
<a name="l222"><span class="ln">222  </span></a> <span class="s5">* The **Admin** class is an internal class that allows convenient access to</span>
<a name="l223"><span class="ln">223  </span></a> <span class="s5">* the admin functionality and commands for MongoDB.</span>
<a name="l224"><span class="ln">224  </span></a> <span class="s5">*</span>
<a name="l225"><span class="ln">225  </span></a> <span class="s5">* **ADMIN Cannot directly be instantiated**</span>
<a name="l226"><span class="ln">226  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l227"><span class="ln">227  </span></a> <span class="s5">*</span>
<a name="l228"><span class="ln">228  </span></a> <span class="s5">* </span><span class="s6">@example</span>
<a name="l229"><span class="ln">229  </span></a> <span class="s5">* ```ts</span>
<a name="l230"><span class="ln">230  </span></a> <span class="s5">* import { MongoClient } from 'mongodb';</span>
<a name="l231"><span class="ln">231  </span></a> <span class="s5">*</span>
<a name="l232"><span class="ln">232  </span></a> <span class="s5">* const client = new MongoClient('mongodb://localhost:27017');</span>
<a name="l233"><span class="ln">233  </span></a> <span class="s5">* const admin = client.db().admin();</span>
<a name="l234"><span class="ln">234  </span></a> <span class="s5">* const dbInfo = await admin.listDatabases();</span>
<a name="l235"><span class="ln">235  </span></a> <span class="s5">* for (const db of dbInfo.databases) {</span>
<a name="l236"><span class="ln">236  </span></a> <span class="s5">*   console.log(db.name);</span>
<a name="l237"><span class="ln">237  </span></a> <span class="s5">* }</span>
<a name="l238"><span class="ln">238  </span></a> <span class="s5">* ```</span>
<a name="l239"><span class="ln">239  </span></a> <span class="s5">*/</span>
<a name="l240"><span class="ln">240  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Admin </span><span class="s3">{</span>
<a name="l241"><span class="ln">241  </span></a>    <span class="s0">/* Excluded from this release type: s */</span>
<a name="l242"><span class="ln">242  </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l243"><span class="ln">243  </span></a>    <span class="s5">/**</span>
<a name="l244"><span class="ln">244  </span></a>     <span class="s5">* Execute a command</span>
<a name="l245"><span class="ln">245  </span></a>     <span class="s5">*</span>
<a name="l246"><span class="ln">246  </span></a>     <span class="s5">* The driver will ensure the following fields are attached to the command sent to the server:</span>
<a name="l247"><span class="ln">247  </span></a>     <span class="s5">* - `lsid` - sourced from an implicit session or options.session</span>
<a name="l248"><span class="ln">248  </span></a>     <span class="s5">* - `$readPreference` - defaults to primary or can be configured by options.readPreference</span>
<a name="l249"><span class="ln">249  </span></a>     <span class="s5">* - `$db` - sourced from the name of this database</span>
<a name="l250"><span class="ln">250  </span></a>     <span class="s5">*</span>
<a name="l251"><span class="ln">251  </span></a>     <span class="s5">* If the client has a serverApi setting:</span>
<a name="l252"><span class="ln">252  </span></a>     <span class="s5">* - `apiVersion`</span>
<a name="l253"><span class="ln">253  </span></a>     <span class="s5">* - `apiStrict`</span>
<a name="l254"><span class="ln">254  </span></a>     <span class="s5">* - `apiDeprecationErrors`</span>
<a name="l255"><span class="ln">255  </span></a>     <span class="s5">*</span>
<a name="l256"><span class="ln">256  </span></a>     <span class="s5">* When in a transaction:</span>
<a name="l257"><span class="ln">257  </span></a>     <span class="s5">* - `readConcern` - sourced from readConcern set on the TransactionOptions</span>
<a name="l258"><span class="ln">258  </span></a>     <span class="s5">* - `writeConcern` - sourced from writeConcern set on the TransactionOptions</span>
<a name="l259"><span class="ln">259  </span></a>     <span class="s5">*</span>
<a name="l260"><span class="ln">260  </span></a>     <span class="s5">* Attaching any of the above fields to the command will have no effect as the driver will overwrite the value.</span>
<a name="l261"><span class="ln">261  </span></a>     <span class="s5">*</span>
<a name="l262"><span class="ln">262  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">command - The command to execute</span>
<a name="l263"><span class="ln">263  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l264"><span class="ln">264  </span></a>     <span class="s5">*/</span>
<a name="l265"><span class="ln">265  </span></a>    <span class="s1">command</span><span class="s3">(</span><span class="s1">command</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">RunCommandOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l266"><span class="ln">266  </span></a>    <span class="s5">/**</span>
<a name="l267"><span class="ln">267  </span></a>     <span class="s5">* Retrieve the server build information</span>
<a name="l268"><span class="ln">268  </span></a>     <span class="s5">*</span>
<a name="l269"><span class="ln">269  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l270"><span class="ln">270  </span></a>     <span class="s5">*/</span>
<a name="l271"><span class="ln">271  </span></a>    <span class="s1">buildInfo</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CommandOperationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l272"><span class="ln">272  </span></a>    <span class="s5">/**</span>
<a name="l273"><span class="ln">273  </span></a>     <span class="s5">* Retrieve the server build information</span>
<a name="l274"><span class="ln">274  </span></a>     <span class="s5">*</span>
<a name="l275"><span class="ln">275  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l276"><span class="ln">276  </span></a>     <span class="s5">*/</span>
<a name="l277"><span class="ln">277  </span></a>    <span class="s1">serverInfo</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CommandOperationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l278"><span class="ln">278  </span></a>    <span class="s5">/**</span>
<a name="l279"><span class="ln">279  </span></a>     <span class="s5">* Retrieve this db's server status.</span>
<a name="l280"><span class="ln">280  </span></a>     <span class="s5">*</span>
<a name="l281"><span class="ln">281  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l282"><span class="ln">282  </span></a>     <span class="s5">*/</span>
<a name="l283"><span class="ln">283  </span></a>    <span class="s1">serverStatus</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CommandOperationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l284"><span class="ln">284  </span></a>    <span class="s5">/**</span>
<a name="l285"><span class="ln">285  </span></a>     <span class="s5">* Ping the MongoDB server and retrieve results</span>
<a name="l286"><span class="ln">286  </span></a>     <span class="s5">*</span>
<a name="l287"><span class="ln">287  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l288"><span class="ln">288  </span></a>     <span class="s5">*/</span>
<a name="l289"><span class="ln">289  </span></a>    <span class="s1">ping</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CommandOperationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l290"><span class="ln">290  </span></a>    <span class="s5">/**</span>
<a name="l291"><span class="ln">291  </span></a>     <span class="s5">* Remove a user from a database</span>
<a name="l292"><span class="ln">292  </span></a>     <span class="s5">*</span>
<a name="l293"><span class="ln">293  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">username - The username to remove</span>
<a name="l294"><span class="ln">294  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l295"><span class="ln">295  </span></a>     <span class="s5">*/</span>
<a name="l296"><span class="ln">296  </span></a>    <span class="s1">removeUser</span><span class="s3">(</span><span class="s1">username</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">RemoveUserOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l297"><span class="ln">297  </span></a>    <span class="s5">/**</span>
<a name="l298"><span class="ln">298  </span></a>     <span class="s5">* Validate an existing collection</span>
<a name="l299"><span class="ln">299  </span></a>     <span class="s5">*</span>
<a name="l300"><span class="ln">300  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">collectionName - The name of the collection to validate.</span>
<a name="l301"><span class="ln">301  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l302"><span class="ln">302  </span></a>     <span class="s5">*/</span>
<a name="l303"><span class="ln">303  </span></a>    <span class="s1">validateCollection</span><span class="s3">(</span><span class="s1">collectionName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ValidateCollectionOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l304"><span class="ln">304  </span></a>    <span class="s5">/**</span>
<a name="l305"><span class="ln">305  </span></a>     <span class="s5">* List the available databases</span>
<a name="l306"><span class="ln">306  </span></a>     <span class="s5">*</span>
<a name="l307"><span class="ln">307  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l308"><span class="ln">308  </span></a>     <span class="s5">*/</span>
<a name="l309"><span class="ln">309  </span></a>    <span class="s1">listDatabases</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListDatabasesOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">ListDatabasesResult</span><span class="s3">&gt;;</span>
<a name="l310"><span class="ln">310  </span></a>    <span class="s5">/**</span>
<a name="l311"><span class="ln">311  </span></a>     <span class="s5">* Get ReplicaSet status</span>
<a name="l312"><span class="ln">312  </span></a>     <span class="s5">*</span>
<a name="l313"><span class="ln">313  </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l314"><span class="ln">314  </span></a>     <span class="s5">*/</span>
<a name="l315"><span class="ln">315  </span></a>    <span class="s1">replSetGetStatus</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CommandOperationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l316"><span class="ln">316  </span></a><span class="s3">}</span>
<a name="l317"><span class="ln">317  </span></a>
<a name="l318"><span class="ln">318  </span></a><span class="s0">/* Excluded from this release type: AdminPrivate */</span>
<a name="l319"><span class="ln">319  </span></a>
<a name="l320"><span class="ln">320  </span></a><span class="s0">/* Excluded from this release type: AggregateOperation */</span>
<a name="l321"><span class="ln">321  </span></a>
<a name="l322"><span class="ln">322  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l323"><span class="ln">323  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">AggregateOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l324"><span class="ln">324  </span></a>    <span class="s5">/** allowDiskUse lets the server know if it can use disk to store temporary results for the aggregation (requires mongodb 2.6 \&gt;). */</span>
<a name="l325"><span class="ln">325  </span></a>    <span class="s1">allowDiskUse</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l326"><span class="ln">326  </span></a>    <span class="s5">/** The number of documents to return per batch. See [aggregation documentation](https://www.mongodb.com/docs/manual/reference/command/aggregate). */</span>
<a name="l327"><span class="ln">327  </span></a>    <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l328"><span class="ln">328  </span></a>    <span class="s5">/** Allow driver to bypass schema validation. */</span>
<a name="l329"><span class="ln">329  </span></a>    <span class="s1">bypassDocumentValidation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l330"><span class="ln">330  </span></a>    <span class="s5">/** Return the query as cursor, on 2.6 \&gt; it returns as a real cursor on pre 2.6 it returns as an emulated cursor. */</span>
<a name="l331"><span class="ln">331  </span></a>    <span class="s1">cursor</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l332"><span class="ln">332  </span></a>    <span class="s5">/** specifies a cumulative time limit in milliseconds for processing operations on the cursor. MongoDB interrupts the operation at the earliest following interrupt point. */</span>
<a name="l333"><span class="ln">333  </span></a>    <span class="s1">maxTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l334"><span class="ln">334  </span></a>    <span class="s5">/** The maximum amount of time for the server to wait on new documents to satisfy a tailable cursor query. */</span>
<a name="l335"><span class="ln">335  </span></a>    <span class="s1">maxAwaitTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l336"><span class="ln">336  </span></a>    <span class="s5">/** Specify collation. */</span>
<a name="l337"><span class="ln">337  </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l338"><span class="ln">338  </span></a>    <span class="s5">/** Add an index selection hint to an aggregation command */</span>
<a name="l339"><span class="ln">339  </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l340"><span class="ln">340  </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l341"><span class="ln">341  </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l342"><span class="ln">342  </span></a>    <span class="s1">out</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l343"><span class="ln">343  </span></a><span class="s3">}</span>
<a name="l344"><span class="ln">344  </span></a>
<a name="l345"><span class="ln">345  </span></a><span class="s5">/**</span>
<a name="l346"><span class="ln">346  </span></a> <span class="s5">* The **AggregationCursor** class is an internal class that embodies an aggregation cursor on MongoDB</span>
<a name="l347"><span class="ln">347  </span></a> <span class="s5">* allowing for iteration over the results returned from the underlying query. It supports</span>
<a name="l348"><span class="ln">348  </span></a> <span class="s5">* one by one document iteration, conversion to an array or can be iterated as a Node 4.X</span>
<a name="l349"><span class="ln">349  </span></a> <span class="s5">* or higher stream</span>
<a name="l350"><span class="ln">350  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l351"><span class="ln">351  </span></a> <span class="s5">*/</span>
<a name="l352"><span class="ln">352  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">AggregationCursor</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">AbstractCursor</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; {</span>
<a name="l353"><span class="ln">353  </span></a>    <span class="s0">/* Excluded from this release type: [kPipeline] */</span>
<a name="l354"><span class="ln">354  </span></a>    <span class="s0">/* Excluded from this release type: [kOptions] */</span>
<a name="l355"><span class="ln">355  </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l356"><span class="ln">356  </span></a>    <span class="s1">get pipeline</span><span class="s3">(): </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l357"><span class="ln">357  </span></a>    <span class="s1">clone</span><span class="s3">(): </span><span class="s1">AggregationCursor</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l358"><span class="ln">358  </span></a>    <span class="s1">map</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;(</span><span class="s1">transform</span><span class="s3">: (</span><span class="s1">doc</span><span class="s3">: </span><span class="s1">TSchema</span><span class="s3">) =&gt; </span><span class="s1">T</span><span class="s3">): </span><span class="s1">AggregationCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l359"><span class="ln">359  </span></a>    <span class="s0">/* Excluded from this release type: _initialize */</span>
<a name="l360"><span class="ln">360  </span></a>    <span class="s5">/** Execute the explain for the cursor */</span>
<a name="l361"><span class="ln">361  </span></a>    <span class="s1">explain</span><span class="s3">(</span><span class="s1">verbosity</span><span class="s3">?: </span><span class="s1">ExplainVerbosityLike</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l362"><span class="ln">362  </span></a>    <span class="s5">/** Add a group stage to the aggregation pipeline */</span>
<a name="l363"><span class="ln">363  </span></a>    <span class="s1">group</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">TSchema</span><span class="s3">&gt;(</span><span class="s1">$group</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">AggregationCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l364"><span class="ln">364  </span></a>    <span class="s5">/** Add a limit stage to the aggregation pipeline */</span>
<a name="l365"><span class="ln">365  </span></a>    <span class="s1">limit</span><span class="s3">(</span><span class="s1">$limit</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l366"><span class="ln">366  </span></a>    <span class="s5">/** Add a match stage to the aggregation pipeline */</span>
<a name="l367"><span class="ln">367  </span></a>    <span class="s1">match</span><span class="s3">(</span><span class="s1">$match</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l368"><span class="ln">368  </span></a>    <span class="s5">/** Add an out stage to the aggregation pipeline */</span>
<a name="l369"><span class="ln">369  </span></a>    <span class="s1">out</span><span class="s3">(</span><span class="s1">$out</span><span class="s3">: {</span>
<a name="l370"><span class="ln">370  </span></a>        <span class="s1">db</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l371"><span class="ln">371  </span></a>        <span class="s1">coll</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l372"><span class="ln">372  </span></a>    <span class="s3">} | </span><span class="s1">string</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l373"><span class="ln">373  </span></a>    <span class="s5">/**</span>
<a name="l374"><span class="ln">374  </span></a>     <span class="s5">* Add a project stage to the aggregation pipeline</span>
<a name="l375"><span class="ln">375  </span></a>     <span class="s5">*</span>
<a name="l376"><span class="ln">376  </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l377"><span class="ln">377  </span></a>     <span class="s5">* In order to strictly type this function you must provide an interface</span>
<a name="l378"><span class="ln">378  </span></a>     <span class="s5">* that represents the effect of your projection on the result documents.</span>
<a name="l379"><span class="ln">379  </span></a>     <span class="s5">*</span>
<a name="l380"><span class="ln">380  </span></a>     <span class="s5">* By default chaining a projection to your cursor changes the returned type to the generic {</span><span class="s6">@link </span><span class="s5">Document} type.</span>
<a name="l381"><span class="ln">381  </span></a>     <span class="s5">* You should specify a parameterized type to have assertions on your final results.</span>
<a name="l382"><span class="ln">382  </span></a>     <span class="s5">*</span>
<a name="l383"><span class="ln">383  </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l384"><span class="ln">384  </span></a>     <span class="s5">* ```typescript</span>
<a name="l385"><span class="ln">385  </span></a>     <span class="s5">* // Best way</span>
<a name="l386"><span class="ln">386  </span></a>     <span class="s5">* const docs: AggregationCursor&lt;{ a: number }&gt; = cursor.project&lt;{ a: number }&gt;({ _id: 0, a: true });</span>
<a name="l387"><span class="ln">387  </span></a>     <span class="s5">* // Flexible way</span>
<a name="l388"><span class="ln">388  </span></a>     <span class="s5">* const docs: AggregationCursor&lt;Document&gt; = cursor.project({ _id: 0, a: true });</span>
<a name="l389"><span class="ln">389  </span></a>     <span class="s5">* ```</span>
<a name="l390"><span class="ln">390  </span></a>     <span class="s5">*</span>
<a name="l391"><span class="ln">391  </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l392"><span class="ln">392  </span></a>     <span class="s5">* In order to strictly type this function you must provide an interface</span>
<a name="l393"><span class="ln">393  </span></a>     <span class="s5">* that represents the effect of your projection on the result documents.</span>
<a name="l394"><span class="ln">394  </span></a>     <span class="s5">*</span>
<a name="l395"><span class="ln">395  </span></a>     <span class="s5">* **Note for Typescript Users:** adding a transform changes the return type of the iteration of this cursor,</span>
<a name="l396"><span class="ln">396  </span></a>     <span class="s5">* it **does not** return a new instance of a cursor. This means when calling project,</span>
<a name="l397"><span class="ln">397  </span></a>     <span class="s5">* you should always assign the result to a new variable in order to get a correctly typed cursor variable.</span>
<a name="l398"><span class="ln">398  </span></a>     <span class="s5">* Take note of the following example:</span>
<a name="l399"><span class="ln">399  </span></a>     <span class="s5">*</span>
<a name="l400"><span class="ln">400  </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l401"><span class="ln">401  </span></a>     <span class="s5">* ```typescript</span>
<a name="l402"><span class="ln">402  </span></a>     <span class="s5">* const cursor: AggregationCursor&lt;{ a: number; b: string }&gt; = coll.aggregate([]);</span>
<a name="l403"><span class="ln">403  </span></a>     <span class="s5">* const projectCursor = cursor.project&lt;{ a: number }&gt;({ _id: 0, a: true });</span>
<a name="l404"><span class="ln">404  </span></a>     <span class="s5">* const aPropOnlyArray: {a: number}[] = await projectCursor.toArray();</span>
<a name="l405"><span class="ln">405  </span></a>     <span class="s5">*</span>
<a name="l406"><span class="ln">406  </span></a>     <span class="s5">* // or always use chaining and save the final cursor</span>
<a name="l407"><span class="ln">407  </span></a>     <span class="s5">*</span>
<a name="l408"><span class="ln">408  </span></a>     <span class="s5">* const cursor = coll.aggregate().project&lt;{ a: string }&gt;({</span>
<a name="l409"><span class="ln">409  </span></a>     <span class="s5">*   _id: 0,</span>
<a name="l410"><span class="ln">410  </span></a>     <span class="s5">*   a: { $convert: { input: '$a', to: 'string' }</span>
<a name="l411"><span class="ln">411  </span></a>     <span class="s5">* }});</span>
<a name="l412"><span class="ln">412  </span></a>     <span class="s5">* ```</span>
<a name="l413"><span class="ln">413  </span></a>     <span class="s5">*/</span>
<a name="l414"><span class="ln">414  </span></a>    <span class="s1">project</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">$project</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">AggregationCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l415"><span class="ln">415  </span></a>    <span class="s5">/** Add a lookup stage to the aggregation pipeline */</span>
<a name="l416"><span class="ln">416  </span></a>    <span class="s1">lookup</span><span class="s3">(</span><span class="s1">$lookup</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l417"><span class="ln">417  </span></a>    <span class="s5">/** Add a redact stage to the aggregation pipeline */</span>
<a name="l418"><span class="ln">418  </span></a>    <span class="s1">redact</span><span class="s3">(</span><span class="s1">$redact</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l419"><span class="ln">419  </span></a>    <span class="s5">/** Add a skip stage to the aggregation pipeline */</span>
<a name="l420"><span class="ln">420  </span></a>    <span class="s1">skip</span><span class="s3">(</span><span class="s1">$skip</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l421"><span class="ln">421  </span></a>    <span class="s5">/** Add a sort stage to the aggregation pipeline */</span>
<a name="l422"><span class="ln">422  </span></a>    <span class="s1">sort</span><span class="s3">(</span><span class="s1">$sort</span><span class="s3">: </span><span class="s1">Sort</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l423"><span class="ln">423  </span></a>    <span class="s5">/** Add a unwind stage to the aggregation pipeline */</span>
<a name="l424"><span class="ln">424  </span></a>    <span class="s1">unwind</span><span class="s3">(</span><span class="s1">$unwind</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">string</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l425"><span class="ln">425  </span></a>    <span class="s5">/** Add a geoNear stage to the aggregation pipeline */</span>
<a name="l426"><span class="ln">426  </span></a>    <span class="s1">geoNear</span><span class="s3">(</span><span class="s1">$geoNear</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l427"><span class="ln">427  </span></a><span class="s3">}</span>
<a name="l428"><span class="ln">428  </span></a>
<a name="l429"><span class="ln">429  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l430"><span class="ln">430  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">AggregationCursorOptions </span><span class="s2">extends </span><span class="s1">AbstractCursorOptions</span><span class="s3">, </span><span class="s1">AggregateOptions </span><span class="s3">{</span>
<a name="l431"><span class="ln">431  </span></a><span class="s3">}</span>
<a name="l432"><span class="ln">432  </span></a>
<a name="l433"><span class="ln">433  </span></a><span class="s5">/**</span>
<a name="l434"><span class="ln">434  </span></a> <span class="s5">* It is possible to search using alternative types in mongodb e.g.</span>
<a name="l435"><span class="ln">435  </span></a> <span class="s5">* string types can be searched using a regex in mongo</span>
<a name="l436"><span class="ln">436  </span></a> <span class="s5">* array types can be searched using their element type</span>
<a name="l437"><span class="ln">437  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l438"><span class="ln">438  </span></a> <span class="s5">*/</span>
<a name="l439"><span class="ln">439  </span></a><span class="s2">export </span><span class="s1">declare type AlternativeType</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt; = </span><span class="s1">T </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">infer U</span><span class="s3">&gt; ? </span><span class="s1">T </span><span class="s3">| </span><span class="s1">RegExpOrString</span><span class="s3">&lt;</span><span class="s1">U</span><span class="s3">&gt; : </span><span class="s1">RegExpOrString</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l440"><span class="ln">440  </span></a>
<a name="l441"><span class="ln">441  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l442"><span class="ln">442  </span></a><span class="s2">export </span><span class="s1">declare type AnyBulkWriteOperation</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; = {</span>
<a name="l443"><span class="ln">443  </span></a>    <span class="s1">insertOne</span><span class="s3">: </span><span class="s1">InsertOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l444"><span class="ln">444  </span></a><span class="s3">} | {</span>
<a name="l445"><span class="ln">445  </span></a>    <span class="s1">replaceOne</span><span class="s3">: </span><span class="s1">ReplaceOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l446"><span class="ln">446  </span></a><span class="s3">} | {</span>
<a name="l447"><span class="ln">447  </span></a>    <span class="s1">updateOne</span><span class="s3">: </span><span class="s1">UpdateOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l448"><span class="ln">448  </span></a><span class="s3">} | {</span>
<a name="l449"><span class="ln">449  </span></a>    <span class="s1">updateMany</span><span class="s3">: </span><span class="s1">UpdateManyModel</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l450"><span class="ln">450  </span></a><span class="s3">} | {</span>
<a name="l451"><span class="ln">451  </span></a>    <span class="s1">deleteOne</span><span class="s3">: </span><span class="s1">DeleteOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l452"><span class="ln">452  </span></a><span class="s3">} | {</span>
<a name="l453"><span class="ln">453  </span></a>    <span class="s1">deleteMany</span><span class="s3">: </span><span class="s1">DeleteManyModel</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l454"><span class="ln">454  </span></a><span class="s3">};</span>
<a name="l455"><span class="ln">455  </span></a>
<a name="l456"><span class="ln">456  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l457"><span class="ln">457  </span></a><span class="s2">export </span><span class="s1">declare type AnyError </span><span class="s3">= </span><span class="s1">MongoError </span><span class="s3">| </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l458"><span class="ln">458  </span></a>
<a name="l459"><span class="ln">459  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l460"><span class="ln">460  </span></a><span class="s2">export </span><span class="s1">declare type ArrayElement</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">&gt; = </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">infer Item</span><span class="s3">&gt; ? </span><span class="s1">Item </span><span class="s3">: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l461"><span class="ln">461  </span></a>
<a name="l462"><span class="ln">462  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l463"><span class="ln">463  </span></a><span class="s2">export </span><span class="s1">declare type ArrayOperator</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">&gt; = {</span>
<a name="l464"><span class="ln">464  </span></a>    <span class="s1">$each</span><span class="s3">?: </span><span class="s1">Array</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">&gt;&gt;;</span>
<a name="l465"><span class="ln">465  </span></a>    <span class="s1">$slice</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l466"><span class="ln">466  </span></a>    <span class="s1">$position</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l467"><span class="ln">467  </span></a>    <span class="s1">$sort</span><span class="s3">?: </span><span class="s1">Sort</span><span class="s3">;</span>
<a name="l468"><span class="ln">468  </span></a><span class="s3">};</span>
<a name="l469"><span class="ln">469  </span></a>
<a name="l470"><span class="ln">470  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l471"><span class="ln">471  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">Auth </span><span class="s3">{</span>
<a name="l472"><span class="ln">472  </span></a>    <span class="s5">/** The username for auth */</span>
<a name="l473"><span class="ln">473  </span></a>    <span class="s1">username</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l474"><span class="ln">474  </span></a>    <span class="s5">/** The password for auth */</span>
<a name="l475"><span class="ln">475  </span></a>    <span class="s1">password</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l476"><span class="ln">476  </span></a><span class="s3">}</span>
<a name="l477"><span class="ln">477  </span></a>
<a name="l478"><span class="ln">478  </span></a><span class="s0">/* Excluded from this release type: AuthContext */</span>
<a name="l479"><span class="ln">479  </span></a>
<a name="l480"><span class="ln">480  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l481"><span class="ln">481  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">AuthMechanism</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l482"><span class="ln">482  </span></a>    <span class="s1">readonly MONGODB_AWS</span><span class="s3">: </span><span class="s4">&quot;MONGODB-AWS&quot;</span><span class="s3">;</span>
<a name="l483"><span class="ln">483  </span></a>    <span class="s1">readonly MONGODB_CR</span><span class="s3">: </span><span class="s4">&quot;MONGODB-CR&quot;</span><span class="s3">;</span>
<a name="l484"><span class="ln">484  </span></a>    <span class="s1">readonly MONGODB_DEFAULT</span><span class="s3">: </span><span class="s4">&quot;DEFAULT&quot;</span><span class="s3">;</span>
<a name="l485"><span class="ln">485  </span></a>    <span class="s1">readonly MONGODB_GSSAPI</span><span class="s3">: </span><span class="s4">&quot;GSSAPI&quot;</span><span class="s3">;</span>
<a name="l486"><span class="ln">486  </span></a>    <span class="s1">readonly MONGODB_PLAIN</span><span class="s3">: </span><span class="s4">&quot;PLAIN&quot;</span><span class="s3">;</span>
<a name="l487"><span class="ln">487  </span></a>    <span class="s1">readonly MONGODB_SCRAM_SHA1</span><span class="s3">: </span><span class="s4">&quot;SCRAM-SHA-1&quot;</span><span class="s3">;</span>
<a name="l488"><span class="ln">488  </span></a>    <span class="s1">readonly MONGODB_SCRAM_SHA256</span><span class="s3">: </span><span class="s4">&quot;SCRAM-SHA-256&quot;</span><span class="s3">;</span>
<a name="l489"><span class="ln">489  </span></a>    <span class="s1">readonly MONGODB_X509</span><span class="s3">: </span><span class="s4">&quot;MONGODB-X509&quot;</span><span class="s3">;</span>
<a name="l490"><span class="ln">490  </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l491"><span class="ln">491  </span></a>    <span class="s1">readonly MONGODB_OIDC</span><span class="s3">: </span><span class="s4">&quot;MONGODB-OIDC&quot;</span><span class="s3">;</span>
<a name="l492"><span class="ln">492  </span></a><span class="s3">}&gt;;</span>
<a name="l493"><span class="ln">493  </span></a>
<a name="l494"><span class="ln">494  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l495"><span class="ln">495  </span></a><span class="s2">export </span><span class="s1">declare type AuthMechanism </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">AuthMechanism</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">AuthMechanism</span><span class="s3">];</span>
<a name="l496"><span class="ln">496  </span></a>
<a name="l497"><span class="ln">497  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l498"><span class="ln">498  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">AuthMechanismProperties </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">{</span>
<a name="l499"><span class="ln">499  </span></a>    <span class="s1">SERVICE_HOST</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l500"><span class="ln">500  </span></a>    <span class="s1">SERVICE_NAME</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l501"><span class="ln">501  </span></a>    <span class="s1">SERVICE_REALM</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l502"><span class="ln">502  </span></a>    <span class="s1">CANONICALIZE_HOST_NAME</span><span class="s3">?: </span><span class="s1">GSSAPICanonicalizationValue</span><span class="s3">;</span>
<a name="l503"><span class="ln">503  </span></a>    <span class="s1">AWS_SESSION_TOKEN</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l504"><span class="ln">504  </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l505"><span class="ln">505  </span></a>    <span class="s1">REQUEST_TOKEN_CALLBACK</span><span class="s3">?: </span><span class="s1">OIDCRequestFunction</span><span class="s3">;</span>
<a name="l506"><span class="ln">506  </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l507"><span class="ln">507  </span></a>    <span class="s1">REFRESH_TOKEN_CALLBACK</span><span class="s3">?: </span><span class="s1">OIDCRefreshFunction</span><span class="s3">;</span>
<a name="l508"><span class="ln">508  </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l509"><span class="ln">509  </span></a>    <span class="s1">PROVIDER_NAME</span><span class="s3">?: </span><span class="s4">'aws' </span><span class="s3">| </span><span class="s4">'azure'</span><span class="s3">;</span>
<a name="l510"><span class="ln">510  </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l511"><span class="ln">511  </span></a>    <span class="s1">ALLOWED_HOSTS</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l512"><span class="ln">512  </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l513"><span class="ln">513  </span></a>    <span class="s1">TOKEN_AUDIENCE</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l514"><span class="ln">514  </span></a><span class="s3">}</span>
<a name="l515"><span class="ln">515  </span></a>
<a name="l516"><span class="ln">516  </span></a><span class="s0">/* Excluded from this release type: AutoEncrypter */</span>
<a name="l517"><span class="ln">517  </span></a>
<a name="l518"><span class="ln">518  </span></a><span class="s5">/**</span>
<a name="l519"><span class="ln">519  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l520"><span class="ln">520  </span></a> <span class="s5">*</span>
<a name="l521"><span class="ln">521  </span></a> <span class="s5">* Extra options related to the mongocryptd process</span>
<a name="l522"><span class="ln">522  </span></a> <span class="s5">* \* _Available in MongoDB 6.0 or higher._</span>
<a name="l523"><span class="ln">523  </span></a> <span class="s5">*/</span>
<a name="l524"><span class="ln">524  </span></a><span class="s2">export </span><span class="s1">declare type AutoEncryptionExtraOptions </span><span class="s3">= </span><span class="s1">NonNullable</span><span class="s3">&lt;</span><span class="s1">AutoEncryptionOptions</span><span class="s3">[</span><span class="s4">'extraOptions'</span><span class="s3">]&gt;;</span>
<a name="l525"><span class="ln">525  </span></a>
<a name="l526"><span class="ln">526  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l527"><span class="ln">527  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">AutoEncryptionLoggerLevel</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l528"><span class="ln">528  </span></a>    <span class="s1">readonly FatalError</span><span class="s3">: </span><span class="s7">0</span><span class="s3">;</span>
<a name="l529"><span class="ln">529  </span></a>    <span class="s1">readonly Error</span><span class="s3">: </span><span class="s7">1</span><span class="s3">;</span>
<a name="l530"><span class="ln">530  </span></a>    <span class="s1">readonly Warning</span><span class="s3">: </span><span class="s7">2</span><span class="s3">;</span>
<a name="l531"><span class="ln">531  </span></a>    <span class="s1">readonly Info</span><span class="s3">: </span><span class="s7">3</span><span class="s3">;</span>
<a name="l532"><span class="ln">532  </span></a>    <span class="s1">readonly Trace</span><span class="s3">: </span><span class="s7">4</span><span class="s3">;</span>
<a name="l533"><span class="ln">533  </span></a><span class="s3">}&gt;;</span>
<a name="l534"><span class="ln">534  </span></a>
<a name="l535"><span class="ln">535  </span></a><span class="s5">/**</span>
<a name="l536"><span class="ln">536  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l537"><span class="ln">537  </span></a> <span class="s5">* The level of severity of the log message</span>
<a name="l538"><span class="ln">538  </span></a> <span class="s5">*</span>
<a name="l539"><span class="ln">539  </span></a> <span class="s5">* | Value | Level |</span>
<a name="l540"><span class="ln">540  </span></a> <span class="s5">* |-------|-------|</span>
<a name="l541"><span class="ln">541  </span></a> <span class="s5">* | 0 | Fatal Error |</span>
<a name="l542"><span class="ln">542  </span></a> <span class="s5">* | 1 | Error |</span>
<a name="l543"><span class="ln">543  </span></a> <span class="s5">* | 2 | Warning |</span>
<a name="l544"><span class="ln">544  </span></a> <span class="s5">* | 3 | Info |</span>
<a name="l545"><span class="ln">545  </span></a> <span class="s5">* | 4 | Trace |</span>
<a name="l546"><span class="ln">546  </span></a> <span class="s5">*/</span>
<a name="l547"><span class="ln">547  </span></a><span class="s2">export </span><span class="s1">declare type AutoEncryptionLoggerLevel </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">AutoEncryptionLoggerLevel</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">AutoEncryptionLoggerLevel</span><span class="s3">];</span>
<a name="l548"><span class="ln">548  </span></a>
<a name="l549"><span class="ln">549  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l550"><span class="ln">550  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">AutoEncryptionOptions </span><span class="s3">{</span>
<a name="l551"><span class="ln">551  </span></a>    <span class="s0">/* Excluded from this release type: metadataClient */</span>
<a name="l552"><span class="ln">552  </span></a>    <span class="s5">/** A `MongoClient` used to fetch keys from a key vault */</span>
<a name="l553"><span class="ln">553  </span></a>    <span class="s1">keyVaultClient</span><span class="s3">?: </span><span class="s1">MongoClient</span><span class="s3">;</span>
<a name="l554"><span class="ln">554  </span></a>    <span class="s5">/** The namespace where keys are stored in the key vault */</span>
<a name="l555"><span class="ln">555  </span></a>    <span class="s1">keyVaultNamespace</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l556"><span class="ln">556  </span></a>    <span class="s5">/** Configuration options that are used by specific KMS providers during key generation, encryption, and decryption. */</span>
<a name="l557"><span class="ln">557  </span></a>    <span class="s1">kmsProviders</span><span class="s3">?: {</span>
<a name="l558"><span class="ln">558  </span></a>        <span class="s5">/** Configuration options for using 'aws' as your KMS provider */</span>
<a name="l559"><span class="ln">559  </span></a>        <span class="s1">aws</span><span class="s3">?: {</span>
<a name="l560"><span class="ln">560  </span></a>            <span class="s5">/** The access key used for the AWS KMS provider */</span>
<a name="l561"><span class="ln">561  </span></a>            <span class="s1">accessKeyId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l562"><span class="ln">562  </span></a>            <span class="s5">/** The secret access key used for the AWS KMS provider */</span>
<a name="l563"><span class="ln">563  </span></a>            <span class="s1">secretAccessKey</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l564"><span class="ln">564  </span></a>            <span class="s5">/**</span>
<a name="l565"><span class="ln">565  </span></a>             <span class="s5">* An optional AWS session token that will be used as the</span>
<a name="l566"><span class="ln">566  </span></a>             <span class="s5">* X-Amz-Security-Token header for AWS requests.</span>
<a name="l567"><span class="ln">567  </span></a>             <span class="s5">*/</span>
<a name="l568"><span class="ln">568  </span></a>            <span class="s1">sessionToken</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l569"><span class="ln">569  </span></a>        <span class="s3">} | </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt;;</span>
<a name="l570"><span class="ln">570  </span></a>        <span class="s5">/** Configuration options for using 'local' as your KMS provider */</span>
<a name="l571"><span class="ln">571  </span></a>        <span class="s1">local</span><span class="s3">?: {</span>
<a name="l572"><span class="ln">572  </span></a>            <span class="s5">/**</span>
<a name="l573"><span class="ln">573  </span></a>             <span class="s5">* The master key used to encrypt/decrypt data keys.</span>
<a name="l574"><span class="ln">574  </span></a>             <span class="s5">* A 96-byte long Buffer or base64 encoded string.</span>
<a name="l575"><span class="ln">575  </span></a>             <span class="s5">*/</span>
<a name="l576"><span class="ln">576  </span></a>            <span class="s1">key</span><span class="s3">: </span><span class="s1">Buffer </span><span class="s3">| </span><span class="s1">string</span><span class="s3">;</span>
<a name="l577"><span class="ln">577  </span></a>        <span class="s3">};</span>
<a name="l578"><span class="ln">578  </span></a>        <span class="s5">/** Configuration options for using 'azure' as your KMS provider */</span>
<a name="l579"><span class="ln">579  </span></a>        <span class="s1">azure</span><span class="s3">?: {</span>
<a name="l580"><span class="ln">580  </span></a>            <span class="s5">/** The tenant ID identifies the organization for the account */</span>
<a name="l581"><span class="ln">581  </span></a>            <span class="s1">tenantId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l582"><span class="ln">582  </span></a>            <span class="s5">/** The client ID to authenticate a registered application */</span>
<a name="l583"><span class="ln">583  </span></a>            <span class="s1">clientId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l584"><span class="ln">584  </span></a>            <span class="s5">/** The client secret to authenticate a registered application */</span>
<a name="l585"><span class="ln">585  </span></a>            <span class="s1">clientSecret</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l586"><span class="ln">586  </span></a>            <span class="s5">/**</span>
<a name="l587"><span class="ln">587  </span></a>             <span class="s5">* If present, a host with optional port. E.g. &quot;example.com&quot; or &quot;example.com:443&quot;.</span>
<a name="l588"><span class="ln">588  </span></a>             <span class="s5">* This is optional, and only needed if customer is using a non-commercial Azure instance</span>
<a name="l589"><span class="ln">589  </span></a>             <span class="s5">* (e.g. a government or China account, which use different URLs).</span>
<a name="l590"><span class="ln">590  </span></a>             <span class="s5">* Defaults to &quot;login.microsoftonline.com&quot;</span>
<a name="l591"><span class="ln">591  </span></a>             <span class="s5">*/</span>
<a name="l592"><span class="ln">592  </span></a>            <span class="s1">identityPlatformEndpoint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l593"><span class="ln">593  </span></a>        <span class="s3">} | {</span>
<a name="l594"><span class="ln">594  </span></a>            <span class="s5">/**</span>
<a name="l595"><span class="ln">595  </span></a>             <span class="s5">* If present, an access token to authenticate with Azure.</span>
<a name="l596"><span class="ln">596  </span></a>             <span class="s5">*/</span>
<a name="l597"><span class="ln">597  </span></a>            <span class="s1">accessToken</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l598"><span class="ln">598  </span></a>        <span class="s3">} | </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt;;</span>
<a name="l599"><span class="ln">599  </span></a>        <span class="s5">/** Configuration options for using 'gcp' as your KMS provider */</span>
<a name="l600"><span class="ln">600  </span></a>        <span class="s1">gcp</span><span class="s3">?: {</span>
<a name="l601"><span class="ln">601  </span></a>            <span class="s5">/** The service account email to authenticate */</span>
<a name="l602"><span class="ln">602  </span></a>            <span class="s1">email</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l603"><span class="ln">603  </span></a>            <span class="s5">/** A PKCS#8 encrypted key. This can either be a base64 string or a binary representation */</span>
<a name="l604"><span class="ln">604  </span></a>            <span class="s1">privateKey</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Buffer</span><span class="s3">;</span>
<a name="l605"><span class="ln">605  </span></a>            <span class="s5">/**</span>
<a name="l606"><span class="ln">606  </span></a>             <span class="s5">* If present, a host with optional port. E.g. &quot;example.com&quot; or &quot;example.com:443&quot;.</span>
<a name="l607"><span class="ln">607  </span></a>             <span class="s5">* Defaults to &quot;oauth2.googleapis.com&quot;</span>
<a name="l608"><span class="ln">608  </span></a>             <span class="s5">*/</span>
<a name="l609"><span class="ln">609  </span></a>            <span class="s1">endpoint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l610"><span class="ln">610  </span></a>        <span class="s3">} | {</span>
<a name="l611"><span class="ln">611  </span></a>            <span class="s5">/**</span>
<a name="l612"><span class="ln">612  </span></a>             <span class="s5">* If present, an access token to authenticate with GCP.</span>
<a name="l613"><span class="ln">613  </span></a>             <span class="s5">*/</span>
<a name="l614"><span class="ln">614  </span></a>            <span class="s1">accessToken</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l615"><span class="ln">615  </span></a>        <span class="s3">} | </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt;;</span>
<a name="l616"><span class="ln">616  </span></a>        <span class="s5">/**</span>
<a name="l617"><span class="ln">617  </span></a>         <span class="s5">* Configuration options for using 'kmip' as your KMS provider</span>
<a name="l618"><span class="ln">618  </span></a>         <span class="s5">*/</span>
<a name="l619"><span class="ln">619  </span></a>        <span class="s1">kmip</span><span class="s3">?: {</span>
<a name="l620"><span class="ln">620  </span></a>            <span class="s5">/**</span>
<a name="l621"><span class="ln">621  </span></a>             <span class="s5">* The output endpoint string.</span>
<a name="l622"><span class="ln">622  </span></a>             <span class="s5">* The endpoint consists of a hostname and port separated by a colon.</span>
<a name="l623"><span class="ln">623  </span></a>             <span class="s5">* E.g. &quot;example.com:123&quot;. A port is always present.</span>
<a name="l624"><span class="ln">624  </span></a>             <span class="s5">*/</span>
<a name="l625"><span class="ln">625  </span></a>            <span class="s1">endpoint</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l626"><span class="ln">626  </span></a>        <span class="s3">};</span>
<a name="l627"><span class="ln">627  </span></a>    <span class="s3">};</span>
<a name="l628"><span class="ln">628  </span></a>    <span class="s5">/**</span>
<a name="l629"><span class="ln">629  </span></a>     <span class="s5">* A map of namespaces to a local JSON schema for encryption</span>
<a name="l630"><span class="ln">630  </span></a>     <span class="s5">*</span>
<a name="l631"><span class="ln">631  </span></a>     <span class="s5">* **NOTE**: Supplying options.schemaMap provides more security than relying on JSON Schemas obtained from the server.</span>
<a name="l632"><span class="ln">632  </span></a>     <span class="s5">* It protects against a malicious server advertising a false JSON Schema, which could trick the client into sending decrypted data that should be encrypted.</span>
<a name="l633"><span class="ln">633  </span></a>     <span class="s5">* Schemas supplied in the schemaMap only apply to configuring automatic encryption for Client-Side Field Level Encryption.</span>
<a name="l634"><span class="ln">634  </span></a>     <span class="s5">* Other validation rules in the JSON schema will not be enforced by the driver and will result in an error.</span>
<a name="l635"><span class="ln">635  </span></a>     <span class="s5">*/</span>
<a name="l636"><span class="ln">636  </span></a>    <span class="s1">schemaMap</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l637"><span class="ln">637  </span></a>    <span class="s5">/** Supply a schema for the encrypted fields in the document  */</span>
<a name="l638"><span class="ln">638  </span></a>    <span class="s1">encryptedFieldsMap</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l639"><span class="ln">639  </span></a>    <span class="s5">/** Allows the user to bypass auto encryption, maintaining implicit decryption */</span>
<a name="l640"><span class="ln">640  </span></a>    <span class="s1">bypassAutoEncryption</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l641"><span class="ln">641  </span></a>    <span class="s5">/** Allows users to bypass query analysis */</span>
<a name="l642"><span class="ln">642  </span></a>    <span class="s1">bypassQueryAnalysis</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l643"><span class="ln">643  </span></a>    <span class="s1">options</span><span class="s3">?: {</span>
<a name="l644"><span class="ln">644  </span></a>        <span class="s5">/** An optional hook to catch logging messages from the underlying encryption engine */</span>
<a name="l645"><span class="ln">645  </span></a>        <span class="s1">logger</span><span class="s3">?: (</span><span class="s1">level</span><span class="s3">: </span><span class="s1">AutoEncryptionLoggerLevel</span><span class="s3">, </span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">;</span>
<a name="l646"><span class="ln">646  </span></a>    <span class="s3">};</span>
<a name="l647"><span class="ln">647  </span></a>    <span class="s1">extraOptions</span><span class="s3">?: {</span>
<a name="l648"><span class="ln">648  </span></a>        <span class="s5">/**</span>
<a name="l649"><span class="ln">649  </span></a>         <span class="s5">* A local process the driver communicates with to determine how to encrypt values in a command.</span>
<a name="l650"><span class="ln">650  </span></a>         <span class="s5">* Defaults to &quot;mongodb://%2Fvar%2Fmongocryptd.sock&quot; if domain sockets are available or &quot;mongodb://localhost:27020&quot; otherwise</span>
<a name="l651"><span class="ln">651  </span></a>         <span class="s5">*/</span>
<a name="l652"><span class="ln">652  </span></a>        <span class="s1">mongocryptdURI</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l653"><span class="ln">653  </span></a>        <span class="s5">/** If true, autoEncryption will not attempt to spawn a mongocryptd before connecting  */</span>
<a name="l654"><span class="ln">654  </span></a>        <span class="s1">mongocryptdBypassSpawn</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l655"><span class="ln">655  </span></a>        <span class="s5">/** The path to the mongocryptd executable on the system */</span>
<a name="l656"><span class="ln">656  </span></a>        <span class="s1">mongocryptdSpawnPath</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l657"><span class="ln">657  </span></a>        <span class="s5">/** Command line arguments to use when auto-spawning a mongocryptd */</span>
<a name="l658"><span class="ln">658  </span></a>        <span class="s1">mongocryptdSpawnArgs</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l659"><span class="ln">659  </span></a>        <span class="s5">/**</span>
<a name="l660"><span class="ln">660  </span></a>         <span class="s5">* Full path to a MongoDB Crypt shared library to be used (instead of mongocryptd).</span>
<a name="l661"><span class="ln">661  </span></a>         <span class="s5">*</span>
<a name="l662"><span class="ln">662  </span></a>         <span class="s5">* This needs to be the path to the file itself, not a directory.</span>
<a name="l663"><span class="ln">663  </span></a>         <span class="s5">* It can be an absolute or relative path. If the path is relative and</span>
<a name="l664"><span class="ln">664  </span></a>         <span class="s5">* its first component is `$ORIGIN`, it will be replaced by the directory</span>
<a name="l665"><span class="ln">665  </span></a>         <span class="s5">* containing the mongodb-client-encryption native addon file. Otherwise,</span>
<a name="l666"><span class="ln">666  </span></a>         <span class="s5">* the path will be interpreted relative to the current working directory.</span>
<a name="l667"><span class="ln">667  </span></a>         <span class="s5">*</span>
<a name="l668"><span class="ln">668  </span></a>         <span class="s5">* Currently, loading different MongoDB Crypt shared library files from different</span>
<a name="l669"><span class="ln">669  </span></a>         <span class="s5">* MongoClients in the same process is not supported.</span>
<a name="l670"><span class="ln">670  </span></a>         <span class="s5">*</span>
<a name="l671"><span class="ln">671  </span></a>         <span class="s5">* If this option is provided and no MongoDB Crypt shared library could be loaded</span>
<a name="l672"><span class="ln">672  </span></a>         <span class="s5">* from the specified location, creating the MongoClient will fail.</span>
<a name="l673"><span class="ln">673  </span></a>         <span class="s5">*</span>
<a name="l674"><span class="ln">674  </span></a>         <span class="s5">* If this option is not provided and `cryptSharedLibRequired` is not specified,</span>
<a name="l675"><span class="ln">675  </span></a>         <span class="s5">* the AutoEncrypter will attempt to spawn and/or use mongocryptd according</span>
<a name="l676"><span class="ln">676  </span></a>         <span class="s5">* to the mongocryptd-specific `extraOptions` options.</span>
<a name="l677"><span class="ln">677  </span></a>         <span class="s5">*</span>
<a name="l678"><span class="ln">678  </span></a>         <span class="s5">* Specifying a path prevents mongocryptd from being used as a fallback.</span>
<a name="l679"><span class="ln">679  </span></a>         <span class="s5">*</span>
<a name="l680"><span class="ln">680  </span></a>         <span class="s5">* Requires the MongoDB Crypt shared library, available in MongoDB 6.0 or higher.</span>
<a name="l681"><span class="ln">681  </span></a>         <span class="s5">*/</span>
<a name="l682"><span class="ln">682  </span></a>        <span class="s1">cryptSharedLibPath</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l683"><span class="ln">683  </span></a>        <span class="s5">/**</span>
<a name="l684"><span class="ln">684  </span></a>         <span class="s5">* If specified, never use mongocryptd and instead fail when the MongoDB Crypt</span>
<a name="l685"><span class="ln">685  </span></a>         <span class="s5">* shared library could not be loaded.</span>
<a name="l686"><span class="ln">686  </span></a>         <span class="s5">*</span>
<a name="l687"><span class="ln">687  </span></a>         <span class="s5">* This is always true when `cryptSharedLibPath` is specified.</span>
<a name="l688"><span class="ln">688  </span></a>         <span class="s5">*</span>
<a name="l689"><span class="ln">689  </span></a>         <span class="s5">* Requires the MongoDB Crypt shared library, available in MongoDB 6.0 or higher.</span>
<a name="l690"><span class="ln">690  </span></a>         <span class="s5">*/</span>
<a name="l691"><span class="ln">691  </span></a>        <span class="s1">cryptSharedLibRequired</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l692"><span class="ln">692  </span></a>        <span class="s0">/* Excluded from this release type: cryptSharedLibSearchPaths */</span>
<a name="l693"><span class="ln">693  </span></a>    <span class="s3">};</span>
<a name="l694"><span class="ln">694  </span></a>    <span class="s1">proxyOptions</span><span class="s3">?: </span><span class="s1">ProxyOptions</span><span class="s3">;</span>
<a name="l695"><span class="ln">695  </span></a>    <span class="s5">/** The TLS options to use connecting to the KMS provider */</span>
<a name="l696"><span class="ln">696  </span></a>    <span class="s1">tlsOptions</span><span class="s3">?: </span><span class="s1">CSFLEKMSTlsOptions</span><span class="s3">;</span>
<a name="l697"><span class="ln">697  </span></a><span class="s3">}</span>
<a name="l698"><span class="ln">698  </span></a>
<a name="l699"><span class="ln">699  </span></a><span class="s5">/**</span>
<a name="l700"><span class="ln">700  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l701"><span class="ln">701  </span></a> <span class="s5">* Configuration options for making an AWS encryption key</span>
<a name="l702"><span class="ln">702  </span></a> <span class="s5">*/</span>
<a name="l703"><span class="ln">703  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">AWSEncryptionKeyOptions </span><span class="s3">{</span>
<a name="l704"><span class="ln">704  </span></a>    <span class="s5">/**</span>
<a name="l705"><span class="ln">705  </span></a>     <span class="s5">* The AWS region of the KMS</span>
<a name="l706"><span class="ln">706  </span></a>     <span class="s5">*/</span>
<a name="l707"><span class="ln">707  </span></a>    <span class="s1">region</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l708"><span class="ln">708  </span></a>    <span class="s5">/**</span>
<a name="l709"><span class="ln">709  </span></a>     <span class="s5">* The Amazon Resource Name (ARN) to the AWS customer master key (CMK)</span>
<a name="l710"><span class="ln">710  </span></a>     <span class="s5">*/</span>
<a name="l711"><span class="ln">711  </span></a>    <span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l712"><span class="ln">712  </span></a>    <span class="s5">/**</span>
<a name="l713"><span class="ln">713  </span></a>     <span class="s5">* An alternate host to send KMS requests to. May include port number.</span>
<a name="l714"><span class="ln">714  </span></a>     <span class="s5">*/</span>
<a name="l715"><span class="ln">715  </span></a>    <span class="s1">endpoint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l716"><span class="ln">716  </span></a><span class="s3">}</span>
<a name="l717"><span class="ln">717  </span></a>
<a name="l718"><span class="ln">718  </span></a><span class="s5">/**</span>
<a name="l719"><span class="ln">719  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l720"><span class="ln">720  </span></a> <span class="s5">* Configuration options for making an Azure encryption key</span>
<a name="l721"><span class="ln">721  </span></a> <span class="s5">*/</span>
<a name="l722"><span class="ln">722  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">AzureEncryptionKeyOptions </span><span class="s3">{</span>
<a name="l723"><span class="ln">723  </span></a>    <span class="s5">/**</span>
<a name="l724"><span class="ln">724  </span></a>     <span class="s5">* Key name</span>
<a name="l725"><span class="ln">725  </span></a>     <span class="s5">*/</span>
<a name="l726"><span class="ln">726  </span></a>    <span class="s1">keyName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l727"><span class="ln">727  </span></a>    <span class="s5">/**</span>
<a name="l728"><span class="ln">728  </span></a>     <span class="s5">* Key vault URL, typically `&lt;name&gt;.vault.azure.net`</span>
<a name="l729"><span class="ln">729  </span></a>     <span class="s5">*/</span>
<a name="l730"><span class="ln">730  </span></a>    <span class="s1">keyVaultEndpoint</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l731"><span class="ln">731  </span></a>    <span class="s5">/**</span>
<a name="l732"><span class="ln">732  </span></a>     <span class="s5">* Key version</span>
<a name="l733"><span class="ln">733  </span></a>     <span class="s5">*/</span>
<a name="l734"><span class="ln">734  </span></a>    <span class="s1">keyVersion</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l735"><span class="ln">735  </span></a><span class="s3">}</span>
<a name="l736"><span class="ln">736  </span></a>
<a name="l737"><span class="ln">737  </span></a><span class="s5">/**</span>
<a name="l738"><span class="ln">738  </span></a> <span class="s5">* Keeps the state of a unordered batch so we can rewrite the results</span>
<a name="l739"><span class="ln">739  </span></a> <span class="s5">* correctly after command execution</span>
<a name="l740"><span class="ln">740  </span></a> <span class="s5">*</span>
<a name="l741"><span class="ln">741  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l742"><span class="ln">742  </span></a> <span class="s5">*/</span>
<a name="l743"><span class="ln">743  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Batch</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l744"><span class="ln">744  </span></a>    <span class="s1">originalZeroIndex</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l745"><span class="ln">745  </span></a>    <span class="s1">currentIndex</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l746"><span class="ln">746  </span></a>    <span class="s1">originalIndexes</span><span class="s3">: </span><span class="s1">number</span><span class="s3">[];</span>
<a name="l747"><span class="ln">747  </span></a>    <span class="s1">batchType</span><span class="s3">: </span><span class="s1">BatchType</span><span class="s3">;</span>
<a name="l748"><span class="ln">748  </span></a>    <span class="s1">operations</span><span class="s3">: </span><span class="s1">T</span><span class="s3">[];</span>
<a name="l749"><span class="ln">749  </span></a>    <span class="s1">size</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l750"><span class="ln">750  </span></a>    <span class="s1">sizeBytes</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l751"><span class="ln">751  </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">batchType</span><span class="s3">: </span><span class="s1">BatchType</span><span class="s3">, </span><span class="s1">originalZeroIndex</span><span class="s3">: </span><span class="s1">number</span><span class="s3">);</span>
<a name="l752"><span class="ln">752  </span></a><span class="s3">}</span>
<a name="l753"><span class="ln">753  </span></a>
<a name="l754"><span class="ln">754  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l755"><span class="ln">755  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">BatchType</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l756"><span class="ln">756  </span></a>    <span class="s1">readonly INSERT</span><span class="s3">: </span><span class="s7">1</span><span class="s3">;</span>
<a name="l757"><span class="ln">757  </span></a>    <span class="s1">readonly UPDATE</span><span class="s3">: </span><span class="s7">2</span><span class="s3">;</span>
<a name="l758"><span class="ln">758  </span></a>    <span class="s1">readonly DELETE</span><span class="s3">: </span><span class="s7">3</span><span class="s3">;</span>
<a name="l759"><span class="ln">759  </span></a><span class="s3">}&gt;;</span>
<a name="l760"><span class="ln">760  </span></a>
<a name="l761"><span class="ln">761  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l762"><span class="ln">762  </span></a><span class="s2">export </span><span class="s1">declare type BatchType </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">BatchType</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">BatchType</span><span class="s3">];</span>
<a name="l763"><span class="ln">763  </span></a>
<a name="l764"><span class="ln">764  </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Binary </span><span class="s3">}</span>
<a name="l765"><span class="ln">765  </span></a>
<a name="l766"><span class="ln">766  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l767"><span class="ln">767  </span></a><span class="s2">export </span><span class="s1">declare type BitwiseFilter </span><span class="s3">= </span><span class="s1">number </span><span class="s5">/** numeric bit mask */ </span><span class="s3">| </span><span class="s1">Binary </span><span class="s5">/** BinData bit mask */ </span><span class="s3">| </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">number</span><span class="s3">&gt;;</span>
<a name="l768"><span class="ln">768  </span></a>
<a name="l769"><span class="ln">769  </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">BSON </span><span class="s3">}</span>
<a name="l770"><span class="ln">770  </span></a>
<a name="l771"><span class="ln">771  </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">BSONRegExp </span><span class="s3">}</span>
<a name="l772"><span class="ln">772  </span></a>
<a name="l773"><span class="ln">773  </span></a><span class="s5">/**</span>
<a name="l774"><span class="ln">774  </span></a> <span class="s5">* BSON Serialization options.</span>
<a name="l775"><span class="ln">775  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l776"><span class="ln">776  </span></a> <span class="s5">*/</span>
<a name="l777"><span class="ln">777  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">BSONSerializeOptions </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">SerializeOptions</span><span class="s3">, </span><span class="s4">'index'</span><span class="s3">&gt;, </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">DeserializeOptions</span><span class="s3">, </span><span class="s4">'evalFunctions' </span><span class="s3">| </span><span class="s4">'cacheFunctions' </span><span class="s3">| </span><span class="s4">'cacheFunctionsCrc32' </span><span class="s3">| </span><span class="s4">'allowObjectSmallerThanBufferSize' </span><span class="s3">| </span><span class="s4">'index' </span><span class="s3">| </span><span class="s4">'validation'</span><span class="s3">&gt; {</span>
<a name="l778"><span class="ln">778  </span></a>    <span class="s5">/**</span>
<a name="l779"><span class="ln">779  </span></a>     <span class="s5">* Enabling the raw option will return a [Node.js Buffer](https://nodejs.org/api/buffer.html)</span>
<a name="l780"><span class="ln">780  </span></a>     <span class="s5">* which is allocated using [allocUnsafe API](https://nodejs.org/api/buffer.html#static-method-bufferallocunsafesize).</span>
<a name="l781"><span class="ln">781  </span></a>     <span class="s5">* See this section from the [Node.js Docs here](https://nodejs.org/api/buffer.html#what-makes-bufferallocunsafe-and-bufferallocunsafeslow-unsafe)</span>
<a name="l782"><span class="ln">782  </span></a>     <span class="s5">* for more detail about what &quot;unsafe&quot; refers to in this context.</span>
<a name="l783"><span class="ln">783  </span></a>     <span class="s5">* If you need to maintain your own editable clone of the bytes returned for an extended life time of the process, it is recommended you allocate</span>
<a name="l784"><span class="ln">784  </span></a>     <span class="s5">* your own buffer and clone the contents:</span>
<a name="l785"><span class="ln">785  </span></a>     <span class="s5">*</span>
<a name="l786"><span class="ln">786  </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l787"><span class="ln">787  </span></a>     <span class="s5">* ```ts</span>
<a name="l788"><span class="ln">788  </span></a>     <span class="s5">* const raw = await collection.findOne({}, { raw: true });</span>
<a name="l789"><span class="ln">789  </span></a>     <span class="s5">* const myBuffer = Buffer.alloc(raw.byteLength);</span>
<a name="l790"><span class="ln">790  </span></a>     <span class="s5">* myBuffer.set(raw, 0);</span>
<a name="l791"><span class="ln">791  </span></a>     <span class="s5">* // Only save and use `myBuffer` beyond this point</span>
<a name="l792"><span class="ln">792  </span></a>     <span class="s5">* ```</span>
<a name="l793"><span class="ln">793  </span></a>     <span class="s5">*</span>
<a name="l794"><span class="ln">794  </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l795"><span class="ln">795  </span></a>     <span class="s5">* Please note there is a known limitation where this option cannot be used at the MongoClient level (see [NODE-3946](https://jira.mongodb.org/browse/NODE-3946)).</span>
<a name="l796"><span class="ln">796  </span></a>     <span class="s5">* It does correctly work at `Db`, `Collection`, and per operation the same as other BSON options work.</span>
<a name="l797"><span class="ln">797  </span></a>     <span class="s5">*/</span>
<a name="l798"><span class="ln">798  </span></a>    <span class="s1">raw</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l799"><span class="ln">799  </span></a>    <span class="s5">/** Enable utf8 validation when deserializing BSON documents.  Defaults to true. */</span>
<a name="l800"><span class="ln">800  </span></a>    <span class="s1">enableUtf8Validation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l801"><span class="ln">801  </span></a><span class="s3">}</span>
<a name="l802"><span class="ln">802  </span></a>
<a name="l803"><span class="ln">803  </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">BSONSymbol </span><span class="s3">}</span>
<a name="l804"><span class="ln">804  </span></a>
<a name="l805"><span class="ln">805  </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">BSONType </span><span class="s3">}</span>
<a name="l806"><span class="ln">806  </span></a>
<a name="l807"><span class="ln">807  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l808"><span class="ln">808  </span></a><span class="s2">export </span><span class="s1">declare type BSONTypeAlias </span><span class="s3">= </span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">BSONType</span><span class="s3">;</span>
<a name="l809"><span class="ln">809  </span></a>
<a name="l810"><span class="ln">810  </span></a><span class="s0">/* Excluded from this release type: BufferPool */</span>
<a name="l811"><span class="ln">811  </span></a>
<a name="l812"><span class="ln">812  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l813"><span class="ln">813  </span></a><span class="s2">export </span><span class="s1">declare abstract </span><span class="s2">class </span><span class="s1">BulkOperationBase </span><span class="s3">{</span>
<a name="l814"><span class="ln">814  </span></a>    <span class="s1">isOrdered</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l815"><span class="ln">815  </span></a>    <span class="s0">/* Excluded from this release type: s */</span>
<a name="l816"><span class="ln">816  </span></a>    <span class="s1">operationId</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l817"><span class="ln">817  </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l818"><span class="ln">818  </span></a>    <span class="s5">/**</span>
<a name="l819"><span class="ln">819  </span></a>     <span class="s5">* Add a single insert document to the bulk operation</span>
<a name="l820"><span class="ln">820  </span></a>     <span class="s5">*</span>
<a name="l821"><span class="ln">821  </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l822"><span class="ln">822  </span></a>     <span class="s5">* ```ts</span>
<a name="l823"><span class="ln">823  </span></a>     <span class="s5">* const bulkOp = collection.initializeOrderedBulkOp();</span>
<a name="l824"><span class="ln">824  </span></a>     <span class="s5">*</span>
<a name="l825"><span class="ln">825  </span></a>     <span class="s5">* // Adds three inserts to the bulkOp.</span>
<a name="l826"><span class="ln">826  </span></a>     <span class="s5">* bulkOp</span>
<a name="l827"><span class="ln">827  </span></a>     <span class="s5">*   .insert({ a: 1 })</span>
<a name="l828"><span class="ln">828  </span></a>     <span class="s5">*   .insert({ b: 2 })</span>
<a name="l829"><span class="ln">829  </span></a>     <span class="s5">*   .insert({ c: 3 });</span>
<a name="l830"><span class="ln">830  </span></a>     <span class="s5">* await bulkOp.execute();</span>
<a name="l831"><span class="ln">831  </span></a>     <span class="s5">* ```</span>
<a name="l832"><span class="ln">832  </span></a>     <span class="s5">*/</span>
<a name="l833"><span class="ln">833  </span></a>    <span class="s1">insert</span><span class="s3">(</span><span class="s1">document</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">BulkOperationBase</span><span class="s3">;</span>
<a name="l834"><span class="ln">834  </span></a>    <span class="s5">/**</span>
<a name="l835"><span class="ln">835  </span></a>     <span class="s5">* Builds a find operation for an update/updateOne/delete/deleteOne/replaceOne.</span>
<a name="l836"><span class="ln">836  </span></a>     <span class="s5">* Returns a builder object used to complete the definition of the operation.</span>
<a name="l837"><span class="ln">837  </span></a>     <span class="s5">*</span>
<a name="l838"><span class="ln">838  </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l839"><span class="ln">839  </span></a>     <span class="s5">* ```ts</span>
<a name="l840"><span class="ln">840  </span></a>     <span class="s5">* const bulkOp = collection.initializeOrderedBulkOp();</span>
<a name="l841"><span class="ln">841  </span></a>     <span class="s5">*</span>
<a name="l842"><span class="ln">842  </span></a>     <span class="s5">* // Add an updateOne to the bulkOp</span>
<a name="l843"><span class="ln">843  </span></a>     <span class="s5">* bulkOp.find({ a: 1 }).updateOne({ $set: { b: 2 } });</span>
<a name="l844"><span class="ln">844  </span></a>     <span class="s5">*</span>
<a name="l845"><span class="ln">845  </span></a>     <span class="s5">* // Add an updateMany to the bulkOp</span>
<a name="l846"><span class="ln">846  </span></a>     <span class="s5">* bulkOp.find({ c: 3 }).update({ $set: { d: 4 } });</span>
<a name="l847"><span class="ln">847  </span></a>     <span class="s5">*</span>
<a name="l848"><span class="ln">848  </span></a>     <span class="s5">* // Add an upsert</span>
<a name="l849"><span class="ln">849  </span></a>     <span class="s5">* bulkOp.find({ e: 5 }).upsert().updateOne({ $set: { f: 6 } });</span>
<a name="l850"><span class="ln">850  </span></a>     <span class="s5">*</span>
<a name="l851"><span class="ln">851  </span></a>     <span class="s5">* // Add a deletion</span>
<a name="l852"><span class="ln">852  </span></a>     <span class="s5">* bulkOp.find({ g: 7 }).deleteOne();</span>
<a name="l853"><span class="ln">853  </span></a>     <span class="s5">*</span>
<a name="l854"><span class="ln">854  </span></a>     <span class="s5">* // Add a multi deletion</span>
<a name="l855"><span class="ln">855  </span></a>     <span class="s5">* bulkOp.find({ h: 8 }).delete();</span>
<a name="l856"><span class="ln">856  </span></a>     <span class="s5">*</span>
<a name="l857"><span class="ln">857  </span></a>     <span class="s5">* // Add a replaceOne</span>
<a name="l858"><span class="ln">858  </span></a>     <span class="s5">* bulkOp.find({ i: 9 }).replaceOne({writeConcern: { j: 10 }});</span>
<a name="l859"><span class="ln">859  </span></a>     <span class="s5">*</span>
<a name="l860"><span class="ln">860  </span></a>     <span class="s5">* // Update using a pipeline (requires Mongodb 4.2 or higher)</span>
<a name="l861"><span class="ln">861  </span></a>     <span class="s5">* bulk.find({ k: 11, y: { $exists: true }, z: { $exists: true } }).updateOne([</span>
<a name="l862"><span class="ln">862  </span></a>     <span class="s5">*   { $set: { total: { $sum: [ '$y', '$z' ] } } }</span>
<a name="l863"><span class="ln">863  </span></a>     <span class="s5">* ]);</span>
<a name="l864"><span class="ln">864  </span></a>     <span class="s5">*</span>
<a name="l865"><span class="ln">865  </span></a>     <span class="s5">* // All of the ops will now be executed</span>
<a name="l866"><span class="ln">866  </span></a>     <span class="s5">* await bulkOp.execute();</span>
<a name="l867"><span class="ln">867  </span></a>     <span class="s5">* ```</span>
<a name="l868"><span class="ln">868  </span></a>     <span class="s5">*/</span>
<a name="l869"><span class="ln">869  </span></a>    <span class="s1">find</span><span class="s3">(</span><span class="s1">selector</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">FindOperators</span><span class="s3">;</span>
<a name="l870"><span class="ln">870  </span></a>    <span class="s5">/** Specifies a raw operation to perform in the bulk write. */</span>
<a name="l871"><span class="ln">871  </span></a>    <span class="s1">raw</span><span class="s3">(</span><span class="s1">op</span><span class="s3">: </span><span class="s1">AnyBulkWriteOperation</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l872"><span class="ln">872  </span></a>    <span class="s1">get bsonOptions</span><span class="s3">(): </span><span class="s1">BSONSerializeOptions</span><span class="s3">;</span>
<a name="l873"><span class="ln">873  </span></a>    <span class="s1">get writeConcern</span><span class="s3">(): </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l874"><span class="ln">874  </span></a>    <span class="s1">get batches</span><span class="s3">(): </span><span class="s1">Batch</span><span class="s3">[];</span>
<a name="l875"><span class="ln">875  </span></a>    <span class="s1">execute</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">BulkWriteOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">BulkWriteResult</span><span class="s3">&gt;;</span>
<a name="l876"><span class="ln">876  </span></a>    <span class="s0">/* Excluded from this release type: handleWriteError */</span>
<a name="l877"><span class="ln">877  </span></a>    <span class="s1">abstract addToOperationsList</span><span class="s3">(</span><span class="s1">batchType</span><span class="s3">: </span><span class="s1">BatchType</span><span class="s3">, </span><span class="s1">document</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">UpdateStatement </span><span class="s3">| </span><span class="s1">DeleteStatement</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l878"><span class="ln">878  </span></a><span class="s3">}</span>
<a name="l879"><span class="ln">879  </span></a>
<a name="l880"><span class="ln">880  </span></a><span class="s0">/* Excluded from this release type: BulkOperationPrivate */</span>
<a name="l881"><span class="ln">881  </span></a>
<a name="l882"><span class="ln">882  </span></a><span class="s0">/* Excluded from this release type: BulkResult */</span>
<a name="l883"><span class="ln">883  </span></a>
<a name="l884"><span class="ln">884  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l885"><span class="ln">885  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">BulkWriteOperationError </span><span class="s3">{</span>
<a name="l886"><span class="ln">886  </span></a>    <span class="s1">index</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l887"><span class="ln">887  </span></a>    <span class="s1">code</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l888"><span class="ln">888  </span></a>    <span class="s1">errmsg</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l889"><span class="ln">889  </span></a>    <span class="s1">errInfo</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l890"><span class="ln">890  </span></a>    <span class="s1">op</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">UpdateStatement </span><span class="s3">| </span><span class="s1">DeleteStatement</span><span class="s3">;</span>
<a name="l891"><span class="ln">891  </span></a><span class="s3">}</span>
<a name="l892"><span class="ln">892  </span></a>
<a name="l893"><span class="ln">893  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l894"><span class="ln">894  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">BulkWriteOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l895"><span class="ln">895  </span></a>    <span class="s5">/**</span>
<a name="l896"><span class="ln">896  </span></a>     <span class="s5">* Allow driver to bypass schema validation.</span>
<a name="l897"><span class="ln">897  </span></a>     <span class="s5">* </span><span class="s6">@defaultValue </span><span class="s5">`false` - documents will be validated by default</span>
<a name="l898"><span class="ln">898  </span></a>     <span class="s5">**/</span>
<a name="l899"><span class="ln">899  </span></a>    <span class="s1">bypassDocumentValidation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l900"><span class="ln">900  </span></a>    <span class="s5">/**</span>
<a name="l901"><span class="ln">901  </span></a>     <span class="s5">* If true, when an insert fails, don't execute the remaining writes.</span>
<a name="l902"><span class="ln">902  </span></a>     <span class="s5">* If false, continue with remaining inserts when one fails.</span>
<a name="l903"><span class="ln">903  </span></a>     <span class="s5">* </span><span class="s6">@defaultValue </span><span class="s5">`true` - inserts are ordered by default</span>
<a name="l904"><span class="ln">904  </span></a>     <span class="s5">*/</span>
<a name="l905"><span class="ln">905  </span></a>    <span class="s1">ordered</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l906"><span class="ln">906  </span></a>    <span class="s5">/**</span>
<a name="l907"><span class="ln">907  </span></a>     <span class="s5">* Force server to assign _id values instead of driver.</span>
<a name="l908"><span class="ln">908  </span></a>     <span class="s5">* </span><span class="s6">@defaultValue </span><span class="s5">`false` - the driver generates `_id` fields by default</span>
<a name="l909"><span class="ln">909  </span></a>     <span class="s5">**/</span>
<a name="l910"><span class="ln">910  </span></a>    <span class="s1">forceServerObjectId</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l911"><span class="ln">911  </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l912"><span class="ln">912  </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l913"><span class="ln">913  </span></a><span class="s3">}</span>
<a name="l914"><span class="ln">914  </span></a>
<a name="l915"><span class="ln">915  </span></a><span class="s5">/**</span>
<a name="l916"><span class="ln">916  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l917"><span class="ln">917  </span></a> <span class="s5">* The result of a bulk write.</span>
<a name="l918"><span class="ln">918  </span></a> <span class="s5">*/</span>
<a name="l919"><span class="ln">919  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">BulkWriteResult </span><span class="s3">{</span>
<a name="l920"><span class="ln">920  </span></a>    <span class="s2">private </span><span class="s1">readonly result</span><span class="s3">;</span>
<a name="l921"><span class="ln">921  </span></a>    <span class="s5">/** Number of documents inserted. */</span>
<a name="l922"><span class="ln">922  </span></a>    <span class="s1">readonly insertedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l923"><span class="ln">923  </span></a>    <span class="s5">/** Number of documents matched for update. */</span>
<a name="l924"><span class="ln">924  </span></a>    <span class="s1">readonly matchedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l925"><span class="ln">925  </span></a>    <span class="s5">/** Number of documents modified. */</span>
<a name="l926"><span class="ln">926  </span></a>    <span class="s1">readonly modifiedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l927"><span class="ln">927  </span></a>    <span class="s5">/** Number of documents deleted. */</span>
<a name="l928"><span class="ln">928  </span></a>    <span class="s1">readonly deletedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l929"><span class="ln">929  </span></a>    <span class="s5">/** Number of documents upserted. */</span>
<a name="l930"><span class="ln">930  </span></a>    <span class="s1">readonly upsertedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l931"><span class="ln">931  </span></a>    <span class="s5">/** Upserted document generated Id's, hash key is the index of the originating operation */</span>
<a name="l932"><span class="ln">932  </span></a>    <span class="s1">readonly upsertedIds</span><span class="s3">: {</span>
<a name="l933"><span class="ln">933  </span></a>        <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">number</span><span class="s3">]: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l934"><span class="ln">934  </span></a>    <span class="s3">};</span>
<a name="l935"><span class="ln">935  </span></a>    <span class="s5">/** Inserted document generated Id's, hash key is the index of the originating operation */</span>
<a name="l936"><span class="ln">936  </span></a>    <span class="s1">readonly insertedIds</span><span class="s3">: {</span>
<a name="l937"><span class="ln">937  </span></a>        <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">number</span><span class="s3">]: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l938"><span class="ln">938  </span></a>    <span class="s3">};</span>
<a name="l939"><span class="ln">939  </span></a>    <span class="s2">private static </span><span class="s1">generateIdMap</span><span class="s3">;</span>
<a name="l940"><span class="ln">940  </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l941"><span class="ln">941  </span></a>    <span class="s5">/** Evaluates to true if the bulk operation correctly executes */</span>
<a name="l942"><span class="ln">942  </span></a>    <span class="s1">get ok</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l943"><span class="ln">943  </span></a>    <span class="s0">/* Excluded from this release type: getSuccessfullyInsertedIds */</span>
<a name="l944"><span class="ln">944  </span></a>    <span class="s5">/** Returns the upserted id at the given index */</span>
<a name="l945"><span class="ln">945  </span></a>    <span class="s1">getUpsertedIdAt</span><span class="s3">(</span><span class="s1">index</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l946"><span class="ln">946  </span></a>    <span class="s5">/** Returns raw internal result */</span>
<a name="l947"><span class="ln">947  </span></a>    <span class="s1">getRawResponse</span><span class="s3">(): </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l948"><span class="ln">948  </span></a>    <span class="s5">/** Returns true if the bulk operation contains a write error */</span>
<a name="l949"><span class="ln">949  </span></a>    <span class="s1">hasWriteErrors</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l950"><span class="ln">950  </span></a>    <span class="s5">/** Returns the number of write errors off the bulk operation */</span>
<a name="l951"><span class="ln">951  </span></a>    <span class="s1">getWriteErrorCount</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l952"><span class="ln">952  </span></a>    <span class="s5">/** Returns a specific write error object */</span>
<a name="l953"><span class="ln">953  </span></a>    <span class="s1">getWriteErrorAt</span><span class="s3">(</span><span class="s1">index</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s1">WriteError </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l954"><span class="ln">954  </span></a>    <span class="s5">/** Retrieve all write errors */</span>
<a name="l955"><span class="ln">955  </span></a>    <span class="s1">getWriteErrors</span><span class="s3">(): </span><span class="s1">WriteError</span><span class="s3">[];</span>
<a name="l956"><span class="ln">956  </span></a>    <span class="s5">/** Retrieve the write concern error if one exists */</span>
<a name="l957"><span class="ln">957  </span></a>    <span class="s1">getWriteConcernError</span><span class="s3">(): </span><span class="s1">WriteConcernError </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l958"><span class="ln">958  </span></a>    <span class="s1">toString</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l959"><span class="ln">959  </span></a>    <span class="s1">isOk</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l960"><span class="ln">960  </span></a><span class="s3">}</span>
<a name="l961"><span class="ln">961  </span></a>
<a name="l962"><span class="ln">962  </span></a><span class="s5">/**</span>
<a name="l963"><span class="ln">963  </span></a> <span class="s5">* MongoDB Driver style callback</span>
<a name="l964"><span class="ln">964  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l965"><span class="ln">965  </span></a> <span class="s5">*/</span>
<a name="l966"><span class="ln">966  </span></a><span class="s2">export </span><span class="s1">declare type Callback</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt; = (</span><span class="s1">error</span><span class="s3">?: </span><span class="s1">AnyError</span><span class="s3">, </span><span class="s1">result</span><span class="s3">?: </span><span class="s1">T</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">;</span>
<a name="l967"><span class="ln">967  </span></a>
<a name="l968"><span class="ln">968  </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l969"><span class="ln">969  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">CancellationToken </span><span class="s2">extends </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;{</span>
<a name="l970"><span class="ln">970  </span></a>    <span class="s1">cancel</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l971"><span class="ln">971  </span></a><span class="s3">}&gt; {</span>
<a name="l972"><span class="ln">972  </span></a><span class="s3">}</span>
<a name="l973"><span class="ln">973  </span></a>
<a name="l974"><span class="ln">974  </span></a><span class="s5">/**</span>
<a name="l975"><span class="ln">975  </span></a> <span class="s5">* Creates a new Change Stream instance. Normally created using {</span><span class="s6">@link </span><span class="s5">Collection#watch|Collection.watch()}.</span>
<a name="l976"><span class="ln">976  </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l977"><span class="ln">977  </span></a> <span class="s5">*/</span>
<a name="l978"><span class="ln">978  </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ChangeStream</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">TChange </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">ChangeStreamDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt; </span><span class="s2">extends </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;</span><span class="s1">ChangeStreamEvents</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">TChange</span><span class="s3">&gt;&gt; {</span>
<a name="l979"><span class="ln">979  </span></a>    <span class="s1">pipeline</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l980"><span class="ln">980  </span></a>    <span class="s5">/**</span>
<a name="l981"><span class="ln">981  </span></a>     <span class="s5">* </span><span class="s6">@remarks </span><span class="s5">WriteConcern can still be present on the options because</span>
<a name="l982"><span class="ln">982  </span></a>     <span class="s5">* we inherit options from the client/db/collection.  The</span>
<a name="l983"><span class="ln">983  </span></a>     <span class="s5">* key must be present on the options in order to delete it.</span>
<a name="l984"><span class="ln">984  </span></a>     <span class="s5">* This allows typescript to delete the key but will</span>
<a name="l985"><span class="ln">985  </span></a>     <span class="s5">* not allow a writeConcern to be assigned as a property on options.</span>
<a name="l986"><span class="ln">986  </span></a>     <span class="s5">*/</span>
<a name="l987"><span class="ln">987  </span></a>    <span class="s1">options</span><span class="s3">: </span><span class="s1">ChangeStreamOptions </span><span class="s3">&amp; {</span>
<a name="l988"><span class="ln">988  </span></a>        <span class="s1">writeConcern</span><span class="s3">?: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l989"><span class="ln">989  </span></a>    <span class="s3">};</span>
<a name="l990"><span class="ln">990  </span></a>    <span class="s1">parent</span><span class="s3">: </span><span class="s1">MongoClient </span><span class="s3">| </span><span class="s1">Db </span><span class="s3">| </span><span class="s1">Collection</span><span class="s3">;</span>
<a name="l991"><span class="ln">991  </span></a>    <span class="s1">namespace</span><span class="s3">: </span><span class="s1">MongoDBNamespace</span><span class="s3">;</span>
<a name="l992"><span class="ln">992  </span></a>    <span class="s1">type</span><span class="s3">: </span><span class="s1">symbol</span><span class="s3">;</span>
<a name="l993"><span class="ln">993  </span></a>    <span class="s0">/* Excluded from this release type: cursor */</span>
<a name="l994"><span class="ln">994  </span></a>    <span class="s1">streamOptions</span><span class="s3">?: </span><span class="s1">CursorStreamOptions</span><span class="s3">;</span>
<a name="l995"><span class="ln">995  </span></a>    <span class="s0">/* Excluded from this release type: [kCursorStream] */</span>
<a name="l996"><span class="ln">996  </span></a>    <span class="s0">/* Excluded from this release type: [kClosed] */</span>
<a name="l997"><span class="ln">997  </span></a>    <span class="s0">/* Excluded from this release type: [kMode] */</span>
<a name="l998"><span class="ln">998  </span></a>    <span class="s5">/** </span><span class="s6">@event </span><span class="s5">*/</span>
<a name="l999"><span class="ln">999  </span></a>    <span class="s2">static </span><span class="s1">readonly RESPONSE</span><span class="s3">: </span><span class="s4">&quot;response&quot;</span><span class="s3">;</span>
<a name="l1000"><span class="ln">1000 </span></a>    <span class="s5">/** </span><span class="s6">@event </span><span class="s5">*/</span>
<a name="l1001"><span class="ln">1001 </span></a>    <span class="s2">static </span><span class="s1">readonly MORE</span><span class="s3">: </span><span class="s4">&quot;more&quot;</span><span class="s3">;</span>
<a name="l1002"><span class="ln">1002 </span></a>    <span class="s5">/** </span><span class="s6">@event </span><span class="s5">*/</span>
<a name="l1003"><span class="ln">1003 </span></a>    <span class="s2">static </span><span class="s1">readonly INIT</span><span class="s3">: </span><span class="s4">&quot;init&quot;</span><span class="s3">;</span>
<a name="l1004"><span class="ln">1004 </span></a>    <span class="s5">/** </span><span class="s6">@event </span><span class="s5">*/</span>
<a name="l1005"><span class="ln">1005 </span></a>    <span class="s2">static </span><span class="s1">readonly CLOSE</span><span class="s3">: </span><span class="s4">&quot;close&quot;</span><span class="s3">;</span>
<a name="l1006"><span class="ln">1006 </span></a>    <span class="s5">/**</span>
<a name="l1007"><span class="ln">1007 </span></a>     <span class="s5">* Fired for each new matching change in the specified namespace. Attaching a `change`</span>
<a name="l1008"><span class="ln">1008 </span></a>     <span class="s5">* event listener to a Change Stream will switch the stream into flowing mode. Data will</span>
<a name="l1009"><span class="ln">1009 </span></a>     <span class="s5">* then be passed as soon as it is available.</span>
<a name="l1010"><span class="ln">1010 </span></a>     <span class="s5">* </span><span class="s6">@event</span>
<a name="l1011"><span class="ln">1011 </span></a>     <span class="s5">*/</span>
<a name="l1012"><span class="ln">1012 </span></a>    <span class="s2">static </span><span class="s1">readonly CHANGE</span><span class="s3">: </span><span class="s4">&quot;change&quot;</span><span class="s3">;</span>
<a name="l1013"><span class="ln">1013 </span></a>    <span class="s5">/** </span><span class="s6">@event </span><span class="s5">*/</span>
<a name="l1014"><span class="ln">1014 </span></a>    <span class="s2">static </span><span class="s1">readonly END</span><span class="s3">: </span><span class="s4">&quot;end&quot;</span><span class="s3">;</span>
<a name="l1015"><span class="ln">1015 </span></a>    <span class="s5">/** </span><span class="s6">@event </span><span class="s5">*/</span>
<a name="l1016"><span class="ln">1016 </span></a>    <span class="s2">static </span><span class="s1">readonly ERROR</span><span class="s3">: </span><span class="s4">&quot;error&quot;</span><span class="s3">;</span>
<a name="l1017"><span class="ln">1017 </span></a>    <span class="s5">/**</span>
<a name="l1018"><span class="ln">1018 </span></a>     <span class="s5">* Emitted each time the change stream stores a new resume token.</span>
<a name="l1019"><span class="ln">1019 </span></a>     <span class="s5">* </span><span class="s6">@event</span>
<a name="l1020"><span class="ln">1020 </span></a>     <span class="s5">*/</span>
<a name="l1021"><span class="ln">1021 </span></a>    <span class="s2">static </span><span class="s1">readonly RESUME_TOKEN_CHANGED</span><span class="s3">: </span><span class="s4">&quot;resumeTokenChanged&quot;</span><span class="s3">;</span>
<a name="l1022"><span class="ln">1022 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l1023"><span class="ln">1023 </span></a>    <span class="s0">/* Excluded from this release type: cursorStream */</span>
<a name="l1024"><span class="ln">1024 </span></a>    <span class="s5">/** The cached resume token that is used to resume after the most recently returned change. */</span>
<a name="l1025"><span class="ln">1025 </span></a>    <span class="s1">get resumeToken</span><span class="s3">(): </span><span class="s1">ResumeToken</span><span class="s3">;</span>
<a name="l1026"><span class="ln">1026 </span></a>    <span class="s5">/** Check if there is any document still available in the Change Stream */</span>
<a name="l1027"><span class="ln">1027 </span></a>    <span class="s1">hasNext</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l1028"><span class="ln">1028 </span></a>    <span class="s5">/** Get the next available document from the Change Stream. */</span>
<a name="l1029"><span class="ln">1029 </span></a>    <span class="s1">next</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">TChange</span><span class="s3">&gt;;</span>
<a name="l1030"><span class="ln">1030 </span></a>    <span class="s5">/**</span>
<a name="l1031"><span class="ln">1031 </span></a>     <span class="s5">* Try to get the next available document from the Change Stream's cursor or `null` if an empty batch is returned</span>
<a name="l1032"><span class="ln">1032 </span></a>     <span class="s5">*/</span>
<a name="l1033"><span class="ln">1033 </span></a>    <span class="s1">tryNext</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">TChange </span><span class="s3">| </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l1034"><span class="ln">1034 </span></a>    <span class="s3">[</span><span class="s1">Symbol</span><span class="s3">.</span><span class="s1">asyncIterator</span><span class="s3">](): </span><span class="s1">AsyncGenerator</span><span class="s3">&lt;</span><span class="s1">TChange</span><span class="s3">, </span><span class="s2">void</span><span class="s3">, </span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l1035"><span class="ln">1035 </span></a>    <span class="s5">/** Is the cursor closed */</span>
<a name="l1036"><span class="ln">1036 </span></a>    <span class="s1">get closed</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1037"><span class="ln">1037 </span></a>    <span class="s5">/** Close the Change Stream */</span>
<a name="l1038"><span class="ln">1038 </span></a>    <span class="s1">close</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l1039"><span class="ln">1039 </span></a>    <span class="s5">/**</span>
<a name="l1040"><span class="ln">1040 </span></a>     <span class="s5">* Return a modified Readable stream including a possible transform method.</span>
<a name="l1041"><span class="ln">1041 </span></a>     <span class="s5">*</span>
<a name="l1042"><span class="ln">1042 </span></a>     <span class="s5">* NOTE: When using a Stream to process change stream events, the stream will</span>
<a name="l1043"><span class="ln">1043 </span></a>     <span class="s5">* NOT automatically resume in the case a resumable error is encountered.</span>
<a name="l1044"><span class="ln">1044 </span></a>     <span class="s5">*</span>
<a name="l1045"><span class="ln">1045 </span></a>     <span class="s5">* </span><span class="s6">@throws </span><span class="s5">MongoChangeStreamError if the underlying cursor or the change stream is closed</span>
<a name="l1046"><span class="ln">1046 </span></a>     <span class="s5">*/</span>
<a name="l1047"><span class="ln">1047 </span></a>    <span class="s1">stream</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CursorStreamOptions</span><span class="s3">): </span><span class="s1">Readable </span><span class="s3">&amp; </span><span class="s1">AsyncIterable</span><span class="s3">&lt;</span><span class="s1">TChange</span><span class="s3">&gt;;</span>
<a name="l1048"><span class="ln">1048 </span></a>    <span class="s0">/* Excluded from this release type: _setIsEmitter */</span>
<a name="l1049"><span class="ln">1049 </span></a>    <span class="s0">/* Excluded from this release type: _setIsIterator */</span>
<a name="l1050"><span class="ln">1050 </span></a>    <span class="s0">/* Excluded from this release type: _createChangeStreamCursor */</span>
<a name="l1051"><span class="ln">1051 </span></a>    <span class="s0">/* Excluded from this release type: _closeEmitterModeWithError */</span>
<a name="l1052"><span class="ln">1052 </span></a>    <span class="s0">/* Excluded from this release type: _streamEvents */</span>
<a name="l1053"><span class="ln">1053 </span></a>    <span class="s0">/* Excluded from this release type: _endStream */</span>
<a name="l1054"><span class="ln">1054 </span></a>    <span class="s0">/* Excluded from this release type: _processChange */</span>
<a name="l1055"><span class="ln">1055 </span></a>    <span class="s0">/* Excluded from this release type: _processErrorStreamMode */</span>
<a name="l1056"><span class="ln">1056 </span></a>    <span class="s0">/* Excluded from this release type: _processErrorIteratorMode */</span>
<a name="l1057"><span class="ln">1057 </span></a><span class="s3">}</span>
<a name="l1058"><span class="ln">1058 </span></a>
<a name="l1059"><span class="ln">1059 </span></a><span class="s0">/* Excluded from this release type: ChangeStreamAggregateRawResult */</span>
<a name="l1060"><span class="ln">1060 </span></a>
<a name="l1061"><span class="ln">1061 </span></a><span class="s5">/**</span>
<a name="l1062"><span class="ln">1062 </span></a> <span class="s5">* Only present when the `showExpandedEvents` flag is enabled.</span>
<a name="l1063"><span class="ln">1063 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1064"><span class="ln">1064 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/</span>
<a name="l1065"><span class="ln">1065 </span></a> <span class="s5">*/</span>
<a name="l1066"><span class="ln">1066 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamCollModDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1067"><span class="ln">1067 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1068"><span class="ln">1068 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'modify'</span><span class="s3">;</span>
<a name="l1069"><span class="ln">1069 </span></a><span class="s3">}</span>
<a name="l1070"><span class="ln">1070 </span></a>
<a name="l1071"><span class="ln">1071 </span></a><span class="s5">/**</span>
<a name="l1072"><span class="ln">1072 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1073"><span class="ln">1073 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/</span>
<a name="l1074"><span class="ln">1074 </span></a> <span class="s5">*/</span>
<a name="l1075"><span class="ln">1075 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamCreateDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1076"><span class="ln">1076 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1077"><span class="ln">1077 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'create'</span><span class="s3">;</span>
<a name="l1078"><span class="ln">1078 </span></a><span class="s3">}</span>
<a name="l1079"><span class="ln">1079 </span></a>
<a name="l1080"><span class="ln">1080 </span></a><span class="s5">/**</span>
<a name="l1081"><span class="ln">1081 </span></a> <span class="s5">* Only present when the `showExpandedEvents` flag is enabled.</span>
<a name="l1082"><span class="ln">1082 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1083"><span class="ln">1083 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/</span>
<a name="l1084"><span class="ln">1084 </span></a> <span class="s5">*/</span>
<a name="l1085"><span class="ln">1085 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamCreateIndexDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentOperationDescription </span><span class="s3">{</span>
<a name="l1086"><span class="ln">1086 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1087"><span class="ln">1087 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'createIndexes'</span><span class="s3">;</span>
<a name="l1088"><span class="ln">1088 </span></a><span class="s3">}</span>
<a name="l1089"><span class="ln">1089 </span></a>
<a name="l1090"><span class="ln">1090 </span></a><span class="s0">/* Excluded from this release type: ChangeStreamCursor */</span>
<a name="l1091"><span class="ln">1091 </span></a>
<a name="l1092"><span class="ln">1092 </span></a><span class="s0">/* Excluded from this release type: ChangeStreamCursorOptions */</span>
<a name="l1093"><span class="ln">1093 </span></a>
<a name="l1094"><span class="ln">1094 </span></a><span class="s5">/**</span>
<a name="l1095"><span class="ln">1095 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1096"><span class="ln">1096 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#delete-event</span>
<a name="l1097"><span class="ln">1097 </span></a> <span class="s5">*/</span>
<a name="l1098"><span class="ln">1098 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDeleteDocument</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentKey</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1099"><span class="ln">1099 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1100"><span class="ln">1100 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'delete'</span><span class="s3">;</span>
<a name="l1101"><span class="ln">1101 </span></a>    <span class="s5">/** Namespace the delete event occurred on */</span>
<a name="l1102"><span class="ln">1102 </span></a>    <span class="s1">ns</span><span class="s3">: </span><span class="s1">ChangeStreamNameSpace</span><span class="s3">;</span>
<a name="l1103"><span class="ln">1103 </span></a>    <span class="s5">/**</span>
<a name="l1104"><span class="ln">1104 </span></a>     <span class="s5">* Contains the pre-image of the modified or deleted document if the</span>
<a name="l1105"><span class="ln">1105 </span></a>     <span class="s5">* pre-image is available for the change event and either 'required' or</span>
<a name="l1106"><span class="ln">1106 </span></a>     <span class="s5">* 'whenAvailable' was specified for the 'fullDocumentBeforeChange' option</span>
<a name="l1107"><span class="ln">1107 </span></a>     <span class="s5">* when creating the change stream. If 'whenAvailable' was specified but the</span>
<a name="l1108"><span class="ln">1108 </span></a>     <span class="s5">* pre-image is unavailable, this will be explicitly set to null.</span>
<a name="l1109"><span class="ln">1109 </span></a>     <span class="s5">*/</span>
<a name="l1110"><span class="ln">1110 </span></a>    <span class="s1">fullDocumentBeforeChange</span><span class="s3">?: </span><span class="s1">TSchema</span><span class="s3">;</span>
<a name="l1111"><span class="ln">1111 </span></a><span class="s3">}</span>
<a name="l1112"><span class="ln">1112 </span></a>
<a name="l1113"><span class="ln">1113 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1114"><span class="ln">1114 </span></a><span class="s2">export </span><span class="s1">declare type ChangeStreamDocument</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; = </span><span class="s1">ChangeStreamInsertDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">ChangeStreamUpdateDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">ChangeStreamReplaceDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">ChangeStreamDeleteDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">ChangeStreamDropDocument </span><span class="s3">| </span><span class="s1">ChangeStreamRenameDocument </span><span class="s3">| </span><span class="s1">ChangeStreamDropDatabaseDocument </span><span class="s3">| </span><span class="s1">ChangeStreamInvalidateDocument </span><span class="s3">| </span><span class="s1">ChangeStreamCreateIndexDocument </span><span class="s3">| </span><span class="s1">ChangeStreamCreateDocument </span><span class="s3">| </span><span class="s1">ChangeStreamCollModDocument </span><span class="s3">| </span><span class="s1">ChangeStreamDropIndexDocument </span><span class="s3">| </span><span class="s1">ChangeStreamShardCollectionDocument </span><span class="s3">| </span><span class="s1">ChangeStreamReshardCollectionDocument </span><span class="s3">| </span><span class="s1">ChangeStreamRefineCollectionShardKeyDocument</span><span class="s3">;</span>
<a name="l1115"><span class="ln">1115 </span></a>
<a name="l1116"><span class="ln">1116 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1117"><span class="ln">1117 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1118"><span class="ln">1118 </span></a>    <span class="s5">/**</span>
<a name="l1119"><span class="ln">1119 </span></a>     <span class="s5">* The UUID (Binary subtype 4) of the collection that the operation was performed on.</span>
<a name="l1120"><span class="ln">1120 </span></a>     <span class="s5">*</span>
<a name="l1121"><span class="ln">1121 </span></a>     <span class="s5">* Only present when the `showExpandedEvents` flag is enabled.</span>
<a name="l1122"><span class="ln">1122 </span></a>     <span class="s5">*</span>
<a name="l1123"><span class="ln">1123 </span></a>     <span class="s5">* **NOTE:** collectionUUID will be converted to a NodeJS Buffer if the promoteBuffers</span>
<a name="l1124"><span class="ln">1124 </span></a>     <span class="s5">*    flag is enabled.</span>
<a name="l1125"><span class="ln">1125 </span></a>     <span class="s5">*</span>
<a name="l1126"><span class="ln">1126 </span></a>     <span class="s5">* </span><span class="s6">@sinceServerVersion </span><span class="s5">6.1.0</span>
<a name="l1127"><span class="ln">1127 </span></a>     <span class="s5">*/</span>
<a name="l1128"><span class="ln">1128 </span></a>    <span class="s1">collectionUUID</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l1129"><span class="ln">1129 </span></a><span class="s3">}</span>
<a name="l1130"><span class="ln">1130 </span></a>
<a name="l1131"><span class="ln">1131 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1132"><span class="ln">1132 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDocumentCommon </span><span class="s3">{</span>
<a name="l1133"><span class="ln">1133 </span></a>    <span class="s5">/**</span>
<a name="l1134"><span class="ln">1134 </span></a>     <span class="s5">* The id functions as an opaque token for use when resuming an interrupted</span>
<a name="l1135"><span class="ln">1135 </span></a>     <span class="s5">* change stream.</span>
<a name="l1136"><span class="ln">1136 </span></a>     <span class="s5">*/</span>
<a name="l1137"><span class="ln">1137 </span></a>    <span class="s1">_id</span><span class="s3">: </span><span class="s1">ResumeToken</span><span class="s3">;</span>
<a name="l1138"><span class="ln">1138 </span></a>    <span class="s5">/**</span>
<a name="l1139"><span class="ln">1139 </span></a>     <span class="s5">* The timestamp from the oplog entry associated with the event.</span>
<a name="l1140"><span class="ln">1140 </span></a>     <span class="s5">* For events that happened as part of a multi-document transaction, the associated change stream</span>
<a name="l1141"><span class="ln">1141 </span></a>     <span class="s5">* notifications will have the same clusterTime value, namely the time when the transaction was committed.</span>
<a name="l1142"><span class="ln">1142 </span></a>     <span class="s5">* On a sharded cluster, events that occur on different shards can have the same clusterTime but be</span>
<a name="l1143"><span class="ln">1143 </span></a>     <span class="s5">* associated with different transactions or even not be associated with any transaction.</span>
<a name="l1144"><span class="ln">1144 </span></a>     <span class="s5">* To identify events for a single transaction, you can use the combination of lsid and txnNumber in the change stream event document.</span>
<a name="l1145"><span class="ln">1145 </span></a>     <span class="s5">*/</span>
<a name="l1146"><span class="ln">1146 </span></a>    <span class="s1">clusterTime</span><span class="s3">?: </span><span class="s1">Timestamp</span><span class="s3">;</span>
<a name="l1147"><span class="ln">1147 </span></a>    <span class="s5">/**</span>
<a name="l1148"><span class="ln">1148 </span></a>     <span class="s5">* The transaction number.</span>
<a name="l1149"><span class="ln">1149 </span></a>     <span class="s5">* Only present if the operation is part of a multi-document transaction.</span>
<a name="l1150"><span class="ln">1150 </span></a>     <span class="s5">*</span>
<a name="l1151"><span class="ln">1151 </span></a>     <span class="s5">* **NOTE:** txnNumber can be a Long if promoteLongs is set to false</span>
<a name="l1152"><span class="ln">1152 </span></a>     <span class="s5">*/</span>
<a name="l1153"><span class="ln">1153 </span></a>    <span class="s1">txnNumber</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l1154"><span class="ln">1154 </span></a>    <span class="s5">/**</span>
<a name="l1155"><span class="ln">1155 </span></a>     <span class="s5">* The identifier for the session associated with the transaction.</span>
<a name="l1156"><span class="ln">1156 </span></a>     <span class="s5">* Only present if the operation is part of a multi-document transaction.</span>
<a name="l1157"><span class="ln">1157 </span></a>     <span class="s5">*/</span>
<a name="l1158"><span class="ln">1158 </span></a>    <span class="s1">lsid</span><span class="s3">?: </span><span class="s1">ServerSessionId</span><span class="s3">;</span>
<a name="l1159"><span class="ln">1159 </span></a>    <span class="s5">/**</span>
<a name="l1160"><span class="ln">1160 </span></a>     <span class="s5">* When the change stream's backing aggregation pipeline contains the $changeStreamSplitLargeEvent</span>
<a name="l1161"><span class="ln">1161 </span></a>     <span class="s5">* stage, events larger than 16MB will be split into multiple events and contain the</span>
<a name="l1162"><span class="ln">1162 </span></a>     <span class="s5">* following information about which fragment the current event is.</span>
<a name="l1163"><span class="ln">1163 </span></a>     <span class="s5">*/</span>
<a name="l1164"><span class="ln">1164 </span></a>    <span class="s1">splitEvent</span><span class="s3">?: </span><span class="s1">ChangeStreamSplitEvent</span><span class="s3">;</span>
<a name="l1165"><span class="ln">1165 </span></a><span class="s3">}</span>
<a name="l1166"><span class="ln">1166 </span></a>
<a name="l1167"><span class="ln">1167 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1168"><span class="ln">1168 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDocumentKey</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l1169"><span class="ln">1169 </span></a>    <span class="s5">/**</span>
<a name="l1170"><span class="ln">1170 </span></a>     <span class="s5">* For unsharded collections this contains a single field `_id`.</span>
<a name="l1171"><span class="ln">1171 </span></a>     <span class="s5">* For sharded collections, this will contain all the components of the shard key</span>
<a name="l1172"><span class="ln">1172 </span></a>     <span class="s5">*/</span>
<a name="l1173"><span class="ln">1173 </span></a>    <span class="s1">documentKey</span><span class="s3">: {</span>
<a name="l1174"><span class="ln">1174 </span></a>        <span class="s1">_id</span><span class="s3">: </span><span class="s1">InferIdType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l1175"><span class="ln">1175 </span></a>        <span class="s3">[</span><span class="s1">shardKey</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l1176"><span class="ln">1176 </span></a>    <span class="s3">};</span>
<a name="l1177"><span class="ln">1177 </span></a><span class="s3">}</span>
<a name="l1178"><span class="ln">1178 </span></a>
<a name="l1179"><span class="ln">1179 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1180"><span class="ln">1180 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDocumentOperationDescription </span><span class="s3">{</span>
<a name="l1181"><span class="ln">1181 </span></a>    <span class="s5">/**</span>
<a name="l1182"><span class="ln">1182 </span></a>     <span class="s5">* An description of the operation.</span>
<a name="l1183"><span class="ln">1183 </span></a>     <span class="s5">*</span>
<a name="l1184"><span class="ln">1184 </span></a>     <span class="s5">* Only present when the `showExpandedEvents` flag is enabled.</span>
<a name="l1185"><span class="ln">1185 </span></a>     <span class="s5">*</span>
<a name="l1186"><span class="ln">1186 </span></a>     <span class="s5">* </span><span class="s6">@sinceServerVersion </span><span class="s5">6.1.0</span>
<a name="l1187"><span class="ln">1187 </span></a>     <span class="s5">*/</span>
<a name="l1188"><span class="ln">1188 </span></a>    <span class="s1">operationDescription</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l1189"><span class="ln">1189 </span></a><span class="s3">}</span>
<a name="l1190"><span class="ln">1190 </span></a>
<a name="l1191"><span class="ln">1191 </span></a><span class="s5">/**</span>
<a name="l1192"><span class="ln">1192 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1193"><span class="ln">1193 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#dropdatabase-event</span>
<a name="l1194"><span class="ln">1194 </span></a> <span class="s5">*/</span>
<a name="l1195"><span class="ln">1195 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDropDatabaseDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon </span><span class="s3">{</span>
<a name="l1196"><span class="ln">1196 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1197"><span class="ln">1197 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'dropDatabase'</span><span class="s3">;</span>
<a name="l1198"><span class="ln">1198 </span></a>    <span class="s5">/** The database dropped */</span>
<a name="l1199"><span class="ln">1199 </span></a>    <span class="s1">ns</span><span class="s3">: {</span>
<a name="l1200"><span class="ln">1200 </span></a>        <span class="s1">db</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1201"><span class="ln">1201 </span></a>    <span class="s3">};</span>
<a name="l1202"><span class="ln">1202 </span></a><span class="s3">}</span>
<a name="l1203"><span class="ln">1203 </span></a>
<a name="l1204"><span class="ln">1204 </span></a><span class="s5">/**</span>
<a name="l1205"><span class="ln">1205 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1206"><span class="ln">1206 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#drop-event</span>
<a name="l1207"><span class="ln">1207 </span></a> <span class="s5">*/</span>
<a name="l1208"><span class="ln">1208 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDropDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1209"><span class="ln">1209 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1210"><span class="ln">1210 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'drop'</span><span class="s3">;</span>
<a name="l1211"><span class="ln">1211 </span></a>    <span class="s5">/** Namespace the drop event occurred on */</span>
<a name="l1212"><span class="ln">1212 </span></a>    <span class="s1">ns</span><span class="s3">: </span><span class="s1">ChangeStreamNameSpace</span><span class="s3">;</span>
<a name="l1213"><span class="ln">1213 </span></a><span class="s3">}</span>
<a name="l1214"><span class="ln">1214 </span></a>
<a name="l1215"><span class="ln">1215 </span></a><span class="s5">/**</span>
<a name="l1216"><span class="ln">1216 </span></a> <span class="s5">* Only present when the `showExpandedEvents` flag is enabled.</span>
<a name="l1217"><span class="ln">1217 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1218"><span class="ln">1218 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/</span>
<a name="l1219"><span class="ln">1219 </span></a> <span class="s5">*/</span>
<a name="l1220"><span class="ln">1220 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamDropIndexDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentOperationDescription </span><span class="s3">{</span>
<a name="l1221"><span class="ln">1221 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1222"><span class="ln">1222 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'dropIndexes'</span><span class="s3">;</span>
<a name="l1223"><span class="ln">1223 </span></a><span class="s3">}</span>
<a name="l1224"><span class="ln">1224 </span></a>
<a name="l1225"><span class="ln">1225 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1226"><span class="ln">1226 </span></a><span class="s2">export </span><span class="s1">declare type ChangeStreamEvents</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">TChange </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">ChangeStreamDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt; = {</span>
<a name="l1227"><span class="ln">1227 </span></a>    <span class="s1">resumeTokenChanged</span><span class="s3">(</span><span class="s1">token</span><span class="s3">: </span><span class="s1">ResumeToken</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1228"><span class="ln">1228 </span></a>    <span class="s1">init</span><span class="s3">(</span><span class="s1">response</span><span class="s3">: </span><span class="s1">any</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1229"><span class="ln">1229 </span></a>    <span class="s1">more</span><span class="s3">(</span><span class="s1">response</span><span class="s3">?: </span><span class="s1">any</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1230"><span class="ln">1230 </span></a>    <span class="s1">response</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1231"><span class="ln">1231 </span></a>    <span class="s1">end</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1232"><span class="ln">1232 </span></a>    <span class="s1">error</span><span class="s3">(</span><span class="s1">error</span><span class="s3">: </span><span class="s1">Error</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1233"><span class="ln">1233 </span></a>    <span class="s1">change</span><span class="s3">(</span><span class="s1">change</span><span class="s3">: </span><span class="s1">TChange</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1234"><span class="ln">1234 </span></a><span class="s3">} &amp; </span><span class="s1">AbstractCursorEvents</span><span class="s3">;</span>
<a name="l1235"><span class="ln">1235 </span></a>
<a name="l1236"><span class="ln">1236 </span></a><span class="s5">/**</span>
<a name="l1237"><span class="ln">1237 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1238"><span class="ln">1238 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#insert-event</span>
<a name="l1239"><span class="ln">1239 </span></a> <span class="s5">*/</span>
<a name="l1240"><span class="ln">1240 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamInsertDocument</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentKey</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1241"><span class="ln">1241 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1242"><span class="ln">1242 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'insert'</span><span class="s3">;</span>
<a name="l1243"><span class="ln">1243 </span></a>    <span class="s5">/** This key will contain the document being inserted */</span>
<a name="l1244"><span class="ln">1244 </span></a>    <span class="s1">fullDocument</span><span class="s3">: </span><span class="s1">TSchema</span><span class="s3">;</span>
<a name="l1245"><span class="ln">1245 </span></a>    <span class="s5">/** Namespace the insert event occurred on */</span>
<a name="l1246"><span class="ln">1246 </span></a>    <span class="s1">ns</span><span class="s3">: </span><span class="s1">ChangeStreamNameSpace</span><span class="s3">;</span>
<a name="l1247"><span class="ln">1247 </span></a><span class="s3">}</span>
<a name="l1248"><span class="ln">1248 </span></a>
<a name="l1249"><span class="ln">1249 </span></a><span class="s5">/**</span>
<a name="l1250"><span class="ln">1250 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1251"><span class="ln">1251 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#invalidate-event</span>
<a name="l1252"><span class="ln">1252 </span></a> <span class="s5">*/</span>
<a name="l1253"><span class="ln">1253 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamInvalidateDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon </span><span class="s3">{</span>
<a name="l1254"><span class="ln">1254 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1255"><span class="ln">1255 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'invalidate'</span><span class="s3">;</span>
<a name="l1256"><span class="ln">1256 </span></a><span class="s3">}</span>
<a name="l1257"><span class="ln">1257 </span></a>
<a name="l1258"><span class="ln">1258 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1259"><span class="ln">1259 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamNameSpace </span><span class="s3">{</span>
<a name="l1260"><span class="ln">1260 </span></a>    <span class="s1">db</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1261"><span class="ln">1261 </span></a>    <span class="s1">coll</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1262"><span class="ln">1262 </span></a><span class="s3">}</span>
<a name="l1263"><span class="ln">1263 </span></a>
<a name="l1264"><span class="ln">1264 </span></a><span class="s5">/**</span>
<a name="l1265"><span class="ln">1265 </span></a> <span class="s5">* Options that can be passed to a ChangeStream. Note that startAfter, resumeAfter, and startAtOperationTime are all mutually exclusive, and the server will error if more than one is specified.</span>
<a name="l1266"><span class="ln">1266 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1267"><span class="ln">1267 </span></a> <span class="s5">*/</span>
<a name="l1268"><span class="ln">1268 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamOptions </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">AggregateOptions</span><span class="s3">, </span><span class="s4">'writeConcern'</span><span class="s3">&gt; {</span>
<a name="l1269"><span class="ln">1269 </span></a>    <span class="s5">/**</span>
<a name="l1270"><span class="ln">1270 </span></a>     <span class="s5">* Allowed values: 'updateLookup', 'whenAvailable', 'required'.</span>
<a name="l1271"><span class="ln">1271 </span></a>     <span class="s5">*</span>
<a name="l1272"><span class="ln">1272 </span></a>     <span class="s5">* When set to 'updateLookup', the change notification for partial updates</span>
<a name="l1273"><span class="ln">1273 </span></a>     <span class="s5">* will include both a delta describing the changes to the document as well</span>
<a name="l1274"><span class="ln">1274 </span></a>     <span class="s5">* as a copy of the entire document that was changed from some time after</span>
<a name="l1275"><span class="ln">1275 </span></a>     <span class="s5">* the change occurred.</span>
<a name="l1276"><span class="ln">1276 </span></a>     <span class="s5">*</span>
<a name="l1277"><span class="ln">1277 </span></a>     <span class="s5">* When set to 'whenAvailable', configures the change stream to return the</span>
<a name="l1278"><span class="ln">1278 </span></a>     <span class="s5">* post-image of the modified document for replace and update change events</span>
<a name="l1279"><span class="ln">1279 </span></a>     <span class="s5">* if the post-image for this event is available.</span>
<a name="l1280"><span class="ln">1280 </span></a>     <span class="s5">*</span>
<a name="l1281"><span class="ln">1281 </span></a>     <span class="s5">* When set to 'required', the same behavior as 'whenAvailable' except that</span>
<a name="l1282"><span class="ln">1282 </span></a>     <span class="s5">* an error is raised if the post-image is not available.</span>
<a name="l1283"><span class="ln">1283 </span></a>     <span class="s5">*/</span>
<a name="l1284"><span class="ln">1284 </span></a>    <span class="s1">fullDocument</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1285"><span class="ln">1285 </span></a>    <span class="s5">/**</span>
<a name="l1286"><span class="ln">1286 </span></a>     <span class="s5">* Allowed values: 'whenAvailable', 'required', 'off'.</span>
<a name="l1287"><span class="ln">1287 </span></a>     <span class="s5">*</span>
<a name="l1288"><span class="ln">1288 </span></a>     <span class="s5">* The default is to not send a value, which is equivalent to 'off'.</span>
<a name="l1289"><span class="ln">1289 </span></a>     <span class="s5">*</span>
<a name="l1290"><span class="ln">1290 </span></a>     <span class="s5">* When set to 'whenAvailable', configures the change stream to return the</span>
<a name="l1291"><span class="ln">1291 </span></a>     <span class="s5">* pre-image of the modified document for replace, update, and delete change</span>
<a name="l1292"><span class="ln">1292 </span></a>     <span class="s5">* events if it is available.</span>
<a name="l1293"><span class="ln">1293 </span></a>     <span class="s5">*</span>
<a name="l1294"><span class="ln">1294 </span></a>     <span class="s5">* When set to 'required', the same behavior as 'whenAvailable' except that</span>
<a name="l1295"><span class="ln">1295 </span></a>     <span class="s5">* an error is raised if the pre-image is not available.</span>
<a name="l1296"><span class="ln">1296 </span></a>     <span class="s5">*/</span>
<a name="l1297"><span class="ln">1297 </span></a>    <span class="s1">fullDocumentBeforeChange</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1298"><span class="ln">1298 </span></a>    <span class="s5">/** The maximum amount of time for the server to wait on new documents to satisfy a change stream query. */</span>
<a name="l1299"><span class="ln">1299 </span></a>    <span class="s1">maxAwaitTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l1300"><span class="ln">1300 </span></a>    <span class="s5">/**</span>
<a name="l1301"><span class="ln">1301 </span></a>     <span class="s5">* Allows you to start a changeStream after a specified event.</span>
<a name="l1302"><span class="ln">1302 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/changeStreams/#resumeafter-for-change-streams</span>
<a name="l1303"><span class="ln">1303 </span></a>     <span class="s5">*/</span>
<a name="l1304"><span class="ln">1304 </span></a>    <span class="s1">resumeAfter</span><span class="s3">?: </span><span class="s1">ResumeToken</span><span class="s3">;</span>
<a name="l1305"><span class="ln">1305 </span></a>    <span class="s5">/**</span>
<a name="l1306"><span class="ln">1306 </span></a>     <span class="s5">* Similar to resumeAfter, but will allow you to start after an invalidated event.</span>
<a name="l1307"><span class="ln">1307 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/changeStreams/#startafter-for-change-streams</span>
<a name="l1308"><span class="ln">1308 </span></a>     <span class="s5">*/</span>
<a name="l1309"><span class="ln">1309 </span></a>    <span class="s1">startAfter</span><span class="s3">?: </span><span class="s1">ResumeToken</span><span class="s3">;</span>
<a name="l1310"><span class="ln">1310 </span></a>    <span class="s5">/** Will start the changeStream after the specified operationTime. */</span>
<a name="l1311"><span class="ln">1311 </span></a>    <span class="s1">startAtOperationTime</span><span class="s3">?: </span><span class="s1">OperationTime</span><span class="s3">;</span>
<a name="l1312"><span class="ln">1312 </span></a>    <span class="s5">/**</span>
<a name="l1313"><span class="ln">1313 </span></a>     <span class="s5">* The number of documents to return per batch.</span>
<a name="l1314"><span class="ln">1314 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/command/aggregate</span>
<a name="l1315"><span class="ln">1315 </span></a>     <span class="s5">*/</span>
<a name="l1316"><span class="ln">1316 </span></a>    <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l1317"><span class="ln">1317 </span></a>    <span class="s5">/**</span>
<a name="l1318"><span class="ln">1318 </span></a>     <span class="s5">* When enabled, configures the change stream to include extra change events.</span>
<a name="l1319"><span class="ln">1319 </span></a>     <span class="s5">*</span>
<a name="l1320"><span class="ln">1320 </span></a>     <span class="s5">* - createIndexes</span>
<a name="l1321"><span class="ln">1321 </span></a>     <span class="s5">* - dropIndexes</span>
<a name="l1322"><span class="ln">1322 </span></a>     <span class="s5">* - modify</span>
<a name="l1323"><span class="ln">1323 </span></a>     <span class="s5">* - create</span>
<a name="l1324"><span class="ln">1324 </span></a>     <span class="s5">* - shardCollection</span>
<a name="l1325"><span class="ln">1325 </span></a>     <span class="s5">* - reshardCollection</span>
<a name="l1326"><span class="ln">1326 </span></a>     <span class="s5">* - refineCollectionShardKey</span>
<a name="l1327"><span class="ln">1327 </span></a>     <span class="s5">*/</span>
<a name="l1328"><span class="ln">1328 </span></a>    <span class="s1">showExpandedEvents</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1329"><span class="ln">1329 </span></a><span class="s3">}</span>
<a name="l1330"><span class="ln">1330 </span></a>
<a name="l1331"><span class="ln">1331 </span></a><span class="s5">/**</span>
<a name="l1332"><span class="ln">1332 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1333"><span class="ln">1333 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/</span>
<a name="l1334"><span class="ln">1334 </span></a> <span class="s5">*/</span>
<a name="l1335"><span class="ln">1335 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamRefineCollectionShardKeyDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentOperationDescription </span><span class="s3">{</span>
<a name="l1336"><span class="ln">1336 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1337"><span class="ln">1337 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'refineCollectionShardKey'</span><span class="s3">;</span>
<a name="l1338"><span class="ln">1338 </span></a><span class="s3">}</span>
<a name="l1339"><span class="ln">1339 </span></a>
<a name="l1340"><span class="ln">1340 </span></a><span class="s5">/**</span>
<a name="l1341"><span class="ln">1341 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1342"><span class="ln">1342 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#rename-event</span>
<a name="l1343"><span class="ln">1343 </span></a> <span class="s5">*/</span>
<a name="l1344"><span class="ln">1344 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamRenameDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1345"><span class="ln">1345 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1346"><span class="ln">1346 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'rename'</span><span class="s3">;</span>
<a name="l1347"><span class="ln">1347 </span></a>    <span class="s5">/** The new name for the `ns.coll` collection */</span>
<a name="l1348"><span class="ln">1348 </span></a>    <span class="s1">to</span><span class="s3">: {</span>
<a name="l1349"><span class="ln">1349 </span></a>        <span class="s1">db</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1350"><span class="ln">1350 </span></a>        <span class="s1">coll</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1351"><span class="ln">1351 </span></a>    <span class="s3">};</span>
<a name="l1352"><span class="ln">1352 </span></a>    <span class="s5">/** The &quot;from&quot; namespace that the rename occurred on */</span>
<a name="l1353"><span class="ln">1353 </span></a>    <span class="s1">ns</span><span class="s3">: </span><span class="s1">ChangeStreamNameSpace</span><span class="s3">;</span>
<a name="l1354"><span class="ln">1354 </span></a><span class="s3">}</span>
<a name="l1355"><span class="ln">1355 </span></a>
<a name="l1356"><span class="ln">1356 </span></a><span class="s5">/**</span>
<a name="l1357"><span class="ln">1357 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1358"><span class="ln">1358 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#replace-event</span>
<a name="l1359"><span class="ln">1359 </span></a> <span class="s5">*/</span>
<a name="l1360"><span class="ln">1360 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamReplaceDocument</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentKey</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; {</span>
<a name="l1361"><span class="ln">1361 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1362"><span class="ln">1362 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'replace'</span><span class="s3">;</span>
<a name="l1363"><span class="ln">1363 </span></a>    <span class="s5">/** The fullDocument of a replace event represents the document after the insert of the replacement document */</span>
<a name="l1364"><span class="ln">1364 </span></a>    <span class="s1">fullDocument</span><span class="s3">: </span><span class="s1">TSchema</span><span class="s3">;</span>
<a name="l1365"><span class="ln">1365 </span></a>    <span class="s5">/** Namespace the replace event occurred on */</span>
<a name="l1366"><span class="ln">1366 </span></a>    <span class="s1">ns</span><span class="s3">: </span><span class="s1">ChangeStreamNameSpace</span><span class="s3">;</span>
<a name="l1367"><span class="ln">1367 </span></a>    <span class="s5">/**</span>
<a name="l1368"><span class="ln">1368 </span></a>     <span class="s5">* Contains the pre-image of the modified or deleted document if the</span>
<a name="l1369"><span class="ln">1369 </span></a>     <span class="s5">* pre-image is available for the change event and either 'required' or</span>
<a name="l1370"><span class="ln">1370 </span></a>     <span class="s5">* 'whenAvailable' was specified for the 'fullDocumentBeforeChange' option</span>
<a name="l1371"><span class="ln">1371 </span></a>     <span class="s5">* when creating the change stream. If 'whenAvailable' was specified but the</span>
<a name="l1372"><span class="ln">1372 </span></a>     <span class="s5">* pre-image is unavailable, this will be explicitly set to null.</span>
<a name="l1373"><span class="ln">1373 </span></a>     <span class="s5">*/</span>
<a name="l1374"><span class="ln">1374 </span></a>    <span class="s1">fullDocumentBeforeChange</span><span class="s3">?: </span><span class="s1">TSchema</span><span class="s3">;</span>
<a name="l1375"><span class="ln">1375 </span></a><span class="s3">}</span>
<a name="l1376"><span class="ln">1376 </span></a>
<a name="l1377"><span class="ln">1377 </span></a><span class="s5">/**</span>
<a name="l1378"><span class="ln">1378 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1379"><span class="ln">1379 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/</span>
<a name="l1380"><span class="ln">1380 </span></a> <span class="s5">*/</span>
<a name="l1381"><span class="ln">1381 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamReshardCollectionDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentOperationDescription </span><span class="s3">{</span>
<a name="l1382"><span class="ln">1382 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1383"><span class="ln">1383 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'reshardCollection'</span><span class="s3">;</span>
<a name="l1384"><span class="ln">1384 </span></a><span class="s3">}</span>
<a name="l1385"><span class="ln">1385 </span></a>
<a name="l1386"><span class="ln">1386 </span></a><span class="s5">/**</span>
<a name="l1387"><span class="ln">1387 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1388"><span class="ln">1388 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/</span>
<a name="l1389"><span class="ln">1389 </span></a> <span class="s5">*/</span>
<a name="l1390"><span class="ln">1390 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamShardCollectionDocument </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentCollectionUUID</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentOperationDescription </span><span class="s3">{</span>
<a name="l1391"><span class="ln">1391 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1392"><span class="ln">1392 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'shardCollection'</span><span class="s3">;</span>
<a name="l1393"><span class="ln">1393 </span></a><span class="s3">}</span>
<a name="l1394"><span class="ln">1394 </span></a>
<a name="l1395"><span class="ln">1395 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1396"><span class="ln">1396 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamSplitEvent </span><span class="s3">{</span>
<a name="l1397"><span class="ln">1397 </span></a>    <span class="s5">/** Which fragment of the change this is. */</span>
<a name="l1398"><span class="ln">1398 </span></a>    <span class="s1">fragment</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l1399"><span class="ln">1399 </span></a>    <span class="s5">/** The total number of fragments. */</span>
<a name="l1400"><span class="ln">1400 </span></a>    <span class="s1">of</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l1401"><span class="ln">1401 </span></a><span class="s3">}</span>
<a name="l1402"><span class="ln">1402 </span></a>
<a name="l1403"><span class="ln">1403 </span></a><span class="s5">/**</span>
<a name="l1404"><span class="ln">1404 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1405"><span class="ln">1405 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/change-events/#update-event</span>
<a name="l1406"><span class="ln">1406 </span></a> <span class="s5">*/</span>
<a name="l1407"><span class="ln">1407 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ChangeStreamUpdateDocument</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">ChangeStreamDocumentCommon</span><span class="s3">, </span><span class="s1">ChangeStreamDocumentKey</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">ChangeStreamDocumentCollectionUUID </span><span class="s3">{</span>
<a name="l1408"><span class="ln">1408 </span></a>    <span class="s5">/** Describes the type of operation represented in this change notification */</span>
<a name="l1409"><span class="ln">1409 </span></a>    <span class="s1">operationType</span><span class="s3">: </span><span class="s4">'update'</span><span class="s3">;</span>
<a name="l1410"><span class="ln">1410 </span></a>    <span class="s5">/**</span>
<a name="l1411"><span class="ln">1411 </span></a>     <span class="s5">* This is only set if `fullDocument` is set to `'updateLookup'`</span>
<a name="l1412"><span class="ln">1412 </span></a>     <span class="s5">* Contains the point-in-time post-image of the modified document if the</span>
<a name="l1413"><span class="ln">1413 </span></a>     <span class="s5">* post-image is available and either 'required' or 'whenAvailable' was</span>
<a name="l1414"><span class="ln">1414 </span></a>     <span class="s5">* specified for the 'fullDocument' option when creating the change stream.</span>
<a name="l1415"><span class="ln">1415 </span></a>     <span class="s5">*/</span>
<a name="l1416"><span class="ln">1416 </span></a>    <span class="s1">fullDocument</span><span class="s3">?: </span><span class="s1">TSchema</span><span class="s3">;</span>
<a name="l1417"><span class="ln">1417 </span></a>    <span class="s5">/** Contains a description of updated and removed fields in this operation */</span>
<a name="l1418"><span class="ln">1418 </span></a>    <span class="s1">updateDescription</span><span class="s3">: </span><span class="s1">UpdateDescription</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l1419"><span class="ln">1419 </span></a>    <span class="s5">/** Namespace the update event occurred on */</span>
<a name="l1420"><span class="ln">1420 </span></a>    <span class="s1">ns</span><span class="s3">: </span><span class="s1">ChangeStreamNameSpace</span><span class="s3">;</span>
<a name="l1421"><span class="ln">1421 </span></a>    <span class="s5">/**</span>
<a name="l1422"><span class="ln">1422 </span></a>     <span class="s5">* Contains the pre-image of the modified or deleted document if the</span>
<a name="l1423"><span class="ln">1423 </span></a>     <span class="s5">* pre-image is available for the change event and either 'required' or</span>
<a name="l1424"><span class="ln">1424 </span></a>     <span class="s5">* 'whenAvailable' was specified for the 'fullDocumentBeforeChange' option</span>
<a name="l1425"><span class="ln">1425 </span></a>     <span class="s5">* when creating the change stream. If 'whenAvailable' was specified but the</span>
<a name="l1426"><span class="ln">1426 </span></a>     <span class="s5">* pre-image is unavailable, this will be explicitly set to null.</span>
<a name="l1427"><span class="ln">1427 </span></a>     <span class="s5">*/</span>
<a name="l1428"><span class="ln">1428 </span></a>    <span class="s1">fullDocumentBeforeChange</span><span class="s3">?: </span><span class="s1">TSchema</span><span class="s3">;</span>
<a name="l1429"><span class="ln">1429 </span></a><span class="s3">}</span>
<a name="l1430"><span class="ln">1430 </span></a>
<a name="l1431"><span class="ln">1431 </span></a><span class="s5">/**</span>
<a name="l1432"><span class="ln">1432 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1433"><span class="ln">1433 </span></a> <span class="s5">* The public interface for explicit in-use encryption</span>
<a name="l1434"><span class="ln">1434 </span></a> <span class="s5">*/</span>
<a name="l1435"><span class="ln">1435 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ClientEncryption </span><span class="s3">{</span>
<a name="l1436"><span class="ln">1436 </span></a>    <span class="s0">/* Excluded from this release type: _client */</span>
<a name="l1437"><span class="ln">1437 </span></a>    <span class="s0">/* Excluded from this release type: _keyVaultNamespace */</span>
<a name="l1438"><span class="ln">1438 </span></a>    <span class="s0">/* Excluded from this release type: _keyVaultClient */</span>
<a name="l1439"><span class="ln">1439 </span></a>    <span class="s0">/* Excluded from this release type: _proxyOptions */</span>
<a name="l1440"><span class="ln">1440 </span></a>    <span class="s0">/* Excluded from this release type: _tlsOptions */</span>
<a name="l1441"><span class="ln">1441 </span></a>    <span class="s0">/* Excluded from this release type: _kmsProviders */</span>
<a name="l1442"><span class="ln">1442 </span></a>    <span class="s0">/* Excluded from this release type: _mongoCrypt */</span>
<a name="l1443"><span class="ln">1443 </span></a>    <span class="s0">/* Excluded from this release type: getMongoCrypt */</span>
<a name="l1444"><span class="ln">1444 </span></a>    <span class="s5">/**</span>
<a name="l1445"><span class="ln">1445 </span></a>     <span class="s5">* Create a new encryption instance</span>
<a name="l1446"><span class="ln">1446 </span></a>     <span class="s5">*</span>
<a name="l1447"><span class="ln">1447 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1448"><span class="ln">1448 </span></a>     <span class="s5">* ```ts</span>
<a name="l1449"><span class="ln">1449 </span></a>     <span class="s5">* new ClientEncryption(mongoClient, {</span>
<a name="l1450"><span class="ln">1450 </span></a>     <span class="s5">*   keyVaultNamespace: 'client.encryption',</span>
<a name="l1451"><span class="ln">1451 </span></a>     <span class="s5">*   kmsProviders: {</span>
<a name="l1452"><span class="ln">1452 </span></a>     <span class="s5">*     local: {</span>
<a name="l1453"><span class="ln">1453 </span></a>     <span class="s5">*       key: masterKey // The master key used for encryption/decryption. A 96-byte long Buffer</span>
<a name="l1454"><span class="ln">1454 </span></a>     <span class="s5">*     }</span>
<a name="l1455"><span class="ln">1455 </span></a>     <span class="s5">*   }</span>
<a name="l1456"><span class="ln">1456 </span></a>     <span class="s5">* });</span>
<a name="l1457"><span class="ln">1457 </span></a>     <span class="s5">* ```</span>
<a name="l1458"><span class="ln">1458 </span></a>     <span class="s5">*</span>
<a name="l1459"><span class="ln">1459 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1460"><span class="ln">1460 </span></a>     <span class="s5">* ```ts</span>
<a name="l1461"><span class="ln">1461 </span></a>     <span class="s5">* new ClientEncryption(mongoClient, {</span>
<a name="l1462"><span class="ln">1462 </span></a>     <span class="s5">*   keyVaultNamespace: 'client.encryption',</span>
<a name="l1463"><span class="ln">1463 </span></a>     <span class="s5">*   kmsProviders: {</span>
<a name="l1464"><span class="ln">1464 </span></a>     <span class="s5">*     aws: {</span>
<a name="l1465"><span class="ln">1465 </span></a>     <span class="s5">*       accessKeyId: AWS_ACCESS_KEY,</span>
<a name="l1466"><span class="ln">1466 </span></a>     <span class="s5">*       secretAccessKey: AWS_SECRET_KEY</span>
<a name="l1467"><span class="ln">1467 </span></a>     <span class="s5">*     }</span>
<a name="l1468"><span class="ln">1468 </span></a>     <span class="s5">*   }</span>
<a name="l1469"><span class="ln">1469 </span></a>     <span class="s5">* });</span>
<a name="l1470"><span class="ln">1470 </span></a>     <span class="s5">* ```</span>
<a name="l1471"><span class="ln">1471 </span></a>     <span class="s5">*/</span>
<a name="l1472"><span class="ln">1472 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">client</span><span class="s3">: </span><span class="s1">MongoClient</span><span class="s3">, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">ClientEncryptionOptions</span><span class="s3">);</span>
<a name="l1473"><span class="ln">1473 </span></a>    <span class="s5">/**</span>
<a name="l1474"><span class="ln">1474 </span></a>     <span class="s5">* Creates a data key used for explicit encryption and inserts it into the key vault namespace</span>
<a name="l1475"><span class="ln">1475 </span></a>     <span class="s5">*</span>
<a name="l1476"><span class="ln">1476 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1477"><span class="ln">1477 </span></a>     <span class="s5">* ```ts</span>
<a name="l1478"><span class="ln">1478 </span></a>     <span class="s5">* // Using async/await to create a local key</span>
<a name="l1479"><span class="ln">1479 </span></a>     <span class="s5">* const dataKeyId = await clientEncryption.createDataKey('local');</span>
<a name="l1480"><span class="ln">1480 </span></a>     <span class="s5">* ```</span>
<a name="l1481"><span class="ln">1481 </span></a>     <span class="s5">*</span>
<a name="l1482"><span class="ln">1482 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1483"><span class="ln">1483 </span></a>     <span class="s5">* ```ts</span>
<a name="l1484"><span class="ln">1484 </span></a>     <span class="s5">* // Using async/await to create an aws key</span>
<a name="l1485"><span class="ln">1485 </span></a>     <span class="s5">* const dataKeyId = await clientEncryption.createDataKey('aws', {</span>
<a name="l1486"><span class="ln">1486 </span></a>     <span class="s5">*   masterKey: {</span>
<a name="l1487"><span class="ln">1487 </span></a>     <span class="s5">*     region: 'us-east-1',</span>
<a name="l1488"><span class="ln">1488 </span></a>     <span class="s5">*     key: 'xxxxxxxxxxxxxx' // CMK ARN here</span>
<a name="l1489"><span class="ln">1489 </span></a>     <span class="s5">*   }</span>
<a name="l1490"><span class="ln">1490 </span></a>     <span class="s5">* });</span>
<a name="l1491"><span class="ln">1491 </span></a>     <span class="s5">* ```</span>
<a name="l1492"><span class="ln">1492 </span></a>     <span class="s5">*</span>
<a name="l1493"><span class="ln">1493 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1494"><span class="ln">1494 </span></a>     <span class="s5">* ```ts</span>
<a name="l1495"><span class="ln">1495 </span></a>     <span class="s5">* // Using async/await to create an aws key with a keyAltName</span>
<a name="l1496"><span class="ln">1496 </span></a>     <span class="s5">* const dataKeyId = await clientEncryption.createDataKey('aws', {</span>
<a name="l1497"><span class="ln">1497 </span></a>     <span class="s5">*   masterKey: {</span>
<a name="l1498"><span class="ln">1498 </span></a>     <span class="s5">*     region: 'us-east-1',</span>
<a name="l1499"><span class="ln">1499 </span></a>     <span class="s5">*     key: 'xxxxxxxxxxxxxx' // CMK ARN here</span>
<a name="l1500"><span class="ln">1500 </span></a>     <span class="s5">*   },</span>
<a name="l1501"><span class="ln">1501 </span></a>     <span class="s5">*   keyAltNames: [ 'mySpecialKey' ]</span>
<a name="l1502"><span class="ln">1502 </span></a>     <span class="s5">* });</span>
<a name="l1503"><span class="ln">1503 </span></a>     <span class="s5">* ```</span>
<a name="l1504"><span class="ln">1504 </span></a>     <span class="s5">*/</span>
<a name="l1505"><span class="ln">1505 </span></a>    <span class="s1">createDataKey</span><span class="s3">(</span><span class="s1">provider</span><span class="s3">: </span><span class="s1">ClientEncryptionDataKeyProvider</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ClientEncryptionCreateDataKeyProviderOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">UUID</span><span class="s3">&gt;;</span>
<a name="l1506"><span class="ln">1506 </span></a>    <span class="s5">/**</span>
<a name="l1507"><span class="ln">1507 </span></a>     <span class="s5">* Searches the keyvault for any data keys matching the provided filter.  If there are matches, rewrapManyDataKey then attempts to re-wrap the data keys using the provided options.</span>
<a name="l1508"><span class="ln">1508 </span></a>     <span class="s5">*</span>
<a name="l1509"><span class="ln">1509 </span></a>     <span class="s5">* If no matches are found, then no bulk write is performed.</span>
<a name="l1510"><span class="ln">1510 </span></a>     <span class="s5">*</span>
<a name="l1511"><span class="ln">1511 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1512"><span class="ln">1512 </span></a>     <span class="s5">* ```ts</span>
<a name="l1513"><span class="ln">1513 </span></a>     <span class="s5">* // rewrapping all data data keys (using a filter that matches all documents)</span>
<a name="l1514"><span class="ln">1514 </span></a>     <span class="s5">* const filter = {};</span>
<a name="l1515"><span class="ln">1515 </span></a>     <span class="s5">*</span>
<a name="l1516"><span class="ln">1516 </span></a>     <span class="s5">* const result = await clientEncryption.rewrapManyDataKey(filter);</span>
<a name="l1517"><span class="ln">1517 </span></a>     <span class="s5">* if (result.bulkWriteResult != null) {</span>
<a name="l1518"><span class="ln">1518 </span></a>     <span class="s5">*  // keys were re-wrapped, results will be available in the bulkWrite object.</span>
<a name="l1519"><span class="ln">1519 </span></a>     <span class="s5">* }</span>
<a name="l1520"><span class="ln">1520 </span></a>     <span class="s5">* ```</span>
<a name="l1521"><span class="ln">1521 </span></a>     <span class="s5">*</span>
<a name="l1522"><span class="ln">1522 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1523"><span class="ln">1523 </span></a>     <span class="s5">* ```ts</span>
<a name="l1524"><span class="ln">1524 </span></a>     <span class="s5">* // attempting to rewrap all data keys with no matches</span>
<a name="l1525"><span class="ln">1525 </span></a>     <span class="s5">* const filter = { _id: new Binary() } // assume _id matches no documents in the database</span>
<a name="l1526"><span class="ln">1526 </span></a>     <span class="s5">* const result = await clientEncryption.rewrapManyDataKey(filter);</span>
<a name="l1527"><span class="ln">1527 </span></a>     <span class="s5">*</span>
<a name="l1528"><span class="ln">1528 </span></a>     <span class="s5">* if (result.bulkWriteResult == null) {</span>
<a name="l1529"><span class="ln">1529 </span></a>     <span class="s5">*  // no keys matched, `bulkWriteResult` does not exist on the result object</span>
<a name="l1530"><span class="ln">1530 </span></a>     <span class="s5">* }</span>
<a name="l1531"><span class="ln">1531 </span></a>     <span class="s5">* ```</span>
<a name="l1532"><span class="ln">1532 </span></a>     <span class="s5">*/</span>
<a name="l1533"><span class="ln">1533 </span></a>    <span class="s1">rewrapManyDataKey</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">DataKey</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">ClientEncryptionRewrapManyDataKeyProviderOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;{</span>
<a name="l1534"><span class="ln">1534 </span></a>        <span class="s1">bulkWriteResult</span><span class="s3">?: </span><span class="s1">BulkWriteResult</span><span class="s3">;</span>
<a name="l1535"><span class="ln">1535 </span></a>    <span class="s3">}&gt;;</span>
<a name="l1536"><span class="ln">1536 </span></a>    <span class="s5">/**</span>
<a name="l1537"><span class="ln">1537 </span></a>     <span class="s5">* Deletes the key with the provided id from the keyvault, if it exists.</span>
<a name="l1538"><span class="ln">1538 </span></a>     <span class="s5">*</span>
<a name="l1539"><span class="ln">1539 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1540"><span class="ln">1540 </span></a>     <span class="s5">* ```ts</span>
<a name="l1541"><span class="ln">1541 </span></a>     <span class="s5">* // delete a key by _id</span>
<a name="l1542"><span class="ln">1542 </span></a>     <span class="s5">* const id = new Binary(); // id is a bson binary subtype 4 object</span>
<a name="l1543"><span class="ln">1543 </span></a>     <span class="s5">* const { deletedCount } = await clientEncryption.deleteKey(id);</span>
<a name="l1544"><span class="ln">1544 </span></a>     <span class="s5">*</span>
<a name="l1545"><span class="ln">1545 </span></a>     <span class="s5">* if (deletedCount != null &amp;&amp; deletedCount &gt; 0) {</span>
<a name="l1546"><span class="ln">1546 </span></a>     <span class="s5">*   // successful deletion</span>
<a name="l1547"><span class="ln">1547 </span></a>     <span class="s5">* }</span>
<a name="l1548"><span class="ln">1548 </span></a>     <span class="s5">* ```</span>
<a name="l1549"><span class="ln">1549 </span></a>     <span class="s5">*</span>
<a name="l1550"><span class="ln">1550 </span></a>     <span class="s5">*/</span>
<a name="l1551"><span class="ln">1551 </span></a>    <span class="s1">deleteKey</span><span class="s3">(</span><span class="s1">_id</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">DeleteResult</span><span class="s3">&gt;;</span>
<a name="l1552"><span class="ln">1552 </span></a>    <span class="s5">/**</span>
<a name="l1553"><span class="ln">1553 </span></a>     <span class="s5">* Finds all the keys currently stored in the keyvault.</span>
<a name="l1554"><span class="ln">1554 </span></a>     <span class="s5">*</span>
<a name="l1555"><span class="ln">1555 </span></a>     <span class="s5">* This method will not throw.</span>
<a name="l1556"><span class="ln">1556 </span></a>     <span class="s5">*</span>
<a name="l1557"><span class="ln">1557 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">a FindCursor over all keys in the keyvault.</span>
<a name="l1558"><span class="ln">1558 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1559"><span class="ln">1559 </span></a>     <span class="s5">* ```ts</span>
<a name="l1560"><span class="ln">1560 </span></a>     <span class="s5">* // fetching all keys</span>
<a name="l1561"><span class="ln">1561 </span></a>     <span class="s5">* const keys = await clientEncryption.getKeys().toArray();</span>
<a name="l1562"><span class="ln">1562 </span></a>     <span class="s5">* ```</span>
<a name="l1563"><span class="ln">1563 </span></a>     <span class="s5">*/</span>
<a name="l1564"><span class="ln">1564 </span></a>    <span class="s1">getKeys</span><span class="s3">(): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">DataKey</span><span class="s3">&gt;;</span>
<a name="l1565"><span class="ln">1565 </span></a>    <span class="s5">/**</span>
<a name="l1566"><span class="ln">1566 </span></a>     <span class="s5">* Finds a key in the keyvault with the specified _id.</span>
<a name="l1567"><span class="ln">1567 </span></a>     <span class="s5">*</span>
<a name="l1568"><span class="ln">1568 </span></a>     <span class="s5">* Returns a promise that either resolves to a {</span><span class="s6">@link </span><span class="s5">DataKey} if a document matches the key or null if no documents</span>
<a name="l1569"><span class="ln">1569 </span></a>     <span class="s5">* match the id.  The promise rejects with an error if an error is thrown.</span>
<a name="l1570"><span class="ln">1570 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1571"><span class="ln">1571 </span></a>     <span class="s5">* ```ts</span>
<a name="l1572"><span class="ln">1572 </span></a>     <span class="s5">* // getting a key by id</span>
<a name="l1573"><span class="ln">1573 </span></a>     <span class="s5">* const id = new Binary(); // id is a bson binary subtype 4 object</span>
<a name="l1574"><span class="ln">1574 </span></a>     <span class="s5">* const key = await clientEncryption.getKey(id);</span>
<a name="l1575"><span class="ln">1575 </span></a>     <span class="s5">* if (!key) {</span>
<a name="l1576"><span class="ln">1576 </span></a>     <span class="s5">*  // key is null if there was no matching key</span>
<a name="l1577"><span class="ln">1577 </span></a>     <span class="s5">* }</span>
<a name="l1578"><span class="ln">1578 </span></a>     <span class="s5">* ```</span>
<a name="l1579"><span class="ln">1579 </span></a>     <span class="s5">*/</span>
<a name="l1580"><span class="ln">1580 </span></a>    <span class="s1">getKey</span><span class="s3">(</span><span class="s1">_id</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">DataKey </span><span class="s3">| </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l1581"><span class="ln">1581 </span></a>    <span class="s5">/**</span>
<a name="l1582"><span class="ln">1582 </span></a>     <span class="s5">* Finds a key in the keyvault which has the specified keyAltName.</span>
<a name="l1583"><span class="ln">1583 </span></a>     <span class="s5">*</span>
<a name="l1584"><span class="ln">1584 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">keyAltName - a keyAltName to search for a key</span>
<a name="l1585"><span class="ln">1585 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">Returns a promise that either resolves to a {</span><span class="s6">@link </span><span class="s5">DataKey} if a document matches the key or null if no documents</span>
<a name="l1586"><span class="ln">1586 </span></a>     <span class="s5">* match the keyAltName.  The promise rejects with an error if an error is thrown.</span>
<a name="l1587"><span class="ln">1587 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1588"><span class="ln">1588 </span></a>     <span class="s5">* ```ts</span>
<a name="l1589"><span class="ln">1589 </span></a>     <span class="s5">* // get a key by alt name</span>
<a name="l1590"><span class="ln">1590 </span></a>     <span class="s5">* const keyAltName = 'keyAltName';</span>
<a name="l1591"><span class="ln">1591 </span></a>     <span class="s5">* const key = await clientEncryption.getKeyByAltName(keyAltName);</span>
<a name="l1592"><span class="ln">1592 </span></a>     <span class="s5">* if (!key) {</span>
<a name="l1593"><span class="ln">1593 </span></a>     <span class="s5">*  // key is null if there is no matching key</span>
<a name="l1594"><span class="ln">1594 </span></a>     <span class="s5">* }</span>
<a name="l1595"><span class="ln">1595 </span></a>     <span class="s5">* ```</span>
<a name="l1596"><span class="ln">1596 </span></a>     <span class="s5">*/</span>
<a name="l1597"><span class="ln">1597 </span></a>    <span class="s1">getKeyByAltName</span><span class="s3">(</span><span class="s1">keyAltName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">DataKey</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l1598"><span class="ln">1598 </span></a>    <span class="s5">/**</span>
<a name="l1599"><span class="ln">1599 </span></a>     <span class="s5">* Adds a keyAltName to a key identified by the provided _id.</span>
<a name="l1600"><span class="ln">1600 </span></a>     <span class="s5">*</span>
<a name="l1601"><span class="ln">1601 </span></a>     <span class="s5">* This method resolves to/returns the *old* key value (prior to adding the new altKeyName).</span>
<a name="l1602"><span class="ln">1602 </span></a>     <span class="s5">*</span>
<a name="l1603"><span class="ln">1603 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">_id - The id of the document to update.</span>
<a name="l1604"><span class="ln">1604 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">keyAltName - a keyAltName to search for a key</span>
<a name="l1605"><span class="ln">1605 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">Returns a promise that either resolves to a {</span><span class="s6">@link </span><span class="s5">DataKey} if a document matches the key or null if no documents</span>
<a name="l1606"><span class="ln">1606 </span></a>     <span class="s5">* match the id.  The promise rejects with an error if an error is thrown.</span>
<a name="l1607"><span class="ln">1607 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1608"><span class="ln">1608 </span></a>     <span class="s5">* ```ts</span>
<a name="l1609"><span class="ln">1609 </span></a>     <span class="s5">* // adding an keyAltName to a data key</span>
<a name="l1610"><span class="ln">1610 </span></a>     <span class="s5">* const id = new Binary();  // id is a bson binary subtype 4 object</span>
<a name="l1611"><span class="ln">1611 </span></a>     <span class="s5">* const keyAltName = 'keyAltName';</span>
<a name="l1612"><span class="ln">1612 </span></a>     <span class="s5">* const oldKey = await clientEncryption.addKeyAltName(id, keyAltName);</span>
<a name="l1613"><span class="ln">1613 </span></a>     <span class="s5">* if (!oldKey) {</span>
<a name="l1614"><span class="ln">1614 </span></a>     <span class="s5">*  // null is returned if there is no matching document with an id matching the supplied id</span>
<a name="l1615"><span class="ln">1615 </span></a>     <span class="s5">* }</span>
<a name="l1616"><span class="ln">1616 </span></a>     <span class="s5">* ```</span>
<a name="l1617"><span class="ln">1617 </span></a>     <span class="s5">*/</span>
<a name="l1618"><span class="ln">1618 </span></a>    <span class="s1">addKeyAltName</span><span class="s3">(</span><span class="s1">_id</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">, </span><span class="s1">keyAltName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">DataKey</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l1619"><span class="ln">1619 </span></a>    <span class="s5">/**</span>
<a name="l1620"><span class="ln">1620 </span></a>     <span class="s5">* Adds a keyAltName to a key identified by the provided _id.</span>
<a name="l1621"><span class="ln">1621 </span></a>     <span class="s5">*</span>
<a name="l1622"><span class="ln">1622 </span></a>     <span class="s5">* This method resolves to/returns the *old* key value (prior to removing the new altKeyName).</span>
<a name="l1623"><span class="ln">1623 </span></a>     <span class="s5">*</span>
<a name="l1624"><span class="ln">1624 </span></a>     <span class="s5">* If the removed keyAltName is the last keyAltName for that key, the `altKeyNames` property is unset from the document.</span>
<a name="l1625"><span class="ln">1625 </span></a>     <span class="s5">*</span>
<a name="l1626"><span class="ln">1626 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">_id - The id of the document to update.</span>
<a name="l1627"><span class="ln">1627 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">keyAltName - a keyAltName to search for a key</span>
<a name="l1628"><span class="ln">1628 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">Returns a promise that either resolves to a {</span><span class="s6">@link </span><span class="s5">DataKey} if a document matches the key or null if no documents</span>
<a name="l1629"><span class="ln">1629 </span></a>     <span class="s5">* match the id.  The promise rejects with an error if an error is thrown.</span>
<a name="l1630"><span class="ln">1630 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1631"><span class="ln">1631 </span></a>     <span class="s5">* ```ts</span>
<a name="l1632"><span class="ln">1632 </span></a>     <span class="s5">* // removing a key alt name from a data key</span>
<a name="l1633"><span class="ln">1633 </span></a>     <span class="s5">* const id = new Binary();  // id is a bson binary subtype 4 object</span>
<a name="l1634"><span class="ln">1634 </span></a>     <span class="s5">* const keyAltName = 'keyAltName';</span>
<a name="l1635"><span class="ln">1635 </span></a>     <span class="s5">* const oldKey = await clientEncryption.removeKeyAltName(id, keyAltName);</span>
<a name="l1636"><span class="ln">1636 </span></a>     <span class="s5">*</span>
<a name="l1637"><span class="ln">1637 </span></a>     <span class="s5">* if (!oldKey) {</span>
<a name="l1638"><span class="ln">1638 </span></a>     <span class="s5">*  // null is returned if there is no matching document with an id matching the supplied id</span>
<a name="l1639"><span class="ln">1639 </span></a>     <span class="s5">* }</span>
<a name="l1640"><span class="ln">1640 </span></a>     <span class="s5">* ```</span>
<a name="l1641"><span class="ln">1641 </span></a>     <span class="s5">*/</span>
<a name="l1642"><span class="ln">1642 </span></a>    <span class="s1">removeKeyAltName</span><span class="s3">(</span><span class="s1">_id</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">, </span><span class="s1">keyAltName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">DataKey</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l1643"><span class="ln">1643 </span></a>    <span class="s5">/**</span>
<a name="l1644"><span class="ln">1644 </span></a>     <span class="s5">* A convenience method for creating an encrypted collection.</span>
<a name="l1645"><span class="ln">1645 </span></a>     <span class="s5">* This method will create data keys for any encryptedFields that do not have a `keyId` defined</span>
<a name="l1646"><span class="ln">1646 </span></a>     <span class="s5">* and then create a new collection with the full set of encryptedFields.</span>
<a name="l1647"><span class="ln">1647 </span></a>     <span class="s5">*</span>
<a name="l1648"><span class="ln">1648 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">db - A Node.js driver Db object with which to create the collection</span>
<a name="l1649"><span class="ln">1649 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - The name of the collection to be created</span>
<a name="l1650"><span class="ln">1650 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Options for createDataKey and for createCollection</span>
<a name="l1651"><span class="ln">1651 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">created collection and generated encryptedFields</span>
<a name="l1652"><span class="ln">1652 </span></a>     <span class="s5">* </span><span class="s6">@throws </span><span class="s5">MongoCryptCreateDataKeyError - If part way through the process a createDataKey invocation fails, an error will be rejected that has the partial `encryptedFields` that were created.</span>
<a name="l1653"><span class="ln">1653 </span></a>     <span class="s5">* </span><span class="s6">@throws </span><span class="s5">MongoCryptCreateEncryptedCollectionError - If creating the collection fails, an error will be rejected that has the entire `encryptedFields` that were created.</span>
<a name="l1654"><span class="ln">1654 </span></a>     <span class="s5">*/</span>
<a name="l1655"><span class="ln">1655 </span></a>    <span class="s1">createEncryptedCollection</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">db</span><span class="s3">: </span><span class="s1">Db</span><span class="s3">, </span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">: {</span>
<a name="l1656"><span class="ln">1656 </span></a>        <span class="s1">provider</span><span class="s3">: </span><span class="s1">ClientEncryptionDataKeyProvider</span><span class="s3">;</span>
<a name="l1657"><span class="ln">1657 </span></a>        <span class="s1">createCollectionOptions</span><span class="s3">: </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">CreateCollectionOptions</span><span class="s3">, </span><span class="s4">'encryptedFields'</span><span class="s3">&gt; &amp; {</span>
<a name="l1658"><span class="ln">1658 </span></a>            <span class="s1">encryptedFields</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l1659"><span class="ln">1659 </span></a>        <span class="s3">};</span>
<a name="l1660"><span class="ln">1660 </span></a>        <span class="s1">masterKey</span><span class="s3">?: </span><span class="s1">AWSEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">AzureEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">GCPEncryptionKeyOptions</span><span class="s3">;</span>
<a name="l1661"><span class="ln">1661 </span></a>    <span class="s3">}): </span><span class="s1">Promise</span><span class="s3">&lt;{</span>
<a name="l1662"><span class="ln">1662 </span></a>        <span class="s1">collection</span><span class="s3">: </span><span class="s1">Collection</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l1663"><span class="ln">1663 </span></a>        <span class="s1">encryptedFields</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l1664"><span class="ln">1664 </span></a>    <span class="s3">}&gt;;</span>
<a name="l1665"><span class="ln">1665 </span></a>    <span class="s5">/**</span>
<a name="l1666"><span class="ln">1666 </span></a>     <span class="s5">* Explicitly encrypt a provided value. Note that either `options.keyId` or `options.keyAltName` must</span>
<a name="l1667"><span class="ln">1667 </span></a>     <span class="s5">* be specified. Specifying both `options.keyId` and `options.keyAltName` is considered an error.</span>
<a name="l1668"><span class="ln">1668 </span></a>     <span class="s5">*</span>
<a name="l1669"><span class="ln">1669 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The value that you wish to serialize. Must be of a type that can be serialized into BSON</span>
<a name="l1670"><span class="ln">1670 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options -</span>
<a name="l1671"><span class="ln">1671 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">a Promise that either resolves with the encrypted value, or rejects with an error.</span>
<a name="l1672"><span class="ln">1672 </span></a>     <span class="s5">*</span>
<a name="l1673"><span class="ln">1673 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1674"><span class="ln">1674 </span></a>     <span class="s5">* ```ts</span>
<a name="l1675"><span class="ln">1675 </span></a>     <span class="s5">* // Encryption with async/await api</span>
<a name="l1676"><span class="ln">1676 </span></a>     <span class="s5">* async function encryptMyData(value) {</span>
<a name="l1677"><span class="ln">1677 </span></a>     <span class="s5">*   const keyId = await clientEncryption.createDataKey('local');</span>
<a name="l1678"><span class="ln">1678 </span></a>     <span class="s5">*   return clientEncryption.encrypt(value, { keyId, algorithm: 'AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic' });</span>
<a name="l1679"><span class="ln">1679 </span></a>     <span class="s5">* }</span>
<a name="l1680"><span class="ln">1680 </span></a>     <span class="s5">* ```</span>
<a name="l1681"><span class="ln">1681 </span></a>     <span class="s5">*</span>
<a name="l1682"><span class="ln">1682 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1683"><span class="ln">1683 </span></a>     <span class="s5">* ```ts</span>
<a name="l1684"><span class="ln">1684 </span></a>     <span class="s5">* // Encryption using a keyAltName</span>
<a name="l1685"><span class="ln">1685 </span></a>     <span class="s5">* async function encryptMyData(value) {</span>
<a name="l1686"><span class="ln">1686 </span></a>     <span class="s5">*   await clientEncryption.createDataKey('local', { keyAltNames: 'mySpecialKey' });</span>
<a name="l1687"><span class="ln">1687 </span></a>     <span class="s5">*   return clientEncryption.encrypt(value, { keyAltName: 'mySpecialKey', algorithm: 'AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic' });</span>
<a name="l1688"><span class="ln">1688 </span></a>     <span class="s5">* }</span>
<a name="l1689"><span class="ln">1689 </span></a>     <span class="s5">* ```</span>
<a name="l1690"><span class="ln">1690 </span></a>     <span class="s5">*/</span>
<a name="l1691"><span class="ln">1691 </span></a>    <span class="s1">encrypt</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">unknown</span><span class="s3">, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">ClientEncryptionEncryptOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Binary</span><span class="s3">&gt;;</span>
<a name="l1692"><span class="ln">1692 </span></a>    <span class="s5">/**</span>
<a name="l1693"><span class="ln">1693 </span></a>     <span class="s5">* Encrypts a Match Expression or Aggregate Expression to query a range index.</span>
<a name="l1694"><span class="ln">1694 </span></a>     <span class="s5">*</span>
<a name="l1695"><span class="ln">1695 </span></a>     <span class="s5">* Only supported when queryType is &quot;rangePreview&quot; and algorithm is &quot;RangePreview&quot;.</span>
<a name="l1696"><span class="ln">1696 </span></a>     <span class="s5">*</span>
<a name="l1697"><span class="ln">1697 </span></a>     <span class="s5">* </span><span class="s6">@experimental </span><span class="s5">The Range algorithm is experimental only. It is not intended for production use. It is subject to breaking changes.</span>
<a name="l1698"><span class="ln">1698 </span></a>     <span class="s5">*</span>
<a name="l1699"><span class="ln">1699 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">expression - a BSON document of one of the following forms:</span>
<a name="l1700"><span class="ln">1700 </span></a>     <span class="s5">*  1. A Match Expression of this form:</span>
<a name="l1701"><span class="ln">1701 </span></a>     <span class="s5">*      `{$and: [{&lt;field&gt;: {$gt: &lt;value1&gt;}}, {&lt;field&gt;: {$lt: &lt;value2&gt; }}]}`</span>
<a name="l1702"><span class="ln">1702 </span></a>     <span class="s5">*  2. An Aggregate Expression of this form:</span>
<a name="l1703"><span class="ln">1703 </span></a>     <span class="s5">*      `{$and: [{$gt: [&lt;fieldpath&gt;, &lt;value1&gt;]}, {$lt: [&lt;fieldpath&gt;, &lt;value2&gt;]}]}`</span>
<a name="l1704"><span class="ln">1704 </span></a>     <span class="s5">*</span>
<a name="l1705"><span class="ln">1705 </span></a>     <span class="s5">*    `$gt` may also be `$gte`. `$lt` may also be `$lte`.</span>
<a name="l1706"><span class="ln">1706 </span></a>     <span class="s5">*</span>
<a name="l1707"><span class="ln">1707 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options -</span>
<a name="l1708"><span class="ln">1708 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">Returns a Promise that either resolves with the encrypted value or rejects with an error.</span>
<a name="l1709"><span class="ln">1709 </span></a>     <span class="s5">*/</span>
<a name="l1710"><span class="ln">1710 </span></a>    <span class="s1">encryptExpression</span><span class="s3">(</span><span class="s1">expression</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">ClientEncryptionEncryptOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Binary</span><span class="s3">&gt;;</span>
<a name="l1711"><span class="ln">1711 </span></a>    <span class="s5">/**</span>
<a name="l1712"><span class="ln">1712 </span></a>     <span class="s5">* Explicitly decrypt a provided encrypted value</span>
<a name="l1713"><span class="ln">1713 </span></a>     <span class="s5">*</span>
<a name="l1714"><span class="ln">1714 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - An encrypted value</span>
<a name="l1715"><span class="ln">1715 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">a Promise that either resolves with the decrypted value, or rejects with an error</span>
<a name="l1716"><span class="ln">1716 </span></a>     <span class="s5">*</span>
<a name="l1717"><span class="ln">1717 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l1718"><span class="ln">1718 </span></a>     <span class="s5">* ```ts</span>
<a name="l1719"><span class="ln">1719 </span></a>     <span class="s5">* // Decrypting value with async/await API</span>
<a name="l1720"><span class="ln">1720 </span></a>     <span class="s5">* async function decryptMyValue(value) {</span>
<a name="l1721"><span class="ln">1721 </span></a>     <span class="s5">*   return clientEncryption.decrypt(value);</span>
<a name="l1722"><span class="ln">1722 </span></a>     <span class="s5">* }</span>
<a name="l1723"><span class="ln">1723 </span></a>     <span class="s5">* ```</span>
<a name="l1724"><span class="ln">1724 </span></a>     <span class="s5">*/</span>
<a name="l1725"><span class="ln">1725 </span></a>    <span class="s1">decrypt</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt;(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l1726"><span class="ln">1726 </span></a>    <span class="s0">/* Excluded from this release type: askForKMSCredentials */</span>
<a name="l1727"><span class="ln">1727 </span></a>    <span class="s2">static </span><span class="s1">get libmongocryptVersion</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1728"><span class="ln">1728 </span></a>    <span class="s0">/* Excluded from this release type: _encrypt */</span>
<a name="l1729"><span class="ln">1729 </span></a><span class="s3">}</span>
<a name="l1730"><span class="ln">1730 </span></a>
<a name="l1731"><span class="ln">1731 </span></a><span class="s5">/**</span>
<a name="l1732"><span class="ln">1732 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1733"><span class="ln">1733 </span></a> <span class="s5">* Options to provide when creating a new data key.</span>
<a name="l1734"><span class="ln">1734 </span></a> <span class="s5">*/</span>
<a name="l1735"><span class="ln">1735 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientEncryptionCreateDataKeyProviderOptions </span><span class="s3">{</span>
<a name="l1736"><span class="ln">1736 </span></a>    <span class="s5">/**</span>
<a name="l1737"><span class="ln">1737 </span></a>     <span class="s5">* Identifies a new KMS-specific key used to encrypt the new data key</span>
<a name="l1738"><span class="ln">1738 </span></a>     <span class="s5">*/</span>
<a name="l1739"><span class="ln">1739 </span></a>    <span class="s1">masterKey</span><span class="s3">?: </span><span class="s1">AWSEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">AzureEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">GCPEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l1740"><span class="ln">1740 </span></a>    <span class="s5">/**</span>
<a name="l1741"><span class="ln">1741 </span></a>     <span class="s5">* An optional list of string alternate names used to reference a key.</span>
<a name="l1742"><span class="ln">1742 </span></a>     <span class="s5">* If a key is created with alternate names, then encryption may refer to the key by the unique alternate name instead of by _id.</span>
<a name="l1743"><span class="ln">1743 </span></a>     <span class="s5">*/</span>
<a name="l1744"><span class="ln">1744 </span></a>    <span class="s1">keyAltNames</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[] | </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l1745"><span class="ln">1745 </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l1746"><span class="ln">1746 </span></a>    <span class="s1">keyMaterial</span><span class="s3">?: </span><span class="s1">Buffer </span><span class="s3">| </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l1747"><span class="ln">1747 </span></a><span class="s3">}</span>
<a name="l1748"><span class="ln">1748 </span></a>
<a name="l1749"><span class="ln">1749 </span></a><span class="s5">/**</span>
<a name="l1750"><span class="ln">1750 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1751"><span class="ln">1751 </span></a> <span class="s5">*/</span>
<a name="l1752"><span class="ln">1752 </span></a><span class="s2">export </span><span class="s1">declare type ClientEncryptionDataKeyProvider </span><span class="s3">= </span><span class="s4">'aws' </span><span class="s3">| </span><span class="s4">'azure' </span><span class="s3">| </span><span class="s4">'gcp' </span><span class="s3">| </span><span class="s4">'local' </span><span class="s3">| </span><span class="s4">'kmip'</span><span class="s3">;</span>
<a name="l1753"><span class="ln">1753 </span></a>
<a name="l1754"><span class="ln">1754 </span></a><span class="s5">/**</span>
<a name="l1755"><span class="ln">1755 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1756"><span class="ln">1756 </span></a> <span class="s5">* Options to provide when encrypting data.</span>
<a name="l1757"><span class="ln">1757 </span></a> <span class="s5">*/</span>
<a name="l1758"><span class="ln">1758 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientEncryptionEncryptOptions </span><span class="s3">{</span>
<a name="l1759"><span class="ln">1759 </span></a>    <span class="s5">/**</span>
<a name="l1760"><span class="ln">1760 </span></a>     <span class="s5">* The algorithm to use for encryption.</span>
<a name="l1761"><span class="ln">1761 </span></a>     <span class="s5">*/</span>
<a name="l1762"><span class="ln">1762 </span></a>    <span class="s1">algorithm</span><span class="s3">: </span><span class="s4">'AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic' </span><span class="s3">| </span><span class="s4">'AEAD_AES_256_CBC_HMAC_SHA_512-Random' </span><span class="s3">| </span><span class="s4">'Indexed' </span><span class="s3">| </span><span class="s4">'Unindexed' </span><span class="s3">| </span><span class="s4">'RangePreview'</span><span class="s3">;</span>
<a name="l1763"><span class="ln">1763 </span></a>    <span class="s5">/**</span>
<a name="l1764"><span class="ln">1764 </span></a>     <span class="s5">* The id of the Binary dataKey to use for encryption</span>
<a name="l1765"><span class="ln">1765 </span></a>     <span class="s5">*/</span>
<a name="l1766"><span class="ln">1766 </span></a>    <span class="s1">keyId</span><span class="s3">?: </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l1767"><span class="ln">1767 </span></a>    <span class="s5">/**</span>
<a name="l1768"><span class="ln">1768 </span></a>     <span class="s5">* A unique string name corresponding to an already existing dataKey.</span>
<a name="l1769"><span class="ln">1769 </span></a>     <span class="s5">*/</span>
<a name="l1770"><span class="ln">1770 </span></a>    <span class="s1">keyAltName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1771"><span class="ln">1771 </span></a>    <span class="s5">/** The contention factor. */</span>
<a name="l1772"><span class="ln">1772 </span></a>    <span class="s1">contentionFactor</span><span class="s3">?: </span><span class="s1">bigint </span><span class="s3">| </span><span class="s1">number</span><span class="s3">;</span>
<a name="l1773"><span class="ln">1773 </span></a>    <span class="s5">/**</span>
<a name="l1774"><span class="ln">1774 </span></a>     <span class="s5">* The query type supported.  Only the queryType `equality` is stable.</span>
<a name="l1775"><span class="ln">1775 </span></a>     <span class="s5">*</span>
<a name="l1776"><span class="ln">1776 </span></a>     <span class="s5">* </span><span class="s6">@experimental </span><span class="s5">Public Technical Preview: The queryType `rangePreview` is experimental.</span>
<a name="l1777"><span class="ln">1777 </span></a>     <span class="s5">*/</span>
<a name="l1778"><span class="ln">1778 </span></a>    <span class="s1">queryType</span><span class="s3">?: </span><span class="s4">'equality' </span><span class="s3">| </span><span class="s4">'rangePreview'</span><span class="s3">;</span>
<a name="l1779"><span class="ln">1779 </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">Public Technical Preview: The index options for a Queryable Encryption field supporting &quot;rangePreview&quot; queries.*/</span>
<a name="l1780"><span class="ln">1780 </span></a>    <span class="s1">rangeOptions</span><span class="s3">?: </span><span class="s1">RangeOptions</span><span class="s3">;</span>
<a name="l1781"><span class="ln">1781 </span></a><span class="s3">}</span>
<a name="l1782"><span class="ln">1782 </span></a>
<a name="l1783"><span class="ln">1783 </span></a><span class="s5">/**</span>
<a name="l1784"><span class="ln">1784 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1785"><span class="ln">1785 </span></a> <span class="s5">* Options to provide when encrypting data.</span>
<a name="l1786"><span class="ln">1786 </span></a> <span class="s5">*/</span>
<a name="l1787"><span class="ln">1787 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientEncryptionEncryptOptions </span><span class="s3">{</span>
<a name="l1788"><span class="ln">1788 </span></a>    <span class="s5">/**</span>
<a name="l1789"><span class="ln">1789 </span></a>     <span class="s5">* The algorithm to use for encryption.</span>
<a name="l1790"><span class="ln">1790 </span></a>     <span class="s5">*/</span>
<a name="l1791"><span class="ln">1791 </span></a>    <span class="s1">algorithm</span><span class="s3">: </span><span class="s4">'AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic' </span><span class="s3">| </span><span class="s4">'AEAD_AES_256_CBC_HMAC_SHA_512-Random' </span><span class="s3">| </span><span class="s4">'Indexed' </span><span class="s3">| </span><span class="s4">'Unindexed' </span><span class="s3">| </span><span class="s4">'RangePreview'</span><span class="s3">;</span>
<a name="l1792"><span class="ln">1792 </span></a>    <span class="s5">/**</span>
<a name="l1793"><span class="ln">1793 </span></a>     <span class="s5">* The id of the Binary dataKey to use for encryption</span>
<a name="l1794"><span class="ln">1794 </span></a>     <span class="s5">*/</span>
<a name="l1795"><span class="ln">1795 </span></a>    <span class="s1">keyId</span><span class="s3">?: </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l1796"><span class="ln">1796 </span></a>    <span class="s5">/**</span>
<a name="l1797"><span class="ln">1797 </span></a>     <span class="s5">* A unique string name corresponding to an already existing dataKey.</span>
<a name="l1798"><span class="ln">1798 </span></a>     <span class="s5">*/</span>
<a name="l1799"><span class="ln">1799 </span></a>    <span class="s1">keyAltName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1800"><span class="ln">1800 </span></a>    <span class="s5">/** The contention factor. */</span>
<a name="l1801"><span class="ln">1801 </span></a>    <span class="s1">contentionFactor</span><span class="s3">?: </span><span class="s1">bigint </span><span class="s3">| </span><span class="s1">number</span><span class="s3">;</span>
<a name="l1802"><span class="ln">1802 </span></a>    <span class="s5">/**</span>
<a name="l1803"><span class="ln">1803 </span></a>     <span class="s5">* The query type supported.  Only the queryType `equality` is stable.</span>
<a name="l1804"><span class="ln">1804 </span></a>     <span class="s5">*</span>
<a name="l1805"><span class="ln">1805 </span></a>     <span class="s5">* </span><span class="s6">@experimental </span><span class="s5">Public Technical Preview: The queryType `rangePreview` is experimental.</span>
<a name="l1806"><span class="ln">1806 </span></a>     <span class="s5">*/</span>
<a name="l1807"><span class="ln">1807 </span></a>    <span class="s1">queryType</span><span class="s3">?: </span><span class="s4">'equality' </span><span class="s3">| </span><span class="s4">'rangePreview'</span><span class="s3">;</span>
<a name="l1808"><span class="ln">1808 </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">Public Technical Preview: The index options for a Queryable Encryption field supporting &quot;rangePreview&quot; queries.*/</span>
<a name="l1809"><span class="ln">1809 </span></a>    <span class="s1">rangeOptions</span><span class="s3">?: </span><span class="s1">RangeOptions</span><span class="s3">;</span>
<a name="l1810"><span class="ln">1810 </span></a><span class="s3">}</span>
<a name="l1811"><span class="ln">1811 </span></a>
<a name="l1812"><span class="ln">1812 </span></a><span class="s5">/**</span>
<a name="l1813"><span class="ln">1813 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1814"><span class="ln">1814 </span></a> <span class="s5">* Additional settings to provide when creating a new `ClientEncryption` instance.</span>
<a name="l1815"><span class="ln">1815 </span></a> <span class="s5">*/</span>
<a name="l1816"><span class="ln">1816 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientEncryptionOptions </span><span class="s3">{</span>
<a name="l1817"><span class="ln">1817 </span></a>    <span class="s5">/**</span>
<a name="l1818"><span class="ln">1818 </span></a>     <span class="s5">* The namespace of the key vault, used to store encryption keys</span>
<a name="l1819"><span class="ln">1819 </span></a>     <span class="s5">*/</span>
<a name="l1820"><span class="ln">1820 </span></a>    <span class="s1">keyVaultNamespace</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1821"><span class="ln">1821 </span></a>    <span class="s5">/**</span>
<a name="l1822"><span class="ln">1822 </span></a>     <span class="s5">* A MongoClient used to fetch keys from a key vault. Defaults to client.</span>
<a name="l1823"><span class="ln">1823 </span></a>     <span class="s5">*/</span>
<a name="l1824"><span class="ln">1824 </span></a>    <span class="s1">keyVaultClient</span><span class="s3">?: </span><span class="s1">MongoClient </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l1825"><span class="ln">1825 </span></a>    <span class="s5">/**</span>
<a name="l1826"><span class="ln">1826 </span></a>     <span class="s5">* Options for specific KMS providers to use</span>
<a name="l1827"><span class="ln">1827 </span></a>     <span class="s5">*/</span>
<a name="l1828"><span class="ln">1828 </span></a>    <span class="s1">kmsProviders</span><span class="s3">?: </span><span class="s1">KMSProviders</span><span class="s3">;</span>
<a name="l1829"><span class="ln">1829 </span></a>    <span class="s5">/**</span>
<a name="l1830"><span class="ln">1830 </span></a>     <span class="s5">* Options for specifying a Socks5 proxy to use for connecting to the KMS.</span>
<a name="l1831"><span class="ln">1831 </span></a>     <span class="s5">*/</span>
<a name="l1832"><span class="ln">1832 </span></a>    <span class="s1">proxyOptions</span><span class="s3">?: </span><span class="s1">ProxyOptions</span><span class="s3">;</span>
<a name="l1833"><span class="ln">1833 </span></a>    <span class="s5">/**</span>
<a name="l1834"><span class="ln">1834 </span></a>     <span class="s5">* TLS options for kms providers to use.</span>
<a name="l1835"><span class="ln">1835 </span></a>     <span class="s5">*/</span>
<a name="l1836"><span class="ln">1836 </span></a>    <span class="s1">tlsOptions</span><span class="s3">?: </span><span class="s1">CSFLEKMSTlsOptions</span><span class="s3">;</span>
<a name="l1837"><span class="ln">1837 </span></a><span class="s3">}</span>
<a name="l1838"><span class="ln">1838 </span></a>
<a name="l1839"><span class="ln">1839 </span></a><span class="s5">/**</span>
<a name="l1840"><span class="ln">1840 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1841"><span class="ln">1841 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l1842"><span class="ln">1842 </span></a> <span class="s5">*/</span>
<a name="l1843"><span class="ln">1843 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientEncryptionRewrapManyDataKeyProviderOptions </span><span class="s3">{</span>
<a name="l1844"><span class="ln">1844 </span></a>    <span class="s1">provider</span><span class="s3">: </span><span class="s1">ClientEncryptionDataKeyProvider</span><span class="s3">;</span>
<a name="l1845"><span class="ln">1845 </span></a>    <span class="s1">masterKey</span><span class="s3">?: </span><span class="s1">AWSEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">AzureEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">GCPEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l1846"><span class="ln">1846 </span></a><span class="s3">}</span>
<a name="l1847"><span class="ln">1847 </span></a>
<a name="l1848"><span class="ln">1848 </span></a><span class="s5">/**</span>
<a name="l1849"><span class="ln">1849 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1850"><span class="ln">1850 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l1851"><span class="ln">1851 </span></a> <span class="s5">*/</span>
<a name="l1852"><span class="ln">1852 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientEncryptionRewrapManyDataKeyProviderOptions </span><span class="s3">{</span>
<a name="l1853"><span class="ln">1853 </span></a>    <span class="s1">provider</span><span class="s3">: </span><span class="s1">ClientEncryptionDataKeyProvider</span><span class="s3">;</span>
<a name="l1854"><span class="ln">1854 </span></a>    <span class="s1">masterKey</span><span class="s3">?: </span><span class="s1">AWSEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">AzureEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">GCPEncryptionKeyOptions </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l1855"><span class="ln">1855 </span></a><span class="s3">}</span>
<a name="l1856"><span class="ln">1856 </span></a>
<a name="l1857"><span class="ln">1857 </span></a><span class="s5">/**</span>
<a name="l1858"><span class="ln">1858 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1859"><span class="ln">1859 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l1860"><span class="ln">1860 </span></a> <span class="s5">*/</span>
<a name="l1861"><span class="ln">1861 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientEncryptionRewrapManyDataKeyResult </span><span class="s3">{</span>
<a name="l1862"><span class="ln">1862 </span></a>    <span class="s5">/** The result of rewrapping data keys. If unset, no keys matched the filter. */</span>
<a name="l1863"><span class="ln">1863 </span></a>    <span class="s1">bulkWriteResult</span><span class="s3">?: </span><span class="s1">BulkWriteResult</span><span class="s3">;</span>
<a name="l1864"><span class="ln">1864 </span></a><span class="s3">}</span>
<a name="l1865"><span class="ln">1865 </span></a>
<a name="l1866"><span class="ln">1866 </span></a><span class="s5">/**</span>
<a name="l1867"><span class="ln">1867 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1868"><span class="ln">1868 </span></a> <span class="s5">*</span>
<a name="l1869"><span class="ln">1869 </span></a> <span class="s5">* TLS options to use when connecting. The spec specifically calls out which insecure</span>
<a name="l1870"><span class="ln">1870 </span></a> <span class="s5">* tls options are not allowed:</span>
<a name="l1871"><span class="ln">1871 </span></a> <span class="s5">*</span>
<a name="l1872"><span class="ln">1872 </span></a> <span class="s5">*  - tlsAllowInvalidCertificates</span>
<a name="l1873"><span class="ln">1873 </span></a> <span class="s5">*  - tlsAllowInvalidHostnames</span>
<a name="l1874"><span class="ln">1874 </span></a> <span class="s5">*  - tlsInsecure</span>
<a name="l1875"><span class="ln">1875 </span></a> <span class="s5">*</span>
<a name="l1876"><span class="ln">1876 </span></a> <span class="s5">* These options are not included in the type, and are ignored if provided.</span>
<a name="l1877"><span class="ln">1877 </span></a> <span class="s5">*/</span>
<a name="l1878"><span class="ln">1878 </span></a><span class="s2">export </span><span class="s1">declare type ClientEncryptionTlsOptions </span><span class="s3">= </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">MongoClientOptions</span><span class="s3">, </span><span class="s4">'tlsCAFile' </span><span class="s3">| </span><span class="s4">'tlsCertificateKeyFile' </span><span class="s3">| </span><span class="s4">'tlsCertificateKeyFilePassword'</span><span class="s3">&gt;;</span>
<a name="l1879"><span class="ln">1879 </span></a>
<a name="l1880"><span class="ln">1880 </span></a><span class="s5">/**</span>
<a name="l1881"><span class="ln">1881 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1882"><span class="ln">1882 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://github.com/mongodb/specifications/blob/master/source/mongodb-handshake/handshake.rst#hello-command</span>
<a name="l1883"><span class="ln">1883 </span></a> <span class="s5">*/</span>
<a name="l1884"><span class="ln">1884 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientMetadata </span><span class="s3">{</span>
<a name="l1885"><span class="ln">1885 </span></a>    <span class="s1">driver</span><span class="s3">: {</span>
<a name="l1886"><span class="ln">1886 </span></a>        <span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1887"><span class="ln">1887 </span></a>        <span class="s1">version</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1888"><span class="ln">1888 </span></a>    <span class="s3">};</span>
<a name="l1889"><span class="ln">1889 </span></a>    <span class="s1">os</span><span class="s3">: {</span>
<a name="l1890"><span class="ln">1890 </span></a>        <span class="s1">type</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1891"><span class="ln">1891 </span></a>        <span class="s1">name</span><span class="s3">?: </span><span class="s1">NodeJS</span><span class="s3">.</span><span class="s1">Platform</span><span class="s3">;</span>
<a name="l1892"><span class="ln">1892 </span></a>        <span class="s1">architecture</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1893"><span class="ln">1893 </span></a>        <span class="s1">version</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1894"><span class="ln">1894 </span></a>    <span class="s3">};</span>
<a name="l1895"><span class="ln">1895 </span></a>    <span class="s1">platform</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1896"><span class="ln">1896 </span></a>    <span class="s1">application</span><span class="s3">?: {</span>
<a name="l1897"><span class="ln">1897 </span></a>        <span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1898"><span class="ln">1898 </span></a>    <span class="s3">};</span>
<a name="l1899"><span class="ln">1899 </span></a>    <span class="s5">/** FaaS environment information */</span>
<a name="l1900"><span class="ln">1900 </span></a>    <span class="s1">env</span><span class="s3">?: {</span>
<a name="l1901"><span class="ln">1901 </span></a>        <span class="s1">name</span><span class="s3">: </span><span class="s4">'aws.lambda' </span><span class="s3">| </span><span class="s4">'gcp.func' </span><span class="s3">| </span><span class="s4">'azure.func' </span><span class="s3">| </span><span class="s4">'vercel'</span><span class="s3">;</span>
<a name="l1902"><span class="ln">1902 </span></a>        <span class="s1">timeout_sec</span><span class="s3">?: </span><span class="s1">Int32</span><span class="s3">;</span>
<a name="l1903"><span class="ln">1903 </span></a>        <span class="s1">memory_mb</span><span class="s3">?: </span><span class="s1">Int32</span><span class="s3">;</span>
<a name="l1904"><span class="ln">1904 </span></a>        <span class="s1">region</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1905"><span class="ln">1905 </span></a>        <span class="s1">url</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1906"><span class="ln">1906 </span></a>    <span class="s3">};</span>
<a name="l1907"><span class="ln">1907 </span></a><span class="s3">}</span>
<a name="l1908"><span class="ln">1908 </span></a>
<a name="l1909"><span class="ln">1909 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l1910"><span class="ln">1910 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientMetadataOptions </span><span class="s3">{</span>
<a name="l1911"><span class="ln">1911 </span></a>    <span class="s1">driverInfo</span><span class="s3">?: {</span>
<a name="l1912"><span class="ln">1912 </span></a>        <span class="s1">name</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1913"><span class="ln">1913 </span></a>        <span class="s1">version</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1914"><span class="ln">1914 </span></a>        <span class="s1">platform</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1915"><span class="ln">1915 </span></a>    <span class="s3">};</span>
<a name="l1916"><span class="ln">1916 </span></a>    <span class="s1">appName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l1917"><span class="ln">1917 </span></a><span class="s3">}</span>
<a name="l1918"><span class="ln">1918 </span></a>
<a name="l1919"><span class="ln">1919 </span></a><span class="s5">/**</span>
<a name="l1920"><span class="ln">1920 </span></a> <span class="s5">* A class representing a client session on the server</span>
<a name="l1921"><span class="ln">1921 </span></a> <span class="s5">*</span>
<a name="l1922"><span class="ln">1922 </span></a> <span class="s5">* NOTE: not meant to be instantiated directly.</span>
<a name="l1923"><span class="ln">1923 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l1924"><span class="ln">1924 </span></a> <span class="s5">*/</span>
<a name="l1925"><span class="ln">1925 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ClientSession </span><span class="s2">extends </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;</span><span class="s1">ClientSessionEvents</span><span class="s3">&gt; {</span>
<a name="l1926"><span class="ln">1926 </span></a>    <span class="s0">/* Excluded from this release type: client */</span>
<a name="l1927"><span class="ln">1927 </span></a>    <span class="s0">/* Excluded from this release type: sessionPool */</span>
<a name="l1928"><span class="ln">1928 </span></a>    <span class="s1">hasEnded</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1929"><span class="ln">1929 </span></a>    <span class="s1">clientOptions</span><span class="s3">?: </span><span class="s1">MongoOptions</span><span class="s3">;</span>
<a name="l1930"><span class="ln">1930 </span></a>    <span class="s1">supports</span><span class="s3">: {</span>
<a name="l1931"><span class="ln">1931 </span></a>        <span class="s1">causalConsistency</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1932"><span class="ln">1932 </span></a>    <span class="s3">};</span>
<a name="l1933"><span class="ln">1933 </span></a>    <span class="s1">clusterTime</span><span class="s3">?: </span><span class="s1">ClusterTime</span><span class="s3">;</span>
<a name="l1934"><span class="ln">1934 </span></a>    <span class="s1">operationTime</span><span class="s3">?: </span><span class="s1">Timestamp</span><span class="s3">;</span>
<a name="l1935"><span class="ln">1935 </span></a>    <span class="s1">explicit</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1936"><span class="ln">1936 </span></a>    <span class="s0">/* Excluded from this release type: owner */</span>
<a name="l1937"><span class="ln">1937 </span></a>    <span class="s1">defaultTransactionOptions</span><span class="s3">: </span><span class="s1">TransactionOptions</span><span class="s3">;</span>
<a name="l1938"><span class="ln">1938 </span></a>    <span class="s1">transaction</span><span class="s3">: </span><span class="s1">Transaction</span><span class="s3">;</span>
<a name="l1939"><span class="ln">1939 </span></a>    <span class="s0">/* Excluded from this release type: [kServerSession] */</span>
<a name="l1940"><span class="ln">1940 </span></a>    <span class="s0">/* Excluded from this release type: [kSnapshotTime] */</span>
<a name="l1941"><span class="ln">1941 </span></a>    <span class="s0">/* Excluded from this release type: [kSnapshotEnabled] */</span>
<a name="l1942"><span class="ln">1942 </span></a>    <span class="s0">/* Excluded from this release type: [kPinnedConnection] */</span>
<a name="l1943"><span class="ln">1943 </span></a>    <span class="s0">/* Excluded from this release type: [kTxnNumberIncrement] */</span>
<a name="l1944"><span class="ln">1944 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l1945"><span class="ln">1945 </span></a>    <span class="s5">/** The server id associated with this session */</span>
<a name="l1946"><span class="ln">1946 </span></a>    <span class="s1">get id</span><span class="s3">(): </span><span class="s1">ServerSessionId </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l1947"><span class="ln">1947 </span></a>    <span class="s1">get serverSession</span><span class="s3">(): </span><span class="s1">ServerSession</span><span class="s3">;</span>
<a name="l1948"><span class="ln">1948 </span></a>    <span class="s5">/** Whether or not this session is configured for snapshot reads */</span>
<a name="l1949"><span class="ln">1949 </span></a>    <span class="s1">get snapshotEnabled</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1950"><span class="ln">1950 </span></a>    <span class="s1">get loadBalanced</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1951"><span class="ln">1951 </span></a>    <span class="s0">/* Excluded from this release type: pinnedConnection */</span>
<a name="l1952"><span class="ln">1952 </span></a>    <span class="s0">/* Excluded from this release type: pin */</span>
<a name="l1953"><span class="ln">1953 </span></a>    <span class="s0">/* Excluded from this release type: unpin */</span>
<a name="l1954"><span class="ln">1954 </span></a>    <span class="s1">get isPinned</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1955"><span class="ln">1955 </span></a>    <span class="s5">/**</span>
<a name="l1956"><span class="ln">1956 </span></a>     <span class="s5">* Ends this session on the server</span>
<a name="l1957"><span class="ln">1957 </span></a>     <span class="s5">*</span>
<a name="l1958"><span class="ln">1958 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings. Currently reserved for future use</span>
<a name="l1959"><span class="ln">1959 </span></a>     <span class="s5">*/</span>
<a name="l1960"><span class="ln">1960 </span></a>    <span class="s1">endSession</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">EndSessionOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l1961"><span class="ln">1961 </span></a>    <span class="s5">/**</span>
<a name="l1962"><span class="ln">1962 </span></a>     <span class="s5">* Advances the operationTime for a ClientSession.</span>
<a name="l1963"><span class="ln">1963 </span></a>     <span class="s5">*</span>
<a name="l1964"><span class="ln">1964 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">operationTime - the `BSON.Timestamp` of the operation type it is desired to advance to</span>
<a name="l1965"><span class="ln">1965 </span></a>     <span class="s5">*/</span>
<a name="l1966"><span class="ln">1966 </span></a>    <span class="s1">advanceOperationTime</span><span class="s3">(</span><span class="s1">operationTime</span><span class="s3">: </span><span class="s1">Timestamp</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1967"><span class="ln">1967 </span></a>    <span class="s5">/**</span>
<a name="l1968"><span class="ln">1968 </span></a>     <span class="s5">* Advances the clusterTime for a ClientSession to the provided clusterTime of another ClientSession</span>
<a name="l1969"><span class="ln">1969 </span></a>     <span class="s5">*</span>
<a name="l1970"><span class="ln">1970 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">clusterTime - the $clusterTime returned by the server from another session in the form of a document containing the `BSON.Timestamp` clusterTime and signature</span>
<a name="l1971"><span class="ln">1971 </span></a>     <span class="s5">*/</span>
<a name="l1972"><span class="ln">1972 </span></a>    <span class="s1">advanceClusterTime</span><span class="s3">(</span><span class="s1">clusterTime</span><span class="s3">: </span><span class="s1">ClusterTime</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1973"><span class="ln">1973 </span></a>    <span class="s5">/**</span>
<a name="l1974"><span class="ln">1974 </span></a>     <span class="s5">* Used to determine if this session equals another</span>
<a name="l1975"><span class="ln">1975 </span></a>     <span class="s5">*</span>
<a name="l1976"><span class="ln">1976 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">session - The session to compare to</span>
<a name="l1977"><span class="ln">1977 </span></a>     <span class="s5">*/</span>
<a name="l1978"><span class="ln">1978 </span></a>    <span class="s1">equals</span><span class="s3">(</span><span class="s1">session</span><span class="s3">: </span><span class="s1">ClientSession</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1979"><span class="ln">1979 </span></a>    <span class="s5">/**</span>
<a name="l1980"><span class="ln">1980 </span></a>     <span class="s5">* Increment the transaction number on the internal ServerSession</span>
<a name="l1981"><span class="ln">1981 </span></a>     <span class="s5">*</span>
<a name="l1982"><span class="ln">1982 </span></a>     <span class="s5">* </span><span class="s6">@privateRemarks</span>
<a name="l1983"><span class="ln">1983 </span></a>     <span class="s5">* This helper increments a value stored on the client session that will be</span>
<a name="l1984"><span class="ln">1984 </span></a>     <span class="s5">* added to the serverSession's txnNumber upon applying it to a command.</span>
<a name="l1985"><span class="ln">1985 </span></a>     <span class="s5">* This is because the serverSession is lazily acquired after a connection is obtained</span>
<a name="l1986"><span class="ln">1986 </span></a>     <span class="s5">*/</span>
<a name="l1987"><span class="ln">1987 </span></a>    <span class="s1">incrementTransactionNumber</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1988"><span class="ln">1988 </span></a>    <span class="s5">/** </span><span class="s6">@returns </span><span class="s5">whether this session is currently in a transaction or not */</span>
<a name="l1989"><span class="ln">1989 </span></a>    <span class="s1">inTransaction</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l1990"><span class="ln">1990 </span></a>    <span class="s5">/**</span>
<a name="l1991"><span class="ln">1991 </span></a>     <span class="s5">* Starts a new transaction with the given options.</span>
<a name="l1992"><span class="ln">1992 </span></a>     <span class="s5">*</span>
<a name="l1993"><span class="ln">1993 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Options for the transaction</span>
<a name="l1994"><span class="ln">1994 </span></a>     <span class="s5">*/</span>
<a name="l1995"><span class="ln">1995 </span></a>    <span class="s1">startTransaction</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">TransactionOptions</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l1996"><span class="ln">1996 </span></a>    <span class="s5">/**</span>
<a name="l1997"><span class="ln">1997 </span></a>     <span class="s5">* Commits the currently active transaction in this session.</span>
<a name="l1998"><span class="ln">1998 </span></a>     <span class="s5">*/</span>
<a name="l1999"><span class="ln">1999 </span></a>    <span class="s1">commitTransaction</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l2000"><span class="ln">2000 </span></a>    <span class="s5">/**</span>
<a name="l2001"><span class="ln">2001 </span></a>     <span class="s5">* Aborts the currently active transaction in this session.</span>
<a name="l2002"><span class="ln">2002 </span></a>     <span class="s5">*/</span>
<a name="l2003"><span class="ln">2003 </span></a>    <span class="s1">abortTransaction</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l2004"><span class="ln">2004 </span></a>    <span class="s5">/**</span>
<a name="l2005"><span class="ln">2005 </span></a>     <span class="s5">* This is here to ensure that ClientSession is never serialized to BSON.</span>
<a name="l2006"><span class="ln">2006 </span></a>     <span class="s5">*/</span>
<a name="l2007"><span class="ln">2007 </span></a>    <span class="s1">toBSON</span><span class="s3">(): </span><span class="s1">never</span><span class="s3">;</span>
<a name="l2008"><span class="ln">2008 </span></a>    <span class="s5">/**</span>
<a name="l2009"><span class="ln">2009 </span></a>     <span class="s5">* Starts a transaction and runs a provided function, ensuring the commitTransaction is always attempted when all operations run in the function have completed.</span>
<a name="l2010"><span class="ln">2010 </span></a>     <span class="s5">*</span>
<a name="l2011"><span class="ln">2011 </span></a>     <span class="s5">* **IMPORTANT:** This method requires the user to return a Promise, and `await` all operations.</span>
<a name="l2012"><span class="ln">2012 </span></a>     <span class="s5">*</span>
<a name="l2013"><span class="ln">2013 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l2014"><span class="ln">2014 </span></a>     <span class="s5">* This function:</span>
<a name="l2015"><span class="ln">2015 </span></a>     <span class="s5">* - If all operations successfully complete and the `commitTransaction` operation is successful, then this function will return the result of the provided function.</span>
<a name="l2016"><span class="ln">2016 </span></a>     <span class="s5">* - If the transaction is unable to complete or an error is thrown from within the provided function, then this function will throw an error.</span>
<a name="l2017"><span class="ln">2017 </span></a>     <span class="s5">*   - If the transaction is manually aborted within the provided function it will not throw.</span>
<a name="l2018"><span class="ln">2018 </span></a>     <span class="s5">* - May be called multiple times if the driver needs to attempt to retry the operations.</span>
<a name="l2019"><span class="ln">2019 </span></a>     <span class="s5">*</span>
<a name="l2020"><span class="ln">2020 </span></a>     <span class="s5">* Checkout a descriptive example here:</span>
<a name="l2021"><span class="ln">2021 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/blog/post/quick-start-nodejs--mongodb--how-to-implement-transactions</span>
<a name="l2022"><span class="ln">2022 </span></a>     <span class="s5">*</span>
<a name="l2023"><span class="ln">2023 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">fn - callback to run within a transaction</span>
<a name="l2024"><span class="ln">2024 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - optional settings for the transaction</span>
<a name="l2025"><span class="ln">2025 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">A raw command response or undefined</span>
<a name="l2026"><span class="ln">2026 </span></a>     <span class="s5">*/</span>
<a name="l2027"><span class="ln">2027 </span></a>    <span class="s1">withTransaction</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt;(</span><span class="s1">fn</span><span class="s3">: </span><span class="s1">WithTransactionCallback</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">TransactionOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l2028"><span class="ln">2028 </span></a><span class="s3">}</span>
<a name="l2029"><span class="ln">2029 </span></a>
<a name="l2030"><span class="ln">2030 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2031"><span class="ln">2031 </span></a><span class="s2">export </span><span class="s1">declare type ClientSessionEvents </span><span class="s3">= {</span>
<a name="l2032"><span class="ln">2032 </span></a>    <span class="s1">ended</span><span class="s3">(</span><span class="s1">session</span><span class="s3">: </span><span class="s1">ClientSession</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2033"><span class="ln">2033 </span></a><span class="s3">};</span>
<a name="l2034"><span class="ln">2034 </span></a>
<a name="l2035"><span class="ln">2035 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2036"><span class="ln">2036 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClientSessionOptions </span><span class="s3">{</span>
<a name="l2037"><span class="ln">2037 </span></a>    <span class="s5">/** Whether causal consistency should be enabled on this session */</span>
<a name="l2038"><span class="ln">2038 </span></a>    <span class="s1">causalConsistency</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2039"><span class="ln">2039 </span></a>    <span class="s5">/** Whether all read operations should be read from the same snapshot for this session (NOTE: not compatible with `causalConsistency=true`) */</span>
<a name="l2040"><span class="ln">2040 </span></a>    <span class="s1">snapshot</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2041"><span class="ln">2041 </span></a>    <span class="s5">/** The default TransactionOptions to use for transactions started on this session. */</span>
<a name="l2042"><span class="ln">2042 </span></a>    <span class="s1">defaultTransactionOptions</span><span class="s3">?: </span><span class="s1">TransactionOptions</span><span class="s3">;</span>
<a name="l2043"><span class="ln">2043 </span></a>    <span class="s0">/* Excluded from this release type: owner */</span>
<a name="l2044"><span class="ln">2044 </span></a>    <span class="s0">/* Excluded from this release type: explicit */</span>
<a name="l2045"><span class="ln">2045 </span></a>    <span class="s0">/* Excluded from this release type: initialClusterTime */</span>
<a name="l2046"><span class="ln">2046 </span></a><span class="s3">}</span>
<a name="l2047"><span class="ln">2047 </span></a>
<a name="l2048"><span class="ln">2048 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2049"><span class="ln">2049 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CloseOptions </span><span class="s3">{</span>
<a name="l2050"><span class="ln">2050 </span></a>    <span class="s1">force</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2051"><span class="ln">2051 </span></a><span class="s3">}</span>
<a name="l2052"><span class="ln">2052 </span></a>
<a name="l2053"><span class="ln">2053 </span></a><span class="s5">/** </span><span class="s6">@public</span>
<a name="l2054"><span class="ln">2054 </span></a> <span class="s5">* Configuration options for clustered collections</span>
<a name="l2055"><span class="ln">2055 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/core/clustered-collections/</span>
<a name="l2056"><span class="ln">2056 </span></a> <span class="s5">*/</span>
<a name="l2057"><span class="ln">2057 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClusteredCollectionOptions </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">{</span>
<a name="l2058"><span class="ln">2058 </span></a>    <span class="s1">name</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2059"><span class="ln">2059 </span></a>    <span class="s1">key</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l2060"><span class="ln">2060 </span></a>    <span class="s1">unique</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2061"><span class="ln">2061 </span></a><span class="s3">}</span>
<a name="l2062"><span class="ln">2062 </span></a>
<a name="l2063"><span class="ln">2063 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2064"><span class="ln">2064 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ClusterTime </span><span class="s3">{</span>
<a name="l2065"><span class="ln">2065 </span></a>    <span class="s1">clusterTime</span><span class="s3">: </span><span class="s1">Timestamp</span><span class="s3">;</span>
<a name="l2066"><span class="ln">2066 </span></a>    <span class="s1">signature</span><span class="s3">: {</span>
<a name="l2067"><span class="ln">2067 </span></a>        <span class="s1">hash</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l2068"><span class="ln">2068 </span></a>        <span class="s1">keyId</span><span class="s3">: </span><span class="s1">Long</span><span class="s3">;</span>
<a name="l2069"><span class="ln">2069 </span></a>    <span class="s3">};</span>
<a name="l2070"><span class="ln">2070 </span></a><span class="s3">}</span>
<a name="l2071"><span class="ln">2071 </span></a>
<a name="l2072"><span class="ln">2072 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Code </span><span class="s3">}</span>
<a name="l2073"><span class="ln">2073 </span></a>
<a name="l2074"><span class="ln">2074 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2075"><span class="ln">2075 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CollationOptions </span><span class="s3">{</span>
<a name="l2076"><span class="ln">2076 </span></a>    <span class="s1">locale</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2077"><span class="ln">2077 </span></a>    <span class="s1">caseLevel</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2078"><span class="ln">2078 </span></a>    <span class="s1">caseFirst</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2079"><span class="ln">2079 </span></a>    <span class="s1">strength</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2080"><span class="ln">2080 </span></a>    <span class="s1">numericOrdering</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2081"><span class="ln">2081 </span></a>    <span class="s1">alternate</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2082"><span class="ln">2082 </span></a>    <span class="s1">maxVariable</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2083"><span class="ln">2083 </span></a>    <span class="s1">backwards</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2084"><span class="ln">2084 </span></a>    <span class="s1">normalization</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2085"><span class="ln">2085 </span></a><span class="s3">}</span>
<a name="l2086"><span class="ln">2086 </span></a>
<a name="l2087"><span class="ln">2087 </span></a><span class="s5">/**</span>
<a name="l2088"><span class="ln">2088 </span></a> <span class="s5">* The **Collection** class is an internal class that embodies a MongoDB collection</span>
<a name="l2089"><span class="ln">2089 </span></a> <span class="s5">* allowing for insert/find/update/delete and other command operation on that MongoDB collection.</span>
<a name="l2090"><span class="ln">2090 </span></a> <span class="s5">*</span>
<a name="l2091"><span class="ln">2091 </span></a> <span class="s5">* **COLLECTION Cannot directly be instantiated**</span>
<a name="l2092"><span class="ln">2092 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2093"><span class="ln">2093 </span></a> <span class="s5">*</span>
<a name="l2094"><span class="ln">2094 </span></a> <span class="s5">* </span><span class="s6">@example</span>
<a name="l2095"><span class="ln">2095 </span></a> <span class="s5">* ```ts</span>
<a name="l2096"><span class="ln">2096 </span></a> <span class="s5">* import { MongoClient } from 'mongodb';</span>
<a name="l2097"><span class="ln">2097 </span></a> <span class="s5">*</span>
<a name="l2098"><span class="ln">2098 </span></a> <span class="s5">* interface Pet {</span>
<a name="l2099"><span class="ln">2099 </span></a> <span class="s5">*   name: string;</span>
<a name="l2100"><span class="ln">2100 </span></a> <span class="s5">*   kind: 'dog' | 'cat' | 'fish';</span>
<a name="l2101"><span class="ln">2101 </span></a> <span class="s5">* }</span>
<a name="l2102"><span class="ln">2102 </span></a> <span class="s5">*</span>
<a name="l2103"><span class="ln">2103 </span></a> <span class="s5">* const client = new MongoClient('mongodb://localhost:27017');</span>
<a name="l2104"><span class="ln">2104 </span></a> <span class="s5">* const pets = client.db().collection&lt;Pet&gt;('pets');</span>
<a name="l2105"><span class="ln">2105 </span></a> <span class="s5">*</span>
<a name="l2106"><span class="ln">2106 </span></a> <span class="s5">* const petCursor = pets.find();</span>
<a name="l2107"><span class="ln">2107 </span></a> <span class="s5">*</span>
<a name="l2108"><span class="ln">2108 </span></a> <span class="s5">* for await (const pet of petCursor) {</span>
<a name="l2109"><span class="ln">2109 </span></a> <span class="s5">*   console.log(`${pet.name} is a ${pet.kind}!`);</span>
<a name="l2110"><span class="ln">2110 </span></a> <span class="s5">* }</span>
<a name="l2111"><span class="ln">2111 </span></a> <span class="s5">* ```</span>
<a name="l2112"><span class="ln">2112 </span></a> <span class="s5">*/</span>
<a name="l2113"><span class="ln">2113 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Collection</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l2114"><span class="ln">2114 </span></a>    <span class="s0">/* Excluded from this release type: s */</span>
<a name="l2115"><span class="ln">2115 </span></a>    <span class="s0">/* Excluded from this release type: client */</span>
<a name="l2116"><span class="ln">2116 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2117"><span class="ln">2117 </span></a>    <span class="s5">/**</span>
<a name="l2118"><span class="ln">2118 </span></a>     <span class="s5">* The name of the database this collection belongs to</span>
<a name="l2119"><span class="ln">2119 </span></a>     <span class="s5">*/</span>
<a name="l2120"><span class="ln">2120 </span></a>    <span class="s1">get dbName</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2121"><span class="ln">2121 </span></a>    <span class="s5">/**</span>
<a name="l2122"><span class="ln">2122 </span></a>     <span class="s5">* The name of this collection</span>
<a name="l2123"><span class="ln">2123 </span></a>     <span class="s5">*/</span>
<a name="l2124"><span class="ln">2124 </span></a>    <span class="s1">get collectionName</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2125"><span class="ln">2125 </span></a>    <span class="s5">/**</span>
<a name="l2126"><span class="ln">2126 </span></a>     <span class="s5">* The namespace of this collection, in the format `${this.dbName}.${this.collectionName}`</span>
<a name="l2127"><span class="ln">2127 </span></a>     <span class="s5">*/</span>
<a name="l2128"><span class="ln">2128 </span></a>    <span class="s1">get namespace</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2129"><span class="ln">2129 </span></a>    <span class="s0">/* Excluded from this release type: fullNamespace */</span>
<a name="l2130"><span class="ln">2130 </span></a>    <span class="s5">/**</span>
<a name="l2131"><span class="ln">2131 </span></a>     <span class="s5">* The current readConcern of the collection. If not explicitly defined for</span>
<a name="l2132"><span class="ln">2132 </span></a>     <span class="s5">* this collection, will be inherited from the parent DB</span>
<a name="l2133"><span class="ln">2133 </span></a>     <span class="s5">*/</span>
<a name="l2134"><span class="ln">2134 </span></a>    <span class="s1">get readConcern</span><span class="s3">(): </span><span class="s1">ReadConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l2135"><span class="ln">2135 </span></a>    <span class="s5">/**</span>
<a name="l2136"><span class="ln">2136 </span></a>     <span class="s5">* The current readPreference of the collection. If not explicitly defined for</span>
<a name="l2137"><span class="ln">2137 </span></a>     <span class="s5">* this collection, will be inherited from the parent DB</span>
<a name="l2138"><span class="ln">2138 </span></a>     <span class="s5">*/</span>
<a name="l2139"><span class="ln">2139 </span></a>    <span class="s1">get readPreference</span><span class="s3">(): </span><span class="s1">ReadPreference </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l2140"><span class="ln">2140 </span></a>    <span class="s1">get bsonOptions</span><span class="s3">(): </span><span class="s1">BSONSerializeOptions</span><span class="s3">;</span>
<a name="l2141"><span class="ln">2141 </span></a>    <span class="s5">/**</span>
<a name="l2142"><span class="ln">2142 </span></a>     <span class="s5">* The current writeConcern of the collection. If not explicitly defined for</span>
<a name="l2143"><span class="ln">2143 </span></a>     <span class="s5">* this collection, will be inherited from the parent DB</span>
<a name="l2144"><span class="ln">2144 </span></a>     <span class="s5">*/</span>
<a name="l2145"><span class="ln">2145 </span></a>    <span class="s1">get writeConcern</span><span class="s3">(): </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l2146"><span class="ln">2146 </span></a>    <span class="s5">/** The current index hint for the collection */</span>
<a name="l2147"><span class="ln">2147 </span></a>    <span class="s1">get hint</span><span class="s3">(): </span><span class="s1">Hint </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l2148"><span class="ln">2148 </span></a>    <span class="s1">set hint</span><span class="s3">(</span><span class="s1">v</span><span class="s3">: </span><span class="s1">Hint </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">);</span>
<a name="l2149"><span class="ln">2149 </span></a>    <span class="s5">/**</span>
<a name="l2150"><span class="ln">2150 </span></a>     <span class="s5">* Inserts a single document into MongoDB. If documents passed in do not contain the **_id** field,</span>
<a name="l2151"><span class="ln">2151 </span></a>     <span class="s5">* one will be added to each of the documents missing it by the driver, mutating the document. This behavior</span>
<a name="l2152"><span class="ln">2152 </span></a>     <span class="s5">* can be overridden by setting the **forceServerObjectId** flag.</span>
<a name="l2153"><span class="ln">2153 </span></a>     <span class="s5">*</span>
<a name="l2154"><span class="ln">2154 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">doc - The document to insert</span>
<a name="l2155"><span class="ln">2155 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2156"><span class="ln">2156 </span></a>     <span class="s5">*/</span>
<a name="l2157"><span class="ln">2157 </span></a>    <span class="s1">insertOne</span><span class="s3">(</span><span class="s1">doc</span><span class="s3">: </span><span class="s1">OptionalUnlessRequiredId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">InsertOneOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">InsertOneResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2158"><span class="ln">2158 </span></a>    <span class="s5">/**</span>
<a name="l2159"><span class="ln">2159 </span></a>     <span class="s5">* Inserts an array of documents into MongoDB. If documents passed in do not contain the **_id** field,</span>
<a name="l2160"><span class="ln">2160 </span></a>     <span class="s5">* one will be added to each of the documents missing it by the driver, mutating the document. This behavior</span>
<a name="l2161"><span class="ln">2161 </span></a>     <span class="s5">* can be overridden by setting the **forceServerObjectId** flag.</span>
<a name="l2162"><span class="ln">2162 </span></a>     <span class="s5">*</span>
<a name="l2163"><span class="ln">2163 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">docs - The documents to insert</span>
<a name="l2164"><span class="ln">2164 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2165"><span class="ln">2165 </span></a>     <span class="s5">*/</span>
<a name="l2166"><span class="ln">2166 </span></a>    <span class="s1">insertMany</span><span class="s3">(</span><span class="s1">docs</span><span class="s3">: </span><span class="s1">OptionalUnlessRequiredId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">BulkWriteOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">InsertManyResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2167"><span class="ln">2167 </span></a>    <span class="s5">/**</span>
<a name="l2168"><span class="ln">2168 </span></a>     <span class="s5">* Perform a bulkWrite operation without a fluent API</span>
<a name="l2169"><span class="ln">2169 </span></a>     <span class="s5">*</span>
<a name="l2170"><span class="ln">2170 </span></a>     <span class="s5">* Legal operation types are</span>
<a name="l2171"><span class="ln">2171 </span></a>     <span class="s5">* - `insertOne`</span>
<a name="l2172"><span class="ln">2172 </span></a>     <span class="s5">* - `replaceOne`</span>
<a name="l2173"><span class="ln">2173 </span></a>     <span class="s5">* - `updateOne`</span>
<a name="l2174"><span class="ln">2174 </span></a>     <span class="s5">* - `updateMany`</span>
<a name="l2175"><span class="ln">2175 </span></a>     <span class="s5">* - `deleteOne`</span>
<a name="l2176"><span class="ln">2176 </span></a>     <span class="s5">* - `deleteMany`</span>
<a name="l2177"><span class="ln">2177 </span></a>     <span class="s5">*</span>
<a name="l2178"><span class="ln">2178 </span></a>     <span class="s5">* If documents passed in do not contain the **_id** field,</span>
<a name="l2179"><span class="ln">2179 </span></a>     <span class="s5">* one will be added to each of the documents missing it by the driver, mutating the document. This behavior</span>
<a name="l2180"><span class="ln">2180 </span></a>     <span class="s5">* can be overridden by setting the **forceServerObjectId** flag.</span>
<a name="l2181"><span class="ln">2181 </span></a>     <span class="s5">*</span>
<a name="l2182"><span class="ln">2182 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">operations - Bulk operations to perform</span>
<a name="l2183"><span class="ln">2183 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2184"><span class="ln">2184 </span></a>     <span class="s5">* </span><span class="s6">@throws </span><span class="s5">MongoDriverError if operations is not an array</span>
<a name="l2185"><span class="ln">2185 </span></a>     <span class="s5">*/</span>
<a name="l2186"><span class="ln">2186 </span></a>    <span class="s1">bulkWrite</span><span class="s3">(</span><span class="s1">operations</span><span class="s3">: </span><span class="s1">AnyBulkWriteOperation</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">BulkWriteOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">BulkWriteResult</span><span class="s3">&gt;;</span>
<a name="l2187"><span class="ln">2187 </span></a>    <span class="s5">/**</span>
<a name="l2188"><span class="ln">2188 </span></a>     <span class="s5">* Update a single document in a collection</span>
<a name="l2189"><span class="ln">2189 </span></a>     <span class="s5">*</span>
<a name="l2190"><span class="ln">2190 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the document to update</span>
<a name="l2191"><span class="ln">2191 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">update - The update operations to be applied to the document</span>
<a name="l2192"><span class="ln">2192 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2193"><span class="ln">2193 </span></a>     <span class="s5">*/</span>
<a name="l2194"><span class="ln">2194 </span></a>    <span class="s1">updateOne</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">Partial</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">UpdateOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">UpdateResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2195"><span class="ln">2195 </span></a>    <span class="s5">/**</span>
<a name="l2196"><span class="ln">2196 </span></a>     <span class="s5">* Replace a document in a collection with another document</span>
<a name="l2197"><span class="ln">2197 </span></a>     <span class="s5">*</span>
<a name="l2198"><span class="ln">2198 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the document to replace</span>
<a name="l2199"><span class="ln">2199 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">replacement - The Document that replaces the matching document</span>
<a name="l2200"><span class="ln">2200 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2201"><span class="ln">2201 </span></a>     <span class="s5">*/</span>
<a name="l2202"><span class="ln">2202 </span></a>    <span class="s1">replaceOne</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">replacement</span><span class="s3">: </span><span class="s1">WithoutId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ReplaceOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">UpdateResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l2203"><span class="ln">2203 </span></a>    <span class="s5">/**</span>
<a name="l2204"><span class="ln">2204 </span></a>     <span class="s5">* Update multiple documents in a collection</span>
<a name="l2205"><span class="ln">2205 </span></a>     <span class="s5">*</span>
<a name="l2206"><span class="ln">2206 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the documents to update</span>
<a name="l2207"><span class="ln">2207 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">update - The update operations to be applied to the documents</span>
<a name="l2208"><span class="ln">2208 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2209"><span class="ln">2209 </span></a>     <span class="s5">*/</span>
<a name="l2210"><span class="ln">2210 </span></a>    <span class="s1">updateMany</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">UpdateOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">UpdateResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2211"><span class="ln">2211 </span></a>    <span class="s5">/**</span>
<a name="l2212"><span class="ln">2212 </span></a>     <span class="s5">* Delete a document from a collection</span>
<a name="l2213"><span class="ln">2213 </span></a>     <span class="s5">*</span>
<a name="l2214"><span class="ln">2214 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the document to remove</span>
<a name="l2215"><span class="ln">2215 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2216"><span class="ln">2216 </span></a>     <span class="s5">*/</span>
<a name="l2217"><span class="ln">2217 </span></a>    <span class="s1">deleteOne</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">?: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DeleteOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">DeleteResult</span><span class="s3">&gt;;</span>
<a name="l2218"><span class="ln">2218 </span></a>    <span class="s5">/**</span>
<a name="l2219"><span class="ln">2219 </span></a>     <span class="s5">* Delete multiple documents from a collection</span>
<a name="l2220"><span class="ln">2220 </span></a>     <span class="s5">*</span>
<a name="l2221"><span class="ln">2221 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the documents to remove</span>
<a name="l2222"><span class="ln">2222 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2223"><span class="ln">2223 </span></a>     <span class="s5">*/</span>
<a name="l2224"><span class="ln">2224 </span></a>    <span class="s1">deleteMany</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">?: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DeleteOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">DeleteResult</span><span class="s3">&gt;;</span>
<a name="l2225"><span class="ln">2225 </span></a>    <span class="s5">/**</span>
<a name="l2226"><span class="ln">2226 </span></a>     <span class="s5">* Rename the collection.</span>
<a name="l2227"><span class="ln">2227 </span></a>     <span class="s5">*</span>
<a name="l2228"><span class="ln">2228 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l2229"><span class="ln">2229 </span></a>     <span class="s5">* This operation does not inherit options from the Db or MongoClient.</span>
<a name="l2230"><span class="ln">2230 </span></a>     <span class="s5">*</span>
<a name="l2231"><span class="ln">2231 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">newName - New name of of the collection.</span>
<a name="l2232"><span class="ln">2232 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2233"><span class="ln">2233 </span></a>     <span class="s5">*/</span>
<a name="l2234"><span class="ln">2234 </span></a>    <span class="s1">rename</span><span class="s3">(</span><span class="s1">newName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">RenameOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Collection</span><span class="s3">&gt;;</span>
<a name="l2235"><span class="ln">2235 </span></a>    <span class="s5">/**</span>
<a name="l2236"><span class="ln">2236 </span></a>     <span class="s5">* Drop the collection from the database, removing it permanently. New accesses will create a new collection.</span>
<a name="l2237"><span class="ln">2237 </span></a>     <span class="s5">*</span>
<a name="l2238"><span class="ln">2238 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2239"><span class="ln">2239 </span></a>     <span class="s5">*/</span>
<a name="l2240"><span class="ln">2240 </span></a>    <span class="s1">drop</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DropCollectionOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l2241"><span class="ln">2241 </span></a>    <span class="s5">/**</span>
<a name="l2242"><span class="ln">2242 </span></a>     <span class="s5">* Fetches the first document that matches the filter</span>
<a name="l2243"><span class="ln">2243 </span></a>     <span class="s5">*</span>
<a name="l2244"><span class="ln">2244 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - Query for find Operation</span>
<a name="l2245"><span class="ln">2245 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2246"><span class="ln">2246 </span></a>     <span class="s5">*/</span>
<a name="l2247"><span class="ln">2247 </span></a>    <span class="s1">findOne</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2248"><span class="ln">2248 </span></a>    <span class="s1">findOne</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2249"><span class="ln">2249 </span></a>    <span class="s1">findOne</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2250"><span class="ln">2250 </span></a>    <span class="s1">findOne</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">TSchema</span><span class="s3">&gt;(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">| </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2251"><span class="ln">2251 </span></a>    <span class="s1">findOne</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">TSchema</span><span class="s3">&gt;(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">| </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2252"><span class="ln">2252 </span></a>    <span class="s1">findOne</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">TSchema</span><span class="s3">&gt;(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">FindOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">| </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2253"><span class="ln">2253 </span></a>    <span class="s5">/**</span>
<a name="l2254"><span class="ln">2254 </span></a>     <span class="s5">* Creates a cursor for a filter that can be used to iterate over results from MongoDB</span>
<a name="l2255"><span class="ln">2255 </span></a>     <span class="s5">*</span>
<a name="l2256"><span class="ln">2256 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter predicate. If unspecified, then all documents in the collection will match the predicate</span>
<a name="l2257"><span class="ln">2257 </span></a>     <span class="s5">*/</span>
<a name="l2258"><span class="ln">2258 </span></a>    <span class="s1">find</span><span class="s3">(): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2259"><span class="ln">2259 </span></a>    <span class="s1">find</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">FindOptions</span><span class="s3">): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2260"><span class="ln">2260 </span></a>    <span class="s1">find</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">FindOptions</span><span class="s3">): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l2261"><span class="ln">2261 </span></a>    <span class="s5">/**</span>
<a name="l2262"><span class="ln">2262 </span></a>     <span class="s5">* Returns the options of the collection.</span>
<a name="l2263"><span class="ln">2263 </span></a>     <span class="s5">*</span>
<a name="l2264"><span class="ln">2264 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2265"><span class="ln">2265 </span></a>     <span class="s5">*/</span>
<a name="l2266"><span class="ln">2266 </span></a>    <span class="s1">options</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">OperationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l2267"><span class="ln">2267 </span></a>    <span class="s5">/**</span>
<a name="l2268"><span class="ln">2268 </span></a>     <span class="s5">* Returns if the collection is a capped collection</span>
<a name="l2269"><span class="ln">2269 </span></a>     <span class="s5">*</span>
<a name="l2270"><span class="ln">2270 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2271"><span class="ln">2271 </span></a>     <span class="s5">*/</span>
<a name="l2272"><span class="ln">2272 </span></a>    <span class="s1">isCapped</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">OperationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l2273"><span class="ln">2273 </span></a>    <span class="s5">/**</span>
<a name="l2274"><span class="ln">2274 </span></a>     <span class="s5">* Creates an index on the db and collection collection.</span>
<a name="l2275"><span class="ln">2275 </span></a>     <span class="s5">*</span>
<a name="l2276"><span class="ln">2276 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">indexSpec - The field name or index specification to create an index for</span>
<a name="l2277"><span class="ln">2277 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2278"><span class="ln">2278 </span></a>     <span class="s5">*</span>
<a name="l2279"><span class="ln">2279 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l2280"><span class="ln">2280 </span></a>     <span class="s5">* ```ts</span>
<a name="l2281"><span class="ln">2281 </span></a>     <span class="s5">* const collection = client.db('foo').collection('bar');</span>
<a name="l2282"><span class="ln">2282 </span></a>     <span class="s5">*</span>
<a name="l2283"><span class="ln">2283 </span></a>     <span class="s5">* await collection.createIndex({ a: 1, b: -1 });</span>
<a name="l2284"><span class="ln">2284 </span></a>     <span class="s5">*</span>
<a name="l2285"><span class="ln">2285 </span></a>     <span class="s5">* // Alternate syntax for { c: 1, d: -1 } that ensures order of indexes</span>
<a name="l2286"><span class="ln">2286 </span></a>     <span class="s5">* await collection.createIndex([ [c, 1], [d, -1] ]);</span>
<a name="l2287"><span class="ln">2287 </span></a>     <span class="s5">*</span>
<a name="l2288"><span class="ln">2288 </span></a>     <span class="s5">* // Equivalent to { e: 1 }</span>
<a name="l2289"><span class="ln">2289 </span></a>     <span class="s5">* await collection.createIndex('e');</span>
<a name="l2290"><span class="ln">2290 </span></a>     <span class="s5">*</span>
<a name="l2291"><span class="ln">2291 </span></a>     <span class="s5">* // Equivalent to { f: 1, g: 1 }</span>
<a name="l2292"><span class="ln">2292 </span></a>     <span class="s5">* await collection.createIndex(['f', 'g'])</span>
<a name="l2293"><span class="ln">2293 </span></a>     <span class="s5">*</span>
<a name="l2294"><span class="ln">2294 </span></a>     <span class="s5">* // Equivalent to { h: 1, i: -1 }</span>
<a name="l2295"><span class="ln">2295 </span></a>     <span class="s5">* await collection.createIndex([ { h: 1 }, { i: -1 } ]);</span>
<a name="l2296"><span class="ln">2296 </span></a>     <span class="s5">*</span>
<a name="l2297"><span class="ln">2297 </span></a>     <span class="s5">* // Equivalent to { j: 1, k: -1, l: 2d }</span>
<a name="l2298"><span class="ln">2298 </span></a>     <span class="s5">* await collection.createIndex(['j', ['k', -1], { l: '2d' }])</span>
<a name="l2299"><span class="ln">2299 </span></a>     <span class="s5">* ```</span>
<a name="l2300"><span class="ln">2300 </span></a>     <span class="s5">*/</span>
<a name="l2301"><span class="ln">2301 </span></a>    <span class="s1">createIndex</span><span class="s3">(</span><span class="s1">indexSpec</span><span class="s3">: </span><span class="s1">IndexSpecification</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CreateIndexesOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">&gt;;</span>
<a name="l2302"><span class="ln">2302 </span></a>    <span class="s5">/**</span>
<a name="l2303"><span class="ln">2303 </span></a>     <span class="s5">* Creates multiple indexes in the collection, this method is only supported for</span>
<a name="l2304"><span class="ln">2304 </span></a>     <span class="s5">* MongoDB 2.6 or higher. Earlier version of MongoDB will throw a command not supported</span>
<a name="l2305"><span class="ln">2305 </span></a>     <span class="s5">* error.</span>
<a name="l2306"><span class="ln">2306 </span></a>     <span class="s5">*</span>
<a name="l2307"><span class="ln">2307 </span></a>     <span class="s5">* **Note**: Unlike {</span><span class="s6">@link </span><span class="s5">Collection#createIndex| createIndex}, this function takes in raw index specifications.</span>
<a name="l2308"><span class="ln">2308 </span></a>     <span class="s5">* Index specifications are defined {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/command/createIndexes/| here}.</span>
<a name="l2309"><span class="ln">2309 </span></a>     <span class="s5">*</span>
<a name="l2310"><span class="ln">2310 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">indexSpecs - An array of index specifications to be created</span>
<a name="l2311"><span class="ln">2311 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2312"><span class="ln">2312 </span></a>     <span class="s5">*</span>
<a name="l2313"><span class="ln">2313 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l2314"><span class="ln">2314 </span></a>     <span class="s5">* ```ts</span>
<a name="l2315"><span class="ln">2315 </span></a>     <span class="s5">* const collection = client.db('foo').collection('bar');</span>
<a name="l2316"><span class="ln">2316 </span></a>     <span class="s5">* await collection.createIndexes([</span>
<a name="l2317"><span class="ln">2317 </span></a>     <span class="s5">*   // Simple index on field fizz</span>
<a name="l2318"><span class="ln">2318 </span></a>     <span class="s5">*   {</span>
<a name="l2319"><span class="ln">2319 </span></a>     <span class="s5">*     key: { fizz: 1 },</span>
<a name="l2320"><span class="ln">2320 </span></a>     <span class="s5">*   }</span>
<a name="l2321"><span class="ln">2321 </span></a>     <span class="s5">*   // wildcard index</span>
<a name="l2322"><span class="ln">2322 </span></a>     <span class="s5">*   {</span>
<a name="l2323"><span class="ln">2323 </span></a>     <span class="s5">*     key: { '$**': 1 }</span>
<a name="l2324"><span class="ln">2324 </span></a>     <span class="s5">*   },</span>
<a name="l2325"><span class="ln">2325 </span></a>     <span class="s5">*   // named index on darmok and jalad</span>
<a name="l2326"><span class="ln">2326 </span></a>     <span class="s5">*   {</span>
<a name="l2327"><span class="ln">2327 </span></a>     <span class="s5">*     key: { darmok: 1, jalad: -1 }</span>
<a name="l2328"><span class="ln">2328 </span></a>     <span class="s5">*     name: 'tanagra'</span>
<a name="l2329"><span class="ln">2329 </span></a>     <span class="s5">*   }</span>
<a name="l2330"><span class="ln">2330 </span></a>     <span class="s5">* ]);</span>
<a name="l2331"><span class="ln">2331 </span></a>     <span class="s5">* ```</span>
<a name="l2332"><span class="ln">2332 </span></a>     <span class="s5">*/</span>
<a name="l2333"><span class="ln">2333 </span></a>    <span class="s1">createIndexes</span><span class="s3">(</span><span class="s1">indexSpecs</span><span class="s3">: </span><span class="s1">IndexDescription</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CreateIndexesOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">[]&gt;;</span>
<a name="l2334"><span class="ln">2334 </span></a>    <span class="s5">/**</span>
<a name="l2335"><span class="ln">2335 </span></a>     <span class="s5">* Drops an index from this collection.</span>
<a name="l2336"><span class="ln">2336 </span></a>     <span class="s5">*</span>
<a name="l2337"><span class="ln">2337 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">indexName - Name of the index to drop.</span>
<a name="l2338"><span class="ln">2338 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2339"><span class="ln">2339 </span></a>     <span class="s5">*/</span>
<a name="l2340"><span class="ln">2340 </span></a>    <span class="s1">dropIndex</span><span class="s3">(</span><span class="s1">indexName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DropIndexesOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l2341"><span class="ln">2341 </span></a>    <span class="s5">/**</span>
<a name="l2342"><span class="ln">2342 </span></a>     <span class="s5">* Drops all indexes from this collection.</span>
<a name="l2343"><span class="ln">2343 </span></a>     <span class="s5">*</span>
<a name="l2344"><span class="ln">2344 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2345"><span class="ln">2345 </span></a>     <span class="s5">*/</span>
<a name="l2346"><span class="ln">2346 </span></a>    <span class="s1">dropIndexes</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DropIndexesOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l2347"><span class="ln">2347 </span></a>    <span class="s5">/**</span>
<a name="l2348"><span class="ln">2348 </span></a>     <span class="s5">* Get the list of all indexes information for the collection.</span>
<a name="l2349"><span class="ln">2349 </span></a>     <span class="s5">*</span>
<a name="l2350"><span class="ln">2350 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2351"><span class="ln">2351 </span></a>     <span class="s5">*/</span>
<a name="l2352"><span class="ln">2352 </span></a>    <span class="s1">listIndexes</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListIndexesOptions</span><span class="s3">): </span><span class="s1">ListIndexesCursor</span><span class="s3">;</span>
<a name="l2353"><span class="ln">2353 </span></a>    <span class="s5">/**</span>
<a name="l2354"><span class="ln">2354 </span></a>     <span class="s5">* Checks if one or more indexes exist on the collection, fails on first non-existing index</span>
<a name="l2355"><span class="ln">2355 </span></a>     <span class="s5">*</span>
<a name="l2356"><span class="ln">2356 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">indexes - One or more index names to check.</span>
<a name="l2357"><span class="ln">2357 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2358"><span class="ln">2358 </span></a>     <span class="s5">*/</span>
<a name="l2359"><span class="ln">2359 </span></a>    <span class="s1">indexExists</span><span class="s3">(</span><span class="s1">indexes</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">string</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">IndexInformationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l2360"><span class="ln">2360 </span></a>    <span class="s5">/**</span>
<a name="l2361"><span class="ln">2361 </span></a>     <span class="s5">* Retrieves this collections index info.</span>
<a name="l2362"><span class="ln">2362 </span></a>     <span class="s5">*</span>
<a name="l2363"><span class="ln">2363 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2364"><span class="ln">2364 </span></a>     <span class="s5">*/</span>
<a name="l2365"><span class="ln">2365 </span></a>    <span class="s1">indexInformation</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">IndexInformationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l2366"><span class="ln">2366 </span></a>    <span class="s5">/**</span>
<a name="l2367"><span class="ln">2367 </span></a>     <span class="s5">* Gets an estimate of the count of documents in a collection using collection metadata.</span>
<a name="l2368"><span class="ln">2368 </span></a>     <span class="s5">* This will always run a count command on all server versions.</span>
<a name="l2369"><span class="ln">2369 </span></a>     <span class="s5">*</span>
<a name="l2370"><span class="ln">2370 </span></a>     <span class="s5">* due to an oversight in versions 5.0.0-5.0.8 of MongoDB, the count command,</span>
<a name="l2371"><span class="ln">2371 </span></a>     <span class="s5">* which estimatedDocumentCount uses in its implementation, was not included in v1 of</span>
<a name="l2372"><span class="ln">2372 </span></a>     <span class="s5">* the Stable API, and so users of the Stable API with estimatedDocumentCount are</span>
<a name="l2373"><span class="ln">2373 </span></a>     <span class="s5">* recommended to upgrade their server version to 5.0.9+ or set apiStrict: false to avoid</span>
<a name="l2374"><span class="ln">2374 </span></a>     <span class="s5">* encountering errors.</span>
<a name="l2375"><span class="ln">2375 </span></a>     <span class="s5">*</span>
<a name="l2376"><span class="ln">2376 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">{@link https://www.mongodb.com/docs/manual/reference/command/count/#behavior|Count: Behavior}</span>
<a name="l2377"><span class="ln">2377 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2378"><span class="ln">2378 </span></a>     <span class="s5">*/</span>
<a name="l2379"><span class="ln">2379 </span></a>    <span class="s1">estimatedDocumentCount</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">EstimatedDocumentCountOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">number</span><span class="s3">&gt;;</span>
<a name="l2380"><span class="ln">2380 </span></a>    <span class="s5">/**</span>
<a name="l2381"><span class="ln">2381 </span></a>     <span class="s5">* Gets the number of documents matching the filter.</span>
<a name="l2382"><span class="ln">2382 </span></a>     <span class="s5">* For a fast count of the total documents in a collection see {</span><span class="s6">@link </span><span class="s5">Collection#estimatedDocumentCount| estimatedDocumentCount}.</span>
<a name="l2383"><span class="ln">2383 </span></a>     <span class="s5">* **Note**: When migrating from {</span><span class="s6">@link </span><span class="s5">Collection#count| count} to {</span><span class="s6">@link </span><span class="s5">Collection#countDocuments| countDocuments}</span>
<a name="l2384"><span class="ln">2384 </span></a>     <span class="s5">* the following query operators must be replaced:</span>
<a name="l2385"><span class="ln">2385 </span></a>     <span class="s5">*</span>
<a name="l2386"><span class="ln">2386 </span></a>     <span class="s5">* | Operator | Replacement |</span>
<a name="l2387"><span class="ln">2387 </span></a>     <span class="s5">* | -------- | ----------- |</span>
<a name="l2388"><span class="ln">2388 </span></a>     <span class="s5">* | `$where`   | [`$expr`][1] |</span>
<a name="l2389"><span class="ln">2389 </span></a>     <span class="s5">* | `$near`    | [`$geoWithin`][2] with [`$center`][3] |</span>
<a name="l2390"><span class="ln">2390 </span></a>     <span class="s5">* | `$nearSphere` | [`$geoWithin`][2] with [`$centerSphere`][4] |</span>
<a name="l2391"><span class="ln">2391 </span></a>     <span class="s5">*</span>
<a name="l2392"><span class="ln">2392 </span></a>     <span class="s5">* [1]: https://www.mongodb.com/docs/manual/reference/operator/query/expr/</span>
<a name="l2393"><span class="ln">2393 </span></a>     <span class="s5">* [2]: https://www.mongodb.com/docs/manual/reference/operator/query/geoWithin/</span>
<a name="l2394"><span class="ln">2394 </span></a>     <span class="s5">* [3]: https://www.mongodb.com/docs/manual/reference/operator/query/center/#op._S_center</span>
<a name="l2395"><span class="ln">2395 </span></a>     <span class="s5">* [4]: https://www.mongodb.com/docs/manual/reference/operator/query/centerSphere/#op._S_centerSphere</span>
<a name="l2396"><span class="ln">2396 </span></a>     <span class="s5">*</span>
<a name="l2397"><span class="ln">2397 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter for the count</span>
<a name="l2398"><span class="ln">2398 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2399"><span class="ln">2399 </span></a>     <span class="s5">*</span>
<a name="l2400"><span class="ln">2400 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/operator/query/expr/</span>
<a name="l2401"><span class="ln">2401 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/operator/query/geoWithin/</span>
<a name="l2402"><span class="ln">2402 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/operator/query/center/#op._S_center</span>
<a name="l2403"><span class="ln">2403 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/operator/query/centerSphere/#op._S_centerSphere</span>
<a name="l2404"><span class="ln">2404 </span></a>     <span class="s5">*/</span>
<a name="l2405"><span class="ln">2405 </span></a>    <span class="s1">countDocuments</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CountDocumentsOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">number</span><span class="s3">&gt;;</span>
<a name="l2406"><span class="ln">2406 </span></a>    <span class="s5">/**</span>
<a name="l2407"><span class="ln">2407 </span></a>     <span class="s5">* The distinct command returns a list of distinct values for the given key across a collection.</span>
<a name="l2408"><span class="ln">2408 </span></a>     <span class="s5">*</span>
<a name="l2409"><span class="ln">2409 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">key - Field of the document to find distinct values for</span>
<a name="l2410"><span class="ln">2410 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter for filtering the set of documents to which we apply the distinct filter.</span>
<a name="l2411"><span class="ln">2411 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2412"><span class="ln">2412 </span></a>     <span class="s5">*/</span>
<a name="l2413"><span class="ln">2413 </span></a>    <span class="s1">distinct</span><span class="s3">&lt;</span><span class="s1">Key </span><span class="s2">extends </span><span class="s1">keyof WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;(</span><span class="s1">key</span><span class="s3">: </span><span class="s1">Key</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Array</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[</span><span class="s1">Key</span><span class="s3">]&gt;&gt;&gt;;</span>
<a name="l2414"><span class="ln">2414 </span></a>    <span class="s1">distinct</span><span class="s3">&lt;</span><span class="s1">Key </span><span class="s2">extends </span><span class="s1">keyof WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;(</span><span class="s1">key</span><span class="s3">: </span><span class="s1">Key</span><span class="s3">, </span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Array</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[</span><span class="s1">Key</span><span class="s3">]&gt;&gt;&gt;;</span>
<a name="l2415"><span class="ln">2415 </span></a>    <span class="s1">distinct</span><span class="s3">&lt;</span><span class="s1">Key </span><span class="s2">extends </span><span class="s1">keyof WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;(</span><span class="s1">key</span><span class="s3">: </span><span class="s1">Key</span><span class="s3">, </span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">DistinctOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Array</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[</span><span class="s1">Key</span><span class="s3">]&gt;&gt;&gt;;</span>
<a name="l2416"><span class="ln">2416 </span></a>    <span class="s1">distinct</span><span class="s3">(</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">[]&gt;;</span>
<a name="l2417"><span class="ln">2417 </span></a>    <span class="s1">distinct</span><span class="s3">(</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">[]&gt;;</span>
<a name="l2418"><span class="ln">2418 </span></a>    <span class="s1">distinct</span><span class="s3">(</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">DistinctOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">[]&gt;;</span>
<a name="l2419"><span class="ln">2419 </span></a>    <span class="s5">/**</span>
<a name="l2420"><span class="ln">2420 </span></a>     <span class="s5">* Retrieve all the indexes on the collection.</span>
<a name="l2421"><span class="ln">2421 </span></a>     <span class="s5">*</span>
<a name="l2422"><span class="ln">2422 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2423"><span class="ln">2423 </span></a>     <span class="s5">*/</span>
<a name="l2424"><span class="ln">2424 </span></a>    <span class="s1">indexes</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">IndexInformationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">[]&gt;;</span>
<a name="l2425"><span class="ln">2425 </span></a>    <span class="s5">/**</span>
<a name="l2426"><span class="ln">2426 </span></a>     <span class="s5">* Find a document and delete it in one atomic operation. Requires a write lock for the duration of the operation.</span>
<a name="l2427"><span class="ln">2427 </span></a>     <span class="s5">*</span>
<a name="l2428"><span class="ln">2428 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the document to remove</span>
<a name="l2429"><span class="ln">2429 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2430"><span class="ln">2430 </span></a>     <span class="s5">*/</span>
<a name="l2431"><span class="ln">2431 </span></a>    <span class="s1">findOneAndDelete</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndDeleteOptions </span><span class="s3">&amp; {</span>
<a name="l2432"><span class="ln">2432 </span></a>        <span class="s1">includeResultMetadata</span><span class="s3">: </span><span class="s2">true</span><span class="s3">;</span>
<a name="l2433"><span class="ln">2433 </span></a>    <span class="s3">}): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">ModifyResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2434"><span class="ln">2434 </span></a>    <span class="s1">findOneAndDelete</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndDeleteOptions </span><span class="s3">&amp; {</span>
<a name="l2435"><span class="ln">2435 </span></a>        <span class="s1">includeResultMetadata</span><span class="s3">: </span><span class="s2">false</span><span class="s3">;</span>
<a name="l2436"><span class="ln">2436 </span></a>    <span class="s3">}): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2437"><span class="ln">2437 </span></a>    <span class="s1">findOneAndDelete</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndDeleteOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2438"><span class="ln">2438 </span></a>    <span class="s1">findOneAndDelete</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2439"><span class="ln">2439 </span></a>    <span class="s5">/**</span>
<a name="l2440"><span class="ln">2440 </span></a>     <span class="s5">* Find a document and replace it in one atomic operation. Requires a write lock for the duration of the operation.</span>
<a name="l2441"><span class="ln">2441 </span></a>     <span class="s5">*</span>
<a name="l2442"><span class="ln">2442 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the document to replace</span>
<a name="l2443"><span class="ln">2443 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">replacement - The Document that replaces the matching document</span>
<a name="l2444"><span class="ln">2444 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2445"><span class="ln">2445 </span></a>     <span class="s5">*/</span>
<a name="l2446"><span class="ln">2446 </span></a>    <span class="s1">findOneAndReplace</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">replacement</span><span class="s3">: </span><span class="s1">WithoutId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndReplaceOptions </span><span class="s3">&amp; {</span>
<a name="l2447"><span class="ln">2447 </span></a>        <span class="s1">includeResultMetadata</span><span class="s3">: </span><span class="s2">true</span><span class="s3">;</span>
<a name="l2448"><span class="ln">2448 </span></a>    <span class="s3">}): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">ModifyResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2449"><span class="ln">2449 </span></a>    <span class="s1">findOneAndReplace</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">replacement</span><span class="s3">: </span><span class="s1">WithoutId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndReplaceOptions </span><span class="s3">&amp; {</span>
<a name="l2450"><span class="ln">2450 </span></a>        <span class="s1">includeResultMetadata</span><span class="s3">: </span><span class="s2">false</span><span class="s3">;</span>
<a name="l2451"><span class="ln">2451 </span></a>    <span class="s3">}): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2452"><span class="ln">2452 </span></a>    <span class="s1">findOneAndReplace</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">replacement</span><span class="s3">: </span><span class="s1">WithoutId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndReplaceOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2453"><span class="ln">2453 </span></a>    <span class="s1">findOneAndReplace</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">replacement</span><span class="s3">: </span><span class="s1">WithoutId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2454"><span class="ln">2454 </span></a>    <span class="s5">/**</span>
<a name="l2455"><span class="ln">2455 </span></a>     <span class="s5">* Find a document and update it in one atomic operation. Requires a write lock for the duration of the operation.</span>
<a name="l2456"><span class="ln">2456 </span></a>     <span class="s5">*</span>
<a name="l2457"><span class="ln">2457 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter used to select the document to update</span>
<a name="l2458"><span class="ln">2458 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">update - Update operations to be performed on the document</span>
<a name="l2459"><span class="ln">2459 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2460"><span class="ln">2460 </span></a>     <span class="s5">*/</span>
<a name="l2461"><span class="ln">2461 </span></a>    <span class="s1">findOneAndUpdate</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndUpdateOptions </span><span class="s3">&amp; {</span>
<a name="l2462"><span class="ln">2462 </span></a>        <span class="s1">includeResultMetadata</span><span class="s3">: </span><span class="s2">true</span><span class="s3">;</span>
<a name="l2463"><span class="ln">2463 </span></a>    <span class="s3">}): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">ModifyResult</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l2464"><span class="ln">2464 </span></a>    <span class="s1">findOneAndUpdate</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndUpdateOptions </span><span class="s3">&amp; {</span>
<a name="l2465"><span class="ln">2465 </span></a>        <span class="s1">includeResultMetadata</span><span class="s3">: </span><span class="s2">false</span><span class="s3">;</span>
<a name="l2466"><span class="ln">2466 </span></a>    <span class="s3">}): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2467"><span class="ln">2467 </span></a>    <span class="s1">findOneAndUpdate</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">FindOneAndUpdateOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2468"><span class="ln">2468 </span></a>    <span class="s1">findOneAndUpdate</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">&gt;;</span>
<a name="l2469"><span class="ln">2469 </span></a>    <span class="s5">/**</span>
<a name="l2470"><span class="ln">2470 </span></a>     <span class="s5">* Execute an aggregation framework pipeline against the collection, needs MongoDB \&gt;= 2.2</span>
<a name="l2471"><span class="ln">2471 </span></a>     <span class="s5">*</span>
<a name="l2472"><span class="ln">2472 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">pipeline - An array of aggregation pipelines to execute</span>
<a name="l2473"><span class="ln">2473 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2474"><span class="ln">2474 </span></a>     <span class="s5">*/</span>
<a name="l2475"><span class="ln">2475 </span></a>    <span class="s1">aggregate</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">pipeline</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">AggregateOptions</span><span class="s3">): </span><span class="s1">AggregationCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l2476"><span class="ln">2476 </span></a>    <span class="s5">/**</span>
<a name="l2477"><span class="ln">2477 </span></a>     <span class="s5">* Create a new Change Stream, watching for new changes (insertions, updates, replacements, deletions, and invalidations) in this collection.</span>
<a name="l2478"><span class="ln">2478 </span></a>     <span class="s5">*</span>
<a name="l2479"><span class="ln">2479 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l2480"><span class="ln">2480 </span></a>     <span class="s5">* watch() accepts two generic arguments for distinct use cases:</span>
<a name="l2481"><span class="ln">2481 </span></a>     <span class="s5">* - The first is to override the schema that may be defined for this specific collection</span>
<a name="l2482"><span class="ln">2482 </span></a>     <span class="s5">* - The second is to override the shape of the change stream document entirely, if it is not provided the type will default to ChangeStreamDocument of the first argument</span>
<a name="l2483"><span class="ln">2483 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l2484"><span class="ln">2484 </span></a>     <span class="s5">* By just providing the first argument I can type the change to be `ChangeStreamDocument&lt;{ _id: number }&gt;`</span>
<a name="l2485"><span class="ln">2485 </span></a>     <span class="s5">* ```ts</span>
<a name="l2486"><span class="ln">2486 </span></a>     <span class="s5">* collection.watch&lt;{ _id: number }&gt;()</span>
<a name="l2487"><span class="ln">2487 </span></a>     <span class="s5">*   .on('change', change =&gt; console.log(change._id.toFixed(4)));</span>
<a name="l2488"><span class="ln">2488 </span></a>     <span class="s5">* ```</span>
<a name="l2489"><span class="ln">2489 </span></a>     <span class="s5">*</span>
<a name="l2490"><span class="ln">2490 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l2491"><span class="ln">2491 </span></a>     <span class="s5">* Passing a second argument provides a way to reflect the type changes caused by an advanced pipeline.</span>
<a name="l2492"><span class="ln">2492 </span></a>     <span class="s5">* Here, we are using a pipeline to have MongoDB filter for insert changes only and add a comment.</span>
<a name="l2493"><span class="ln">2493 </span></a>     <span class="s5">* No need start from scratch on the ChangeStreamInsertDocument type!</span>
<a name="l2494"><span class="ln">2494 </span></a>     <span class="s5">* By using an intersection we can save time and ensure defaults remain the same type!</span>
<a name="l2495"><span class="ln">2495 </span></a>     <span class="s5">* ```ts</span>
<a name="l2496"><span class="ln">2496 </span></a>     <span class="s5">* collection</span>
<a name="l2497"><span class="ln">2497 </span></a>     <span class="s5">*   .watch&lt;Schema, ChangeStreamInsertDocument&lt;Schema&gt; &amp; { comment: string }&gt;([</span>
<a name="l2498"><span class="ln">2498 </span></a>     <span class="s5">*     { $addFields: { comment: 'big changes' } },</span>
<a name="l2499"><span class="ln">2499 </span></a>     <span class="s5">*     { $match: { operationType: 'insert' } }</span>
<a name="l2500"><span class="ln">2500 </span></a>     <span class="s5">*   ])</span>
<a name="l2501"><span class="ln">2501 </span></a>     <span class="s5">*   .on('change', change =&gt; {</span>
<a name="l2502"><span class="ln">2502 </span></a>     <span class="s5">*     change.comment.startsWith('big');</span>
<a name="l2503"><span class="ln">2503 </span></a>     <span class="s5">*     change.operationType === 'insert';</span>
<a name="l2504"><span class="ln">2504 </span></a>     <span class="s5">*     // No need to narrow in code because the generics did that for us!</span>
<a name="l2505"><span class="ln">2505 </span></a>     <span class="s5">*     expectType&lt;Schema&gt;(change.fullDocument);</span>
<a name="l2506"><span class="ln">2506 </span></a>     <span class="s5">*   });</span>
<a name="l2507"><span class="ln">2507 </span></a>     <span class="s5">* ```</span>
<a name="l2508"><span class="ln">2508 </span></a>     <span class="s5">*</span>
<a name="l2509"><span class="ln">2509 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">pipeline - An array of {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/|aggregation pipeline stages} through which to pass change stream documents. This allows for filtering (using $match) and manipulating the change stream documents.</span>
<a name="l2510"><span class="ln">2510 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2511"><span class="ln">2511 </span></a>     <span class="s5">* </span><span class="s6">@typeParam </span><span class="s5">TLocal - Type of the data being detected by the change stream</span>
<a name="l2512"><span class="ln">2512 </span></a>     <span class="s5">* </span><span class="s6">@typeParam </span><span class="s5">TChange - Type of the whole change stream document emitted</span>
<a name="l2513"><span class="ln">2513 </span></a>     <span class="s5">*/</span>
<a name="l2514"><span class="ln">2514 </span></a>    <span class="s1">watch</span><span class="s3">&lt;</span><span class="s1">TLocal </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">TChange </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">ChangeStreamDocument</span><span class="s3">&lt;</span><span class="s1">TLocal</span><span class="s3">&gt;&gt;(</span><span class="s1">pipeline</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ChangeStreamOptions</span><span class="s3">): </span><span class="s1">ChangeStream</span><span class="s3">&lt;</span><span class="s1">TLocal</span><span class="s3">, </span><span class="s1">TChange</span><span class="s3">&gt;;</span>
<a name="l2515"><span class="ln">2515 </span></a>    <span class="s5">/**</span>
<a name="l2516"><span class="ln">2516 </span></a>     <span class="s5">* Initiate an Out of order batch write operation. All operations will be buffered into insert/update/remove commands executed out of order.</span>
<a name="l2517"><span class="ln">2517 </span></a>     <span class="s5">*</span>
<a name="l2518"><span class="ln">2518 </span></a>     <span class="s5">* </span><span class="s6">@throws </span><span class="s5">MongoNotConnectedError</span>
<a name="l2519"><span class="ln">2519 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l2520"><span class="ln">2520 </span></a>     <span class="s5">* **NOTE:** MongoClient must be connected prior to calling this method due to a known limitation in this legacy implementation.</span>
<a name="l2521"><span class="ln">2521 </span></a>     <span class="s5">* However, `collection.bulkWrite()` provides an equivalent API that does not require prior connecting.</span>
<a name="l2522"><span class="ln">2522 </span></a>     <span class="s5">*/</span>
<a name="l2523"><span class="ln">2523 </span></a>    <span class="s1">initializeUnorderedBulkOp</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">BulkWriteOptions</span><span class="s3">): </span><span class="s1">UnorderedBulkOperation</span><span class="s3">;</span>
<a name="l2524"><span class="ln">2524 </span></a>    <span class="s5">/**</span>
<a name="l2525"><span class="ln">2525 </span></a>     <span class="s5">* Initiate an In order bulk write operation. Operations will be serially executed in the order they are added, creating a new operation for each switch in types.</span>
<a name="l2526"><span class="ln">2526 </span></a>     <span class="s5">*</span>
<a name="l2527"><span class="ln">2527 </span></a>     <span class="s5">* </span><span class="s6">@throws </span><span class="s5">MongoNotConnectedError</span>
<a name="l2528"><span class="ln">2528 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l2529"><span class="ln">2529 </span></a>     <span class="s5">* **NOTE:** MongoClient must be connected prior to calling this method due to a known limitation in this legacy implementation.</span>
<a name="l2530"><span class="ln">2530 </span></a>     <span class="s5">* However, `collection.bulkWrite()` provides an equivalent API that does not require prior connecting.</span>
<a name="l2531"><span class="ln">2531 </span></a>     <span class="s5">*/</span>
<a name="l2532"><span class="ln">2532 </span></a>    <span class="s1">initializeOrderedBulkOp</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">BulkWriteOptions</span><span class="s3">): </span><span class="s1">OrderedBulkOperation</span><span class="s3">;</span>
<a name="l2533"><span class="ln">2533 </span></a>    <span class="s5">/**</span>
<a name="l2534"><span class="ln">2534 </span></a>     <span class="s5">* An estimated count of matching documents in the db to a filter.</span>
<a name="l2535"><span class="ln">2535 </span></a>     <span class="s5">*</span>
<a name="l2536"><span class="ln">2536 </span></a>     <span class="s5">* **NOTE:** This method has been deprecated, since it does not provide an accurate count of the documents</span>
<a name="l2537"><span class="ln">2537 </span></a>     <span class="s5">* in a collection. To obtain an accurate count of documents in the collection, use {</span><span class="s6">@link </span><span class="s5">Collection#countDocuments| countDocuments}.</span>
<a name="l2538"><span class="ln">2538 </span></a>     <span class="s5">* To obtain an estimated count of all documents in the collection, use {</span><span class="s6">@link </span><span class="s5">Collection#estimatedDocumentCount| estimatedDocumentCount}.</span>
<a name="l2539"><span class="ln">2539 </span></a>     <span class="s5">*</span>
<a name="l2540"><span class="ln">2540 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">use {</span><span class="s6">@link </span><span class="s5">Collection#countDocuments| countDocuments} or {</span><span class="s6">@link </span><span class="s5">Collection#estimatedDocumentCount| estimatedDocumentCount} instead</span>
<a name="l2541"><span class="ln">2541 </span></a>     <span class="s5">*</span>
<a name="l2542"><span class="ln">2542 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - The filter for the count.</span>
<a name="l2543"><span class="ln">2543 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l2544"><span class="ln">2544 </span></a>     <span class="s5">*/</span>
<a name="l2545"><span class="ln">2545 </span></a>    <span class="s1">count</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">?: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CountOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">number</span><span class="s3">&gt;;</span>
<a name="l2546"><span class="ln">2546 </span></a>    <span class="s5">/**</span>
<a name="l2547"><span class="ln">2547 </span></a>     <span class="s5">* Returns all search indexes for the current collection.</span>
<a name="l2548"><span class="ln">2548 </span></a>     <span class="s5">*</span>
<a name="l2549"><span class="ln">2549 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - The options for the list indexes operation.</span>
<a name="l2550"><span class="ln">2550 </span></a>     <span class="s5">*</span>
<a name="l2551"><span class="ln">2551 </span></a>     <span class="s5">* </span><span class="s6">@remarks </span><span class="s5">Only available when used against a 7.0+ Atlas cluster.</span>
<a name="l2552"><span class="ln">2552 </span></a>     <span class="s5">*/</span>
<a name="l2553"><span class="ln">2553 </span></a>    <span class="s1">listSearchIndexes</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListSearchIndexesOptions</span><span class="s3">): </span><span class="s1">ListSearchIndexesCursor</span><span class="s3">;</span>
<a name="l2554"><span class="ln">2554 </span></a>    <span class="s5">/**</span>
<a name="l2555"><span class="ln">2555 </span></a>     <span class="s5">* Returns all search indexes for the current collection.</span>
<a name="l2556"><span class="ln">2556 </span></a>     <span class="s5">*</span>
<a name="l2557"><span class="ln">2557 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - The name of the index to search for.  Only indexes with matching index names will be returned.</span>
<a name="l2558"><span class="ln">2558 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - The options for the list indexes operation.</span>
<a name="l2559"><span class="ln">2559 </span></a>     <span class="s5">*</span>
<a name="l2560"><span class="ln">2560 </span></a>     <span class="s5">* </span><span class="s6">@remarks </span><span class="s5">Only available when used against a 7.0+ Atlas cluster.</span>
<a name="l2561"><span class="ln">2561 </span></a>     <span class="s5">*/</span>
<a name="l2562"><span class="ln">2562 </span></a>    <span class="s1">listSearchIndexes</span><span class="s3">(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListSearchIndexesOptions</span><span class="s3">): </span><span class="s1">ListSearchIndexesCursor</span><span class="s3">;</span>
<a name="l2563"><span class="ln">2563 </span></a>    <span class="s5">/**</span>
<a name="l2564"><span class="ln">2564 </span></a>     <span class="s5">* Creates a single search index for the collection.</span>
<a name="l2565"><span class="ln">2565 </span></a>     <span class="s5">*</span>
<a name="l2566"><span class="ln">2566 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">description - The index description for the new search index.</span>
<a name="l2567"><span class="ln">2567 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">A promise that resolves to the name of the new search index.</span>
<a name="l2568"><span class="ln">2568 </span></a>     <span class="s5">*</span>
<a name="l2569"><span class="ln">2569 </span></a>     <span class="s5">* </span><span class="s6">@remarks </span><span class="s5">Only available when used against a 7.0+ Atlas cluster.</span>
<a name="l2570"><span class="ln">2570 </span></a>     <span class="s5">*/</span>
<a name="l2571"><span class="ln">2571 </span></a>    <span class="s1">createSearchIndex</span><span class="s3">(</span><span class="s1">description</span><span class="s3">: </span><span class="s1">SearchIndexDescription</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">&gt;;</span>
<a name="l2572"><span class="ln">2572 </span></a>    <span class="s5">/**</span>
<a name="l2573"><span class="ln">2573 </span></a>     <span class="s5">* Creates multiple search indexes for the current collection.</span>
<a name="l2574"><span class="ln">2574 </span></a>     <span class="s5">*</span>
<a name="l2575"><span class="ln">2575 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">descriptions - An array of `SearchIndexDescription`s for the new search indexes.</span>
<a name="l2576"><span class="ln">2576 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">A promise that resolves to an array of the newly created search index names.</span>
<a name="l2577"><span class="ln">2577 </span></a>     <span class="s5">*</span>
<a name="l2578"><span class="ln">2578 </span></a>     <span class="s5">* </span><span class="s6">@remarks </span><span class="s5">Only available when used against a 7.0+ Atlas cluster.</span>
<a name="l2579"><span class="ln">2579 </span></a>     <span class="s5">* </span><span class="s6">@returns</span>
<a name="l2580"><span class="ln">2580 </span></a>     <span class="s5">*/</span>
<a name="l2581"><span class="ln">2581 </span></a>    <span class="s1">createSearchIndexes</span><span class="s3">(</span><span class="s1">descriptions</span><span class="s3">: </span><span class="s1">SearchIndexDescription</span><span class="s3">[]): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">[]&gt;;</span>
<a name="l2582"><span class="ln">2582 </span></a>    <span class="s5">/**</span>
<a name="l2583"><span class="ln">2583 </span></a>     <span class="s5">* Deletes a search index by index name.</span>
<a name="l2584"><span class="ln">2584 </span></a>     <span class="s5">*</span>
<a name="l2585"><span class="ln">2585 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - The name of the search index to be deleted.</span>
<a name="l2586"><span class="ln">2586 </span></a>     <span class="s5">*</span>
<a name="l2587"><span class="ln">2587 </span></a>     <span class="s5">* </span><span class="s6">@remarks </span><span class="s5">Only available when used against a 7.0+ Atlas cluster.</span>
<a name="l2588"><span class="ln">2588 </span></a>     <span class="s5">*/</span>
<a name="l2589"><span class="ln">2589 </span></a>    <span class="s1">dropSearchIndex</span><span class="s3">(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l2590"><span class="ln">2590 </span></a>    <span class="s5">/**</span>
<a name="l2591"><span class="ln">2591 </span></a>     <span class="s5">* Updates a search index by replacing the existing index definition with the provided definition.</span>
<a name="l2592"><span class="ln">2592 </span></a>     <span class="s5">*</span>
<a name="l2593"><span class="ln">2593 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - The name of the search index to update.</span>
<a name="l2594"><span class="ln">2594 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">definition - The new search index definition.</span>
<a name="l2595"><span class="ln">2595 </span></a>     <span class="s5">*</span>
<a name="l2596"><span class="ln">2596 </span></a>     <span class="s5">* </span><span class="s6">@remarks </span><span class="s5">Only available when used against a 7.0+ Atlas cluster.</span>
<a name="l2597"><span class="ln">2597 </span></a>     <span class="s5">*/</span>
<a name="l2598"><span class="ln">2598 </span></a>    <span class="s1">updateSearchIndex</span><span class="s3">(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">definition</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l2599"><span class="ln">2599 </span></a><span class="s3">}</span>
<a name="l2600"><span class="ln">2600 </span></a>
<a name="l2601"><span class="ln">2601 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2602"><span class="ln">2602 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CollectionInfo </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">{</span>
<a name="l2603"><span class="ln">2603 </span></a>    <span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2604"><span class="ln">2604 </span></a>    <span class="s1">type</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2605"><span class="ln">2605 </span></a>    <span class="s1">options</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l2606"><span class="ln">2606 </span></a>    <span class="s1">info</span><span class="s3">?: {</span>
<a name="l2607"><span class="ln">2607 </span></a>        <span class="s1">readOnly</span><span class="s3">?: </span><span class="s2">false</span><span class="s3">;</span>
<a name="l2608"><span class="ln">2608 </span></a>        <span class="s1">uuid</span><span class="s3">?: </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l2609"><span class="ln">2609 </span></a>    <span class="s3">};</span>
<a name="l2610"><span class="ln">2610 </span></a>    <span class="s1">idIndex</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l2611"><span class="ln">2611 </span></a><span class="s3">}</span>
<a name="l2612"><span class="ln">2612 </span></a>
<a name="l2613"><span class="ln">2613 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2614"><span class="ln">2614 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CollectionOptions </span><span class="s2">extends </span><span class="s1">BSONSerializeOptions</span><span class="s3">, </span><span class="s1">WriteConcernOptions </span><span class="s3">{</span>
<a name="l2615"><span class="ln">2615 </span></a>    <span class="s5">/** Specify a read concern for the collection. (only MongoDB 3.2 or higher supported) */</span>
<a name="l2616"><span class="ln">2616 </span></a>    <span class="s1">readConcern</span><span class="s3">?: </span><span class="s1">ReadConcernLike</span><span class="s3">;</span>
<a name="l2617"><span class="ln">2617 </span></a>    <span class="s5">/** The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST). */</span>
<a name="l2618"><span class="ln">2618 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l2619"><span class="ln">2619 </span></a><span class="s3">}</span>
<a name="l2620"><span class="ln">2620 </span></a>
<a name="l2621"><span class="ln">2621 </span></a><span class="s0">/* Excluded from this release type: CollectionPrivate */</span>
<a name="l2622"><span class="ln">2622 </span></a>
<a name="l2623"><span class="ln">2623 </span></a><span class="s5">/**</span>
<a name="l2624"><span class="ln">2624 </span></a> <span class="s5">* An event indicating the failure of a given command</span>
<a name="l2625"><span class="ln">2625 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2626"><span class="ln">2626 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2627"><span class="ln">2627 </span></a> <span class="s5">*/</span>
<a name="l2628"><span class="ln">2628 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">CommandFailedEvent </span><span class="s3">{</span>
<a name="l2629"><span class="ln">2629 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2630"><span class="ln">2630 </span></a>    <span class="s1">connectionId</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2631"><span class="ln">2631 </span></a>    <span class="s1">requestId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2632"><span class="ln">2632 </span></a>    <span class="s1">duration</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2633"><span class="ln">2633 </span></a>    <span class="s1">commandName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2634"><span class="ln">2634 </span></a>    <span class="s1">failure</span><span class="s3">: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l2635"><span class="ln">2635 </span></a>    <span class="s1">serviceId</span><span class="s3">?: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l2636"><span class="ln">2636 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2637"><span class="ln">2637 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2638"><span class="ln">2638 </span></a>    <span class="s1">get hasServiceId</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2639"><span class="ln">2639 </span></a><span class="s3">}</span>
<a name="l2640"><span class="ln">2640 </span></a>
<a name="l2641"><span class="ln">2641 </span></a><span class="s0">/* Excluded from this release type: CommandOperation */</span>
<a name="l2642"><span class="ln">2642 </span></a>
<a name="l2643"><span class="ln">2643 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2644"><span class="ln">2644 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CommandOperationOptions </span><span class="s2">extends </span><span class="s1">OperationOptions</span><span class="s3">, </span><span class="s1">WriteConcernOptions</span><span class="s3">, </span><span class="s1">ExplainOptions </span><span class="s3">{</span>
<a name="l2645"><span class="ln">2645 </span></a>    <span class="s5">/** Specify a read concern and level for the collection. (only MongoDB 3.2 or higher supported) */</span>
<a name="l2646"><span class="ln">2646 </span></a>    <span class="s1">readConcern</span><span class="s3">?: </span><span class="s1">ReadConcernLike</span><span class="s3">;</span>
<a name="l2647"><span class="ln">2647 </span></a>    <span class="s5">/** Collation */</span>
<a name="l2648"><span class="ln">2648 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l2649"><span class="ln">2649 </span></a>    <span class="s1">maxTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2650"><span class="ln">2650 </span></a>    <span class="s5">/**</span>
<a name="l2651"><span class="ln">2651 </span></a>     <span class="s5">* Comment to apply to the operation.</span>
<a name="l2652"><span class="ln">2652 </span></a>     <span class="s5">*</span>
<a name="l2653"><span class="ln">2653 </span></a>     <span class="s5">* In server versions pre-4.4, 'comment' must be string.  A server</span>
<a name="l2654"><span class="ln">2654 </span></a>     <span class="s5">* error will be thrown if any other type is provided.</span>
<a name="l2655"><span class="ln">2655 </span></a>     <span class="s5">*</span>
<a name="l2656"><span class="ln">2656 </span></a>     <span class="s5">* In server versions 4.4 and above, 'comment' can be any valid BSON type.</span>
<a name="l2657"><span class="ln">2657 </span></a>     <span class="s5">*/</span>
<a name="l2658"><span class="ln">2658 </span></a>    <span class="s1">comment</span><span class="s3">?: </span><span class="s1">unknown</span><span class="s3">;</span>
<a name="l2659"><span class="ln">2659 </span></a>    <span class="s5">/** Should retry failed writes */</span>
<a name="l2660"><span class="ln">2660 </span></a>    <span class="s1">retryWrites</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2661"><span class="ln">2661 </span></a>    <span class="s1">dbName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2662"><span class="ln">2662 </span></a>    <span class="s1">authdb</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2663"><span class="ln">2663 </span></a>    <span class="s1">noResponse</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2664"><span class="ln">2664 </span></a><span class="s3">}</span>
<a name="l2665"><span class="ln">2665 </span></a>
<a name="l2666"><span class="ln">2666 </span></a><span class="s0">/* Excluded from this release type: CommandOptions */</span>
<a name="l2667"><span class="ln">2667 </span></a>
<a name="l2668"><span class="ln">2668 </span></a><span class="s5">/**</span>
<a name="l2669"><span class="ln">2669 </span></a> <span class="s5">* An event indicating the start of a given command</span>
<a name="l2670"><span class="ln">2670 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2671"><span class="ln">2671 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2672"><span class="ln">2672 </span></a> <span class="s5">*/</span>
<a name="l2673"><span class="ln">2673 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">CommandStartedEvent </span><span class="s3">{</span>
<a name="l2674"><span class="ln">2674 </span></a>    <span class="s1">commandObj</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l2675"><span class="ln">2675 </span></a>    <span class="s1">requestId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2676"><span class="ln">2676 </span></a>    <span class="s1">databaseName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2677"><span class="ln">2677 </span></a>    <span class="s1">commandName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2678"><span class="ln">2678 </span></a>    <span class="s1">command</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l2679"><span class="ln">2679 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2680"><span class="ln">2680 </span></a>    <span class="s1">connectionId</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2681"><span class="ln">2681 </span></a>    <span class="s1">serviceId</span><span class="s3">?: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l2682"><span class="ln">2682 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2683"><span class="ln">2683 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2684"><span class="ln">2684 </span></a>    <span class="s1">get hasServiceId</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2685"><span class="ln">2685 </span></a><span class="s3">}</span>
<a name="l2686"><span class="ln">2686 </span></a>
<a name="l2687"><span class="ln">2687 </span></a><span class="s5">/**</span>
<a name="l2688"><span class="ln">2688 </span></a> <span class="s5">* An event indicating the success of a given command</span>
<a name="l2689"><span class="ln">2689 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2690"><span class="ln">2690 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2691"><span class="ln">2691 </span></a> <span class="s5">*/</span>
<a name="l2692"><span class="ln">2692 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">CommandSucceededEvent </span><span class="s3">{</span>
<a name="l2693"><span class="ln">2693 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2694"><span class="ln">2694 </span></a>    <span class="s1">connectionId</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2695"><span class="ln">2695 </span></a>    <span class="s1">requestId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2696"><span class="ln">2696 </span></a>    <span class="s1">duration</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2697"><span class="ln">2697 </span></a>    <span class="s1">commandName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2698"><span class="ln">2698 </span></a>    <span class="s1">reply</span><span class="s3">: </span><span class="s1">unknown</span><span class="s3">;</span>
<a name="l2699"><span class="ln">2699 </span></a>    <span class="s1">serviceId</span><span class="s3">?: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l2700"><span class="ln">2700 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2701"><span class="ln">2701 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2702"><span class="ln">2702 </span></a>    <span class="s1">get hasServiceId</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2703"><span class="ln">2703 </span></a><span class="s3">}</span>
<a name="l2704"><span class="ln">2704 </span></a>
<a name="l2705"><span class="ln">2705 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2706"><span class="ln">2706 </span></a><span class="s2">export </span><span class="s1">declare type CommonEvents </span><span class="s3">= </span><span class="s4">'newListener' </span><span class="s3">| </span><span class="s4">'removeListener'</span><span class="s3">;</span>
<a name="l2707"><span class="ln">2707 </span></a>
<a name="l2708"><span class="ln">2708 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2709"><span class="ln">2709 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">Compressor</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l2710"><span class="ln">2710 </span></a>    <span class="s1">readonly none</span><span class="s3">: </span><span class="s7">0</span><span class="s3">;</span>
<a name="l2711"><span class="ln">2711 </span></a>    <span class="s1">readonly snappy</span><span class="s3">: </span><span class="s7">1</span><span class="s3">;</span>
<a name="l2712"><span class="ln">2712 </span></a>    <span class="s1">readonly zlib</span><span class="s3">: </span><span class="s7">2</span><span class="s3">;</span>
<a name="l2713"><span class="ln">2713 </span></a>    <span class="s1">readonly zstd</span><span class="s3">: </span><span class="s7">3</span><span class="s3">;</span>
<a name="l2714"><span class="ln">2714 </span></a><span class="s3">}&gt;;</span>
<a name="l2715"><span class="ln">2715 </span></a>
<a name="l2716"><span class="ln">2716 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2717"><span class="ln">2717 </span></a><span class="s2">export </span><span class="s1">declare type Compressor </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">Compressor</span><span class="s3">)[</span><span class="s1">CompressorName</span><span class="s3">];</span>
<a name="l2718"><span class="ln">2718 </span></a>
<a name="l2719"><span class="ln">2719 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2720"><span class="ln">2720 </span></a><span class="s2">export </span><span class="s1">declare type CompressorName </span><span class="s3">= </span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">Compressor</span><span class="s3">;</span>
<a name="l2721"><span class="ln">2721 </span></a>
<a name="l2722"><span class="ln">2722 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2723"><span class="ln">2723 </span></a><span class="s2">export </span><span class="s1">declare type Condition</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt; = </span><span class="s1">AlternativeType</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt; | </span><span class="s1">FilterOperators</span><span class="s3">&lt;</span><span class="s1">AlternativeType</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;&gt;;</span>
<a name="l2724"><span class="ln">2724 </span></a>
<a name="l2725"><span class="ln">2725 </span></a><span class="s0">/* Excluded from this release type: Connection */</span>
<a name="l2726"><span class="ln">2726 </span></a>
<a name="l2727"><span class="ln">2727 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_CHECK_OUT_FAILED */</span>
<a name="l2728"><span class="ln">2728 </span></a>
<a name="l2729"><span class="ln">2729 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_CHECK_OUT_STARTED */</span>
<a name="l2730"><span class="ln">2730 </span></a>
<a name="l2731"><span class="ln">2731 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_CHECKED_IN */</span>
<a name="l2732"><span class="ln">2732 </span></a>
<a name="l2733"><span class="ln">2733 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_CHECKED_OUT */</span>
<a name="l2734"><span class="ln">2734 </span></a>
<a name="l2735"><span class="ln">2735 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_CLOSED */</span>
<a name="l2736"><span class="ln">2736 </span></a>
<a name="l2737"><span class="ln">2737 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_CREATED */</span>
<a name="l2738"><span class="ln">2738 </span></a>
<a name="l2739"><span class="ln">2739 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_POOL_CLEARED */</span>
<a name="l2740"><span class="ln">2740 </span></a>
<a name="l2741"><span class="ln">2741 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_POOL_CLOSED */</span>
<a name="l2742"><span class="ln">2742 </span></a>
<a name="l2743"><span class="ln">2743 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_POOL_CREATED */</span>
<a name="l2744"><span class="ln">2744 </span></a>
<a name="l2745"><span class="ln">2745 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_POOL_READY */</span>
<a name="l2746"><span class="ln">2746 </span></a>
<a name="l2747"><span class="ln">2747 </span></a><span class="s0">/* Excluded from this release type: CONNECTION_READY */</span>
<a name="l2748"><span class="ln">2748 </span></a>
<a name="l2749"><span class="ln">2749 </span></a><span class="s5">/**</span>
<a name="l2750"><span class="ln">2750 </span></a> <span class="s5">* An event published when a connection is checked into the connection pool</span>
<a name="l2751"><span class="ln">2751 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2752"><span class="ln">2752 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2753"><span class="ln">2753 </span></a> <span class="s5">*/</span>
<a name="l2754"><span class="ln">2754 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionCheckedInEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2755"><span class="ln">2755 </span></a>    <span class="s5">/** The id of the connection */</span>
<a name="l2756"><span class="ln">2756 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s4">'&lt;monitor&gt;'</span><span class="s3">;</span>
<a name="l2757"><span class="ln">2757 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2758"><span class="ln">2758 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2759"><span class="ln">2759 </span></a><span class="s3">}</span>
<a name="l2760"><span class="ln">2760 </span></a>
<a name="l2761"><span class="ln">2761 </span></a><span class="s5">/**</span>
<a name="l2762"><span class="ln">2762 </span></a> <span class="s5">* An event published when a connection is checked out of the connection pool</span>
<a name="l2763"><span class="ln">2763 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2764"><span class="ln">2764 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2765"><span class="ln">2765 </span></a> <span class="s5">*/</span>
<a name="l2766"><span class="ln">2766 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionCheckedOutEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2767"><span class="ln">2767 </span></a>    <span class="s5">/** The id of the connection */</span>
<a name="l2768"><span class="ln">2768 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s4">'&lt;monitor&gt;'</span><span class="s3">;</span>
<a name="l2769"><span class="ln">2769 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2770"><span class="ln">2770 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2771"><span class="ln">2771 </span></a><span class="s3">}</span>
<a name="l2772"><span class="ln">2772 </span></a>
<a name="l2773"><span class="ln">2773 </span></a><span class="s5">/**</span>
<a name="l2774"><span class="ln">2774 </span></a> <span class="s5">* An event published when a request to check a connection out fails</span>
<a name="l2775"><span class="ln">2775 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2776"><span class="ln">2776 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2777"><span class="ln">2777 </span></a> <span class="s5">*/</span>
<a name="l2778"><span class="ln">2778 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionCheckOutFailedEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2779"><span class="ln">2779 </span></a>    <span class="s5">/** The reason the attempt to check out failed */</span>
<a name="l2780"><span class="ln">2780 </span></a>    <span class="s1">reason</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2781"><span class="ln">2781 </span></a>    <span class="s0">/* Excluded from this release type: error */</span>
<a name="l2782"><span class="ln">2782 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2783"><span class="ln">2783 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2784"><span class="ln">2784 </span></a><span class="s3">}</span>
<a name="l2785"><span class="ln">2785 </span></a>
<a name="l2786"><span class="ln">2786 </span></a><span class="s5">/**</span>
<a name="l2787"><span class="ln">2787 </span></a> <span class="s5">* An event published when a request to check a connection out begins</span>
<a name="l2788"><span class="ln">2788 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2789"><span class="ln">2789 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2790"><span class="ln">2790 </span></a> <span class="s5">*/</span>
<a name="l2791"><span class="ln">2791 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionCheckOutStartedEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2792"><span class="ln">2792 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2793"><span class="ln">2793 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2794"><span class="ln">2794 </span></a><span class="s3">}</span>
<a name="l2795"><span class="ln">2795 </span></a>
<a name="l2796"><span class="ln">2796 </span></a><span class="s5">/**</span>
<a name="l2797"><span class="ln">2797 </span></a> <span class="s5">* An event published when a connection is closed</span>
<a name="l2798"><span class="ln">2798 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2799"><span class="ln">2799 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2800"><span class="ln">2800 </span></a> <span class="s5">*/</span>
<a name="l2801"><span class="ln">2801 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionClosedEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2802"><span class="ln">2802 </span></a>    <span class="s5">/** The id of the connection */</span>
<a name="l2803"><span class="ln">2803 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s4">'&lt;monitor&gt;'</span><span class="s3">;</span>
<a name="l2804"><span class="ln">2804 </span></a>    <span class="s5">/** The reason the connection was closed */</span>
<a name="l2805"><span class="ln">2805 </span></a>    <span class="s1">reason</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2806"><span class="ln">2806 </span></a>    <span class="s1">serviceId</span><span class="s3">?: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l2807"><span class="ln">2807 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2808"><span class="ln">2808 </span></a>    <span class="s0">/* Excluded from this release type: error */</span>
<a name="l2809"><span class="ln">2809 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2810"><span class="ln">2810 </span></a><span class="s3">}</span>
<a name="l2811"><span class="ln">2811 </span></a>
<a name="l2812"><span class="ln">2812 </span></a><span class="s5">/**</span>
<a name="l2813"><span class="ln">2813 </span></a> <span class="s5">* An event published when a connection pool creates a new connection</span>
<a name="l2814"><span class="ln">2814 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2815"><span class="ln">2815 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2816"><span class="ln">2816 </span></a> <span class="s5">*/</span>
<a name="l2817"><span class="ln">2817 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionCreatedEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2818"><span class="ln">2818 </span></a>    <span class="s5">/** A monotonically increasing, per-pool id for the newly created connection */</span>
<a name="l2819"><span class="ln">2819 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s4">'&lt;monitor&gt;'</span><span class="s3">;</span>
<a name="l2820"><span class="ln">2820 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2821"><span class="ln">2821 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2822"><span class="ln">2822 </span></a><span class="s3">}</span>
<a name="l2823"><span class="ln">2823 </span></a>
<a name="l2824"><span class="ln">2824 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2825"><span class="ln">2825 </span></a><span class="s2">export </span><span class="s1">declare type ConnectionEvents </span><span class="s3">= {</span>
<a name="l2826"><span class="ln">2826 </span></a>    <span class="s1">commandStarted</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommandStartedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2827"><span class="ln">2827 </span></a>    <span class="s1">commandSucceeded</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommandSucceededEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2828"><span class="ln">2828 </span></a>    <span class="s1">commandFailed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommandFailedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2829"><span class="ln">2829 </span></a>    <span class="s1">clusterTimeReceived</span><span class="s3">(</span><span class="s1">clusterTime</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2830"><span class="ln">2830 </span></a>    <span class="s1">close</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2831"><span class="ln">2831 </span></a>    <span class="s1">message</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">any</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2832"><span class="ln">2832 </span></a>    <span class="s1">pinned</span><span class="s3">(</span><span class="s1">pinType</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2833"><span class="ln">2833 </span></a>    <span class="s1">unpinned</span><span class="s3">(</span><span class="s1">pinType</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2834"><span class="ln">2834 </span></a><span class="s3">};</span>
<a name="l2835"><span class="ln">2835 </span></a>
<a name="l2836"><span class="ln">2836 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2837"><span class="ln">2837 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ConnectionOptions </span><span class="s2">extends </span><span class="s1">SupportedNodeConnectionOptions</span><span class="s3">, </span><span class="s1">StreamDescriptionOptions</span><span class="s3">, </span><span class="s1">ProxyOptions </span><span class="s3">{</span>
<a name="l2838"><span class="ln">2838 </span></a>    <span class="s1">id</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s4">'&lt;monitor&gt;'</span><span class="s3">;</span>
<a name="l2839"><span class="ln">2839 </span></a>    <span class="s1">generation</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2840"><span class="ln">2840 </span></a>    <span class="s1">hostAddress</span><span class="s3">: </span><span class="s1">HostAddress</span><span class="s3">;</span>
<a name="l2841"><span class="ln">2841 </span></a>    <span class="s0">/* Excluded from this release type: autoEncrypter */</span>
<a name="l2842"><span class="ln">2842 </span></a>    <span class="s1">serverApi</span><span class="s3">?: </span><span class="s1">ServerApi</span><span class="s3">;</span>
<a name="l2843"><span class="ln">2843 </span></a>    <span class="s1">monitorCommands</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2844"><span class="ln">2844 </span></a>    <span class="s0">/* Excluded from this release type: connectionType */</span>
<a name="l2845"><span class="ln">2845 </span></a>    <span class="s1">credentials</span><span class="s3">?: </span><span class="s1">MongoCredentials</span><span class="s3">;</span>
<a name="l2846"><span class="ln">2846 </span></a>    <span class="s1">connectTimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2847"><span class="ln">2847 </span></a>    <span class="s1">tls</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2848"><span class="ln">2848 </span></a>    <span class="s1">noDelay</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2849"><span class="ln">2849 </span></a>    <span class="s1">socketTimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2850"><span class="ln">2850 </span></a>    <span class="s1">cancellationToken</span><span class="s3">?: </span><span class="s1">CancellationToken</span><span class="s3">;</span>
<a name="l2851"><span class="ln">2851 </span></a>    <span class="s1">metadata</span><span class="s3">: </span><span class="s1">ClientMetadata</span><span class="s3">;</span>
<a name="l2852"><span class="ln">2852 </span></a><span class="s3">}</span>
<a name="l2853"><span class="ln">2853 </span></a>
<a name="l2854"><span class="ln">2854 </span></a><span class="s0">/* Excluded from this release type: ConnectionPool */</span>
<a name="l2855"><span class="ln">2855 </span></a>
<a name="l2856"><span class="ln">2856 </span></a><span class="s5">/**</span>
<a name="l2857"><span class="ln">2857 </span></a> <span class="s5">* An event published when a connection pool is cleared</span>
<a name="l2858"><span class="ln">2858 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2859"><span class="ln">2859 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2860"><span class="ln">2860 </span></a> <span class="s5">*/</span>
<a name="l2861"><span class="ln">2861 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionPoolClearedEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2862"><span class="ln">2862 </span></a>    <span class="s0">/* Excluded from this release type: serviceId */</span>
<a name="l2863"><span class="ln">2863 </span></a>    <span class="s1">interruptInUseConnections</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2864"><span class="ln">2864 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2865"><span class="ln">2865 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2866"><span class="ln">2866 </span></a><span class="s3">}</span>
<a name="l2867"><span class="ln">2867 </span></a>
<a name="l2868"><span class="ln">2868 </span></a><span class="s5">/**</span>
<a name="l2869"><span class="ln">2869 </span></a> <span class="s5">* An event published when a connection pool is closed</span>
<a name="l2870"><span class="ln">2870 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2871"><span class="ln">2871 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2872"><span class="ln">2872 </span></a> <span class="s5">*/</span>
<a name="l2873"><span class="ln">2873 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionPoolClosedEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2874"><span class="ln">2874 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2875"><span class="ln">2875 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2876"><span class="ln">2876 </span></a><span class="s3">}</span>
<a name="l2877"><span class="ln">2877 </span></a>
<a name="l2878"><span class="ln">2878 </span></a><span class="s5">/**</span>
<a name="l2879"><span class="ln">2879 </span></a> <span class="s5">* An event published when a connection pool is created</span>
<a name="l2880"><span class="ln">2880 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2881"><span class="ln">2881 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2882"><span class="ln">2882 </span></a> <span class="s5">*/</span>
<a name="l2883"><span class="ln">2883 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionPoolCreatedEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2884"><span class="ln">2884 </span></a>    <span class="s5">/** The options used to create this connection pool */</span>
<a name="l2885"><span class="ln">2885 </span></a>    <span class="s1">options</span><span class="s3">: </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">ConnectionPoolOptions</span><span class="s3">, </span><span class="s4">'maxPoolSize' </span><span class="s3">| </span><span class="s4">'minPoolSize' </span><span class="s3">| </span><span class="s4">'maxConnecting' </span><span class="s3">| </span><span class="s4">'maxIdleTimeMS' </span><span class="s3">| </span><span class="s4">'waitQueueTimeoutMS'</span><span class="s3">&gt;;</span>
<a name="l2886"><span class="ln">2886 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2887"><span class="ln">2887 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2888"><span class="ln">2888 </span></a><span class="s3">}</span>
<a name="l2889"><span class="ln">2889 </span></a>
<a name="l2890"><span class="ln">2890 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2891"><span class="ln">2891 </span></a><span class="s2">export </span><span class="s1">declare type ConnectionPoolEvents </span><span class="s3">= {</span>
<a name="l2892"><span class="ln">2892 </span></a>    <span class="s1">connectionPoolCreated</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionPoolCreatedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2893"><span class="ln">2893 </span></a>    <span class="s1">connectionPoolReady</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionPoolReadyEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2894"><span class="ln">2894 </span></a>    <span class="s1">connectionPoolClosed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionPoolClosedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2895"><span class="ln">2895 </span></a>    <span class="s1">connectionPoolCleared</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionPoolClearedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2896"><span class="ln">2896 </span></a>    <span class="s1">connectionCreated</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionCreatedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2897"><span class="ln">2897 </span></a>    <span class="s1">connectionReady</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionReadyEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2898"><span class="ln">2898 </span></a>    <span class="s1">connectionClosed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionClosedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2899"><span class="ln">2899 </span></a>    <span class="s1">connectionCheckOutStarted</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionCheckOutStartedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2900"><span class="ln">2900 </span></a>    <span class="s1">connectionCheckOutFailed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionCheckOutFailedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2901"><span class="ln">2901 </span></a>    <span class="s1">connectionCheckedOut</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionCheckedOutEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2902"><span class="ln">2902 </span></a>    <span class="s1">connectionCheckedIn</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ConnectionCheckedInEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l2903"><span class="ln">2903 </span></a><span class="s3">} &amp; </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">ConnectionEvents</span><span class="s3">, </span><span class="s4">'close' </span><span class="s3">| </span><span class="s4">'message'</span><span class="s3">&gt;;</span>
<a name="l2904"><span class="ln">2904 </span></a>
<a name="l2905"><span class="ln">2905 </span></a><span class="s0">/* Excluded from this release type: ConnectionPoolMetrics */</span>
<a name="l2906"><span class="ln">2906 </span></a>
<a name="l2907"><span class="ln">2907 </span></a><span class="s5">/**</span>
<a name="l2908"><span class="ln">2908 </span></a> <span class="s5">* The base export class for all monitoring events published from the connection pool</span>
<a name="l2909"><span class="ln">2909 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2910"><span class="ln">2910 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2911"><span class="ln">2911 </span></a> <span class="s5">*/</span>
<a name="l2912"><span class="ln">2912 </span></a><span class="s2">export </span><span class="s1">declare abstract </span><span class="s2">class </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2913"><span class="ln">2913 </span></a>    <span class="s5">/** A timestamp when the event was created  */</span>
<a name="l2914"><span class="ln">2914 </span></a>    <span class="s1">time</span><span class="s3">: </span><span class="s1">Date</span><span class="s3">;</span>
<a name="l2915"><span class="ln">2915 </span></a>    <span class="s5">/** The address (host/port pair) of the pool */</span>
<a name="l2916"><span class="ln">2916 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l2917"><span class="ln">2917 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2918"><span class="ln">2918 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2919"><span class="ln">2919 </span></a><span class="s3">}</span>
<a name="l2920"><span class="ln">2920 </span></a>
<a name="l2921"><span class="ln">2921 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2922"><span class="ln">2922 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ConnectionPoolOptions </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">ConnectionOptions</span><span class="s3">, </span><span class="s4">'id' </span><span class="s3">| </span><span class="s4">'generation'</span><span class="s3">&gt; {</span>
<a name="l2923"><span class="ln">2923 </span></a>    <span class="s5">/** The maximum number of connections that may be associated with a pool at a given time. This includes in use and available connections. */</span>
<a name="l2924"><span class="ln">2924 </span></a>    <span class="s1">maxPoolSize</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2925"><span class="ln">2925 </span></a>    <span class="s5">/** The minimum number of connections that MUST exist at any moment in a single connection pool. */</span>
<a name="l2926"><span class="ln">2926 </span></a>    <span class="s1">minPoolSize</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2927"><span class="ln">2927 </span></a>    <span class="s5">/** The maximum number of connections that may be in the process of being established concurrently by the connection pool. */</span>
<a name="l2928"><span class="ln">2928 </span></a>    <span class="s1">maxConnecting</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2929"><span class="ln">2929 </span></a>    <span class="s5">/** The maximum amount of time a connection should remain idle in the connection pool before being marked idle. */</span>
<a name="l2930"><span class="ln">2930 </span></a>    <span class="s1">maxIdleTimeMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2931"><span class="ln">2931 </span></a>    <span class="s5">/** The maximum amount of time operation execution should wait for a connection to become available. The default is 0 which means there is no limit. */</span>
<a name="l2932"><span class="ln">2932 </span></a>    <span class="s1">waitQueueTimeoutMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2933"><span class="ln">2933 </span></a>    <span class="s5">/** If we are in load balancer mode. */</span>
<a name="l2934"><span class="ln">2934 </span></a>    <span class="s1">loadBalanced</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2935"><span class="ln">2935 </span></a>    <span class="s0">/* Excluded from this release type: minPoolSizeCheckFrequencyMS */</span>
<a name="l2936"><span class="ln">2936 </span></a><span class="s3">}</span>
<a name="l2937"><span class="ln">2937 </span></a>
<a name="l2938"><span class="ln">2938 </span></a><span class="s5">/**</span>
<a name="l2939"><span class="ln">2939 </span></a> <span class="s5">* An event published when a connection pool is ready</span>
<a name="l2940"><span class="ln">2940 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2941"><span class="ln">2941 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2942"><span class="ln">2942 </span></a> <span class="s5">*/</span>
<a name="l2943"><span class="ln">2943 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionPoolReadyEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2944"><span class="ln">2944 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2945"><span class="ln">2945 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2946"><span class="ln">2946 </span></a><span class="s3">}</span>
<a name="l2947"><span class="ln">2947 </span></a>
<a name="l2948"><span class="ln">2948 </span></a><span class="s5">/**</span>
<a name="l2949"><span class="ln">2949 </span></a> <span class="s5">* An event published when a connection is ready for use</span>
<a name="l2950"><span class="ln">2950 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l2951"><span class="ln">2951 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l2952"><span class="ln">2952 </span></a> <span class="s5">*/</span>
<a name="l2953"><span class="ln">2953 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ConnectionReadyEvent </span><span class="s2">extends </span><span class="s1">ConnectionPoolMonitoringEvent </span><span class="s3">{</span>
<a name="l2954"><span class="ln">2954 </span></a>    <span class="s5">/** The id of the connection */</span>
<a name="l2955"><span class="ln">2955 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s4">'&lt;monitor&gt;'</span><span class="s3">;</span>
<a name="l2956"><span class="ln">2956 </span></a>    <span class="s0">/* Excluded from this release type: name */</span>
<a name="l2957"><span class="ln">2957 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l2958"><span class="ln">2958 </span></a><span class="s3">}</span>
<a name="l2959"><span class="ln">2959 </span></a>
<a name="l2960"><span class="ln">2960 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2961"><span class="ln">2961 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ConnectOptions </span><span class="s3">{</span>
<a name="l2962"><span class="ln">2962 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l2963"><span class="ln">2963 </span></a><span class="s3">}</span>
<a name="l2964"><span class="ln">2964 </span></a>
<a name="l2965"><span class="ln">2965 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2966"><span class="ln">2966 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CountDocumentsOptions </span><span class="s2">extends </span><span class="s1">AggregateOptions </span><span class="s3">{</span>
<a name="l2967"><span class="ln">2967 </span></a>    <span class="s5">/** The number of documents to skip. */</span>
<a name="l2968"><span class="ln">2968 </span></a>    <span class="s1">skip</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2969"><span class="ln">2969 </span></a>    <span class="s5">/** The maximum amounts to count before aborting. */</span>
<a name="l2970"><span class="ln">2970 </span></a>    <span class="s1">limit</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2971"><span class="ln">2971 </span></a><span class="s3">}</span>
<a name="l2972"><span class="ln">2972 </span></a>
<a name="l2973"><span class="ln">2973 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2974"><span class="ln">2974 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CountOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l2975"><span class="ln">2975 </span></a>    <span class="s5">/** The number of documents to skip. */</span>
<a name="l2976"><span class="ln">2976 </span></a>    <span class="s1">skip</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2977"><span class="ln">2977 </span></a>    <span class="s5">/** The maximum amounts to count before aborting. */</span>
<a name="l2978"><span class="ln">2978 </span></a>    <span class="s1">limit</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2979"><span class="ln">2979 </span></a>    <span class="s5">/** Number of milliseconds to wait before aborting the query. */</span>
<a name="l2980"><span class="ln">2980 </span></a>    <span class="s1">maxTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2981"><span class="ln">2981 </span></a>    <span class="s5">/** An index name hint for the query. */</span>
<a name="l2982"><span class="ln">2982 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l2983"><span class="ln">2983 </span></a><span class="s3">}</span>
<a name="l2984"><span class="ln">2984 </span></a>
<a name="l2985"><span class="ln">2985 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l2986"><span class="ln">2986 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CreateCollectionOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l2987"><span class="ln">2987 </span></a>    <span class="s5">/** Create a capped collection */</span>
<a name="l2988"><span class="ln">2988 </span></a>    <span class="s1">capped</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2989"><span class="ln">2989 </span></a>    <span class="s5">/** </span><span class="s6">@deprecated </span><span class="s5">Create an index on the _id field of the document. This option is deprecated in MongoDB 3.2+ and will be removed once no longer supported by the server. */</span>
<a name="l2990"><span class="ln">2990 </span></a>    <span class="s1">autoIndexId</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l2991"><span class="ln">2991 </span></a>    <span class="s5">/** The size of the capped collection in bytes */</span>
<a name="l2992"><span class="ln">2992 </span></a>    <span class="s1">size</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2993"><span class="ln">2993 </span></a>    <span class="s5">/** The maximum number of documents in the capped collection */</span>
<a name="l2994"><span class="ln">2994 </span></a>    <span class="s1">max</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2995"><span class="ln">2995 </span></a>    <span class="s5">/** Available for the MMAPv1 storage engine only to set the usePowerOf2Sizes and the noPadding flag */</span>
<a name="l2996"><span class="ln">2996 </span></a>    <span class="s1">flags</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l2997"><span class="ln">2997 </span></a>    <span class="s5">/** Allows users to specify configuration to the storage engine on a per-collection basis when creating a collection */</span>
<a name="l2998"><span class="ln">2998 </span></a>    <span class="s1">storageEngine</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l2999"><span class="ln">2999 </span></a>    <span class="s5">/** Allows users to specify validation rules or expressions for the collection. For more information, see Document Validation */</span>
<a name="l3000"><span class="ln">3000 </span></a>    <span class="s1">validator</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3001"><span class="ln">3001 </span></a>    <span class="s5">/** Determines how strictly MongoDB applies the validation rules to existing documents during an update */</span>
<a name="l3002"><span class="ln">3002 </span></a>    <span class="s1">validationLevel</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3003"><span class="ln">3003 </span></a>    <span class="s5">/** Determines whether to error on invalid documents or just warn about the violations but allow invalid documents to be inserted */</span>
<a name="l3004"><span class="ln">3004 </span></a>    <span class="s1">validationAction</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3005"><span class="ln">3005 </span></a>    <span class="s5">/** Allows users to specify a default configuration for indexes when creating a collection */</span>
<a name="l3006"><span class="ln">3006 </span></a>    <span class="s1">indexOptionDefaults</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3007"><span class="ln">3007 </span></a>    <span class="s5">/** The name of the source collection or view from which to create the view. The name is not the full namespace of the collection or view (i.e., does not include the database name and implies the same database as the view to create) */</span>
<a name="l3008"><span class="ln">3008 </span></a>    <span class="s1">viewOn</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3009"><span class="ln">3009 </span></a>    <span class="s5">/** An array that consists of the aggregation pipeline stage. Creates the view by applying the specified pipeline to the viewOn collection or view */</span>
<a name="l3010"><span class="ln">3010 </span></a>    <span class="s1">pipeline</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l3011"><span class="ln">3011 </span></a>    <span class="s5">/** A primary key factory function for generation of custom _id keys. */</span>
<a name="l3012"><span class="ln">3012 </span></a>    <span class="s1">pkFactory</span><span class="s3">?: </span><span class="s1">PkFactory</span><span class="s3">;</span>
<a name="l3013"><span class="ln">3013 </span></a>    <span class="s5">/** A document specifying configuration options for timeseries collections. */</span>
<a name="l3014"><span class="ln">3014 </span></a>    <span class="s1">timeseries</span><span class="s3">?: </span><span class="s1">TimeSeriesCollectionOptions</span><span class="s3">;</span>
<a name="l3015"><span class="ln">3015 </span></a>    <span class="s5">/** A document specifying configuration options for clustered collections. For MongoDB 5.3 and above. */</span>
<a name="l3016"><span class="ln">3016 </span></a>    <span class="s1">clusteredIndex</span><span class="s3">?: </span><span class="s1">ClusteredCollectionOptions</span><span class="s3">;</span>
<a name="l3017"><span class="ln">3017 </span></a>    <span class="s5">/** The number of seconds after which a document in a timeseries or clustered collection expires. */</span>
<a name="l3018"><span class="ln">3018 </span></a>    <span class="s1">expireAfterSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3019"><span class="ln">3019 </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l3020"><span class="ln">3020 </span></a>    <span class="s1">encryptedFields</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3021"><span class="ln">3021 </span></a>    <span class="s5">/**</span>
<a name="l3022"><span class="ln">3022 </span></a>     <span class="s5">* If set, enables pre-update and post-update document events to be included for any</span>
<a name="l3023"><span class="ln">3023 </span></a>     <span class="s5">* change streams that listen on this collection.</span>
<a name="l3024"><span class="ln">3024 </span></a>     <span class="s5">*/</span>
<a name="l3025"><span class="ln">3025 </span></a>    <span class="s1">changeStreamPreAndPostImages</span><span class="s3">?: {</span>
<a name="l3026"><span class="ln">3026 </span></a>        <span class="s1">enabled</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3027"><span class="ln">3027 </span></a>    <span class="s3">};</span>
<a name="l3028"><span class="ln">3028 </span></a><span class="s3">}</span>
<a name="l3029"><span class="ln">3029 </span></a>
<a name="l3030"><span class="ln">3030 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3031"><span class="ln">3031 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CreateIndexesOptions </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">CommandOperationOptions</span><span class="s3">, </span><span class="s4">'writeConcern'</span><span class="s3">&gt; {</span>
<a name="l3032"><span class="ln">3032 </span></a>    <span class="s5">/** Creates the index in the background, yielding whenever possible. */</span>
<a name="l3033"><span class="ln">3033 </span></a>    <span class="s1">background</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3034"><span class="ln">3034 </span></a>    <span class="s5">/** Creates an unique index. */</span>
<a name="l3035"><span class="ln">3035 </span></a>    <span class="s1">unique</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3036"><span class="ln">3036 </span></a>    <span class="s5">/** Override the autogenerated index name (useful if the resulting name is larger than 128 bytes) */</span>
<a name="l3037"><span class="ln">3037 </span></a>    <span class="s1">name</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3038"><span class="ln">3038 </span></a>    <span class="s5">/** Creates a partial index based on the given filter object (MongoDB 3.2 or higher) */</span>
<a name="l3039"><span class="ln">3039 </span></a>    <span class="s1">partialFilterExpression</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3040"><span class="ln">3040 </span></a>    <span class="s5">/** Creates a sparse index. */</span>
<a name="l3041"><span class="ln">3041 </span></a>    <span class="s1">sparse</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3042"><span class="ln">3042 </span></a>    <span class="s5">/** Allows you to expire data on indexes applied to a data (MongoDB 2.2 or higher) */</span>
<a name="l3043"><span class="ln">3043 </span></a>    <span class="s1">expireAfterSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3044"><span class="ln">3044 </span></a>    <span class="s5">/** Allows users to configure the storage engine on a per-index basis when creating an index. (MongoDB 3.0 or higher) */</span>
<a name="l3045"><span class="ln">3045 </span></a>    <span class="s1">storageEngine</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3046"><span class="ln">3046 </span></a>    <span class="s5">/** (MongoDB 4.4. or higher) Specifies how many data-bearing members of a replica set, including the primary, must complete the index builds successfully before the primary marks the indexes as ready. This option accepts the same values for the &quot;w&quot; field in a write concern plus &quot;votingMembers&quot;, which indicates all voting data-bearing nodes. */</span>
<a name="l3047"><span class="ln">3047 </span></a>    <span class="s1">commitQuorum</span><span class="s3">?: </span><span class="s1">number </span><span class="s3">| </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3048"><span class="ln">3048 </span></a>    <span class="s5">/** Specifies the index version number, either 0 or 1. */</span>
<a name="l3049"><span class="ln">3049 </span></a>    <span class="s1">version</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3050"><span class="ln">3050 </span></a>    <span class="s1">weights</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3051"><span class="ln">3051 </span></a>    <span class="s1">default_language</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3052"><span class="ln">3052 </span></a>    <span class="s1">language_override</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3053"><span class="ln">3053 </span></a>    <span class="s1">textIndexVersion</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3054"><span class="ln">3054 </span></a>    <span class="s4">'2dsphereIndexVersion'</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3055"><span class="ln">3055 </span></a>    <span class="s1">bits</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3056"><span class="ln">3056 </span></a>    <span class="s5">/** For geospatial indexes set the lower bound for the co-ordinates. */</span>
<a name="l3057"><span class="ln">3057 </span></a>    <span class="s1">min</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3058"><span class="ln">3058 </span></a>    <span class="s5">/** For geospatial indexes set the high bound for the co-ordinates. */</span>
<a name="l3059"><span class="ln">3059 </span></a>    <span class="s1">max</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3060"><span class="ln">3060 </span></a>    <span class="s1">bucketSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3061"><span class="ln">3061 </span></a>    <span class="s1">wildcardProjection</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3062"><span class="ln">3062 </span></a>    <span class="s5">/** Specifies that the index should exist on the target collection but should not be used by the query planner when executing operations. (MongoDB 4.4 or higher) */</span>
<a name="l3063"><span class="ln">3063 </span></a>    <span class="s1">hidden</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3064"><span class="ln">3064 </span></a><span class="s3">}</span>
<a name="l3065"><span class="ln">3065 </span></a>
<a name="l3066"><span class="ln">3066 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3067"><span class="ln">3067 </span></a><span class="s2">export </span><span class="s1">declare type CSFLEKMSTlsOptions </span><span class="s3">= {</span>
<a name="l3068"><span class="ln">3068 </span></a>    <span class="s1">aws</span><span class="s3">?: </span><span class="s1">ClientEncryptionTlsOptions</span><span class="s3">;</span>
<a name="l3069"><span class="ln">3069 </span></a>    <span class="s1">gcp</span><span class="s3">?: </span><span class="s1">ClientEncryptionTlsOptions</span><span class="s3">;</span>
<a name="l3070"><span class="ln">3070 </span></a>    <span class="s1">kmip</span><span class="s3">?: </span><span class="s1">ClientEncryptionTlsOptions</span><span class="s3">;</span>
<a name="l3071"><span class="ln">3071 </span></a>    <span class="s1">local</span><span class="s3">?: </span><span class="s1">ClientEncryptionTlsOptions</span><span class="s3">;</span>
<a name="l3072"><span class="ln">3072 </span></a>    <span class="s1">azure</span><span class="s3">?: </span><span class="s1">ClientEncryptionTlsOptions</span><span class="s3">;</span>
<a name="l3073"><span class="ln">3073 </span></a><span class="s3">};</span>
<a name="l3074"><span class="ln">3074 </span></a>
<a name="l3075"><span class="ln">3075 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3076"><span class="ln">3076 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">CURSOR_FLAGS</span><span class="s3">: </span><span class="s1">readonly </span><span class="s3">[</span><span class="s4">&quot;tailable&quot;</span><span class="s3">, </span><span class="s4">&quot;oplogReplay&quot;</span><span class="s3">, </span><span class="s4">&quot;noCursorTimeout&quot;</span><span class="s3">, </span><span class="s4">&quot;awaitData&quot;</span><span class="s3">, </span><span class="s4">&quot;exhaust&quot;</span><span class="s3">, </span><span class="s4">&quot;partial&quot;</span><span class="s3">];</span>
<a name="l3077"><span class="ln">3077 </span></a>
<a name="l3078"><span class="ln">3078 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3079"><span class="ln">3079 </span></a><span class="s2">export </span><span class="s1">declare type CursorFlag </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">CURSOR_FLAGS</span><span class="s3">)[</span><span class="s1">number</span><span class="s3">];</span>
<a name="l3080"><span class="ln">3080 </span></a>
<a name="l3081"><span class="ln">3081 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3082"><span class="ln">3082 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">CursorStreamOptions </span><span class="s3">{</span>
<a name="l3083"><span class="ln">3083 </span></a>    <span class="s5">/** A transformation method applied to each document emitted by the stream */</span>
<a name="l3084"><span class="ln">3084 </span></a>    <span class="s1">transform</span><span class="s3">?(</span><span class="s2">this</span><span class="s3">: </span><span class="s2">void</span><span class="s3">, </span><span class="s1">doc</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3085"><span class="ln">3085 </span></a><span class="s3">}</span>
<a name="l3086"><span class="ln">3086 </span></a>
<a name="l3087"><span class="ln">3087 </span></a><span class="s5">/**</span>
<a name="l3088"><span class="ln">3088 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3089"><span class="ln">3089 </span></a> <span class="s5">* The schema for a DataKey in the key vault collection.</span>
<a name="l3090"><span class="ln">3090 </span></a> <span class="s5">*/</span>
<a name="l3091"><span class="ln">3091 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DataKey </span><span class="s3">{</span>
<a name="l3092"><span class="ln">3092 </span></a>    <span class="s1">_id</span><span class="s3">: </span><span class="s1">UUID</span><span class="s3">;</span>
<a name="l3093"><span class="ln">3093 </span></a>    <span class="s1">version</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3094"><span class="ln">3094 </span></a>    <span class="s1">keyAltNames</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l3095"><span class="ln">3095 </span></a>    <span class="s1">keyMaterial</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l3096"><span class="ln">3096 </span></a>    <span class="s1">creationDate</span><span class="s3">: </span><span class="s1">Date</span><span class="s3">;</span>
<a name="l3097"><span class="ln">3097 </span></a>    <span class="s1">updateDate</span><span class="s3">: </span><span class="s1">Date</span><span class="s3">;</span>
<a name="l3098"><span class="ln">3098 </span></a>    <span class="s1">status</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3099"><span class="ln">3099 </span></a>    <span class="s1">masterKey</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3100"><span class="ln">3100 </span></a><span class="s3">}</span>
<a name="l3101"><span class="ln">3101 </span></a>
<a name="l3102"><span class="ln">3102 </span></a><span class="s5">/**</span>
<a name="l3103"><span class="ln">3103 </span></a> <span class="s5">* The **Db** class is a class that represents a MongoDB Database.</span>
<a name="l3104"><span class="ln">3104 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3105"><span class="ln">3105 </span></a> <span class="s5">*</span>
<a name="l3106"><span class="ln">3106 </span></a> <span class="s5">* </span><span class="s6">@example</span>
<a name="l3107"><span class="ln">3107 </span></a> <span class="s5">* ```ts</span>
<a name="l3108"><span class="ln">3108 </span></a> <span class="s5">* import { MongoClient } from 'mongodb';</span>
<a name="l3109"><span class="ln">3109 </span></a> <span class="s5">*</span>
<a name="l3110"><span class="ln">3110 </span></a> <span class="s5">* interface Pet {</span>
<a name="l3111"><span class="ln">3111 </span></a> <span class="s5">*   name: string;</span>
<a name="l3112"><span class="ln">3112 </span></a> <span class="s5">*   kind: 'dog' | 'cat' | 'fish';</span>
<a name="l3113"><span class="ln">3113 </span></a> <span class="s5">* }</span>
<a name="l3114"><span class="ln">3114 </span></a> <span class="s5">*</span>
<a name="l3115"><span class="ln">3115 </span></a> <span class="s5">* const client = new MongoClient('mongodb://localhost:27017');</span>
<a name="l3116"><span class="ln">3116 </span></a> <span class="s5">* const db = client.db();</span>
<a name="l3117"><span class="ln">3117 </span></a> <span class="s5">*</span>
<a name="l3118"><span class="ln">3118 </span></a> <span class="s5">* // Create a collection that validates our union</span>
<a name="l3119"><span class="ln">3119 </span></a> <span class="s5">* await db.createCollection&lt;Pet&gt;('pets', {</span>
<a name="l3120"><span class="ln">3120 </span></a> <span class="s5">*   validator: { $expr: { $in: ['$kind', ['dog', 'cat', 'fish']] } }</span>
<a name="l3121"><span class="ln">3121 </span></a> <span class="s5">* })</span>
<a name="l3122"><span class="ln">3122 </span></a> <span class="s5">* ```</span>
<a name="l3123"><span class="ln">3123 </span></a> <span class="s5">*/</span>
<a name="l3124"><span class="ln">3124 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Db </span><span class="s3">{</span>
<a name="l3125"><span class="ln">3125 </span></a>    <span class="s0">/* Excluded from this release type: s */</span>
<a name="l3126"><span class="ln">3126 </span></a>    <span class="s0">/* Excluded from this release type: client */</span>
<a name="l3127"><span class="ln">3127 </span></a>    <span class="s2">static </span><span class="s1">SYSTEM_NAMESPACE_COLLECTION</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3128"><span class="ln">3128 </span></a>    <span class="s2">static </span><span class="s1">SYSTEM_INDEX_COLLECTION</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3129"><span class="ln">3129 </span></a>    <span class="s2">static </span><span class="s1">SYSTEM_PROFILE_COLLECTION</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3130"><span class="ln">3130 </span></a>    <span class="s2">static </span><span class="s1">SYSTEM_USER_COLLECTION</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3131"><span class="ln">3131 </span></a>    <span class="s2">static </span><span class="s1">SYSTEM_COMMAND_COLLECTION</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3132"><span class="ln">3132 </span></a>    <span class="s2">static </span><span class="s1">SYSTEM_JS_COLLECTION</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3133"><span class="ln">3133 </span></a>    <span class="s5">/**</span>
<a name="l3134"><span class="ln">3134 </span></a>     <span class="s5">* Creates a new Db instance.</span>
<a name="l3135"><span class="ln">3135 </span></a>     <span class="s5">*</span>
<a name="l3136"><span class="ln">3136 </span></a>     <span class="s5">* Db name cannot contain a dot, the server may apply more restrictions when an operation is run.</span>
<a name="l3137"><span class="ln">3137 </span></a>     <span class="s5">*</span>
<a name="l3138"><span class="ln">3138 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">client - The MongoClient for the database.</span>
<a name="l3139"><span class="ln">3139 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">databaseName - The name of the database this instance represents.</span>
<a name="l3140"><span class="ln">3140 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for Db construction.</span>
<a name="l3141"><span class="ln">3141 </span></a>     <span class="s5">*/</span>
<a name="l3142"><span class="ln">3142 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">client</span><span class="s3">: </span><span class="s1">MongoClient</span><span class="s3">, </span><span class="s1">databaseName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DbOptions</span><span class="s3">);</span>
<a name="l3143"><span class="ln">3143 </span></a>    <span class="s1">get databaseName</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3144"><span class="ln">3144 </span></a>    <span class="s1">get options</span><span class="s3">(): </span><span class="s1">DbOptions </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l3145"><span class="ln">3145 </span></a>    <span class="s5">/**</span>
<a name="l3146"><span class="ln">3146 </span></a>     <span class="s5">* Check if a secondary can be used (because the read preference is *not* set to primary)</span>
<a name="l3147"><span class="ln">3147 </span></a>     <span class="s5">*/</span>
<a name="l3148"><span class="ln">3148 </span></a>    <span class="s1">get secondaryOk</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3149"><span class="ln">3149 </span></a>    <span class="s1">get readConcern</span><span class="s3">(): </span><span class="s1">ReadConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l3150"><span class="ln">3150 </span></a>    <span class="s5">/**</span>
<a name="l3151"><span class="ln">3151 </span></a>     <span class="s5">* The current readPreference of the Db. If not explicitly defined for</span>
<a name="l3152"><span class="ln">3152 </span></a>     <span class="s5">* this Db, will be inherited from the parent MongoClient</span>
<a name="l3153"><span class="ln">3153 </span></a>     <span class="s5">*/</span>
<a name="l3154"><span class="ln">3154 </span></a>    <span class="s1">get readPreference</span><span class="s3">(): </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l3155"><span class="ln">3155 </span></a>    <span class="s1">get bsonOptions</span><span class="s3">(): </span><span class="s1">BSONSerializeOptions</span><span class="s3">;</span>
<a name="l3156"><span class="ln">3156 </span></a>    <span class="s1">get writeConcern</span><span class="s3">(): </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l3157"><span class="ln">3157 </span></a>    <span class="s1">get namespace</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3158"><span class="ln">3158 </span></a>    <span class="s5">/**</span>
<a name="l3159"><span class="ln">3159 </span></a>     <span class="s5">* Create a new collection on a server with the specified options. Use this to create capped collections.</span>
<a name="l3160"><span class="ln">3160 </span></a>     <span class="s5">* More information about command options available at https://www.mongodb.com/docs/manual/reference/command/create/</span>
<a name="l3161"><span class="ln">3161 </span></a>     <span class="s5">*</span>
<a name="l3162"><span class="ln">3162 </span></a>     <span class="s5">* Collection namespace validation is performed server-side.</span>
<a name="l3163"><span class="ln">3163 </span></a>     <span class="s5">*</span>
<a name="l3164"><span class="ln">3164 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - The name of the collection to create</span>
<a name="l3165"><span class="ln">3165 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3166"><span class="ln">3166 </span></a>     <span class="s5">*/</span>
<a name="l3167"><span class="ln">3167 </span></a>    <span class="s1">createCollection</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CreateCollectionOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Collection</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l3168"><span class="ln">3168 </span></a>    <span class="s5">/**</span>
<a name="l3169"><span class="ln">3169 </span></a>     <span class="s5">* Execute a command</span>
<a name="l3170"><span class="ln">3170 </span></a>     <span class="s5">*</span>
<a name="l3171"><span class="ln">3171 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l3172"><span class="ln">3172 </span></a>     <span class="s5">* This command does not inherit options from the MongoClient.</span>
<a name="l3173"><span class="ln">3173 </span></a>     <span class="s5">*</span>
<a name="l3174"><span class="ln">3174 </span></a>     <span class="s5">* The driver will ensure the following fields are attached to the command sent to the server:</span>
<a name="l3175"><span class="ln">3175 </span></a>     <span class="s5">* - `lsid` - sourced from an implicit session or options.session</span>
<a name="l3176"><span class="ln">3176 </span></a>     <span class="s5">* - `$readPreference` - defaults to primary or can be configured by options.readPreference</span>
<a name="l3177"><span class="ln">3177 </span></a>     <span class="s5">* - `$db` - sourced from the name of this database</span>
<a name="l3178"><span class="ln">3178 </span></a>     <span class="s5">*</span>
<a name="l3179"><span class="ln">3179 </span></a>     <span class="s5">* If the client has a serverApi setting:</span>
<a name="l3180"><span class="ln">3180 </span></a>     <span class="s5">* - `apiVersion`</span>
<a name="l3181"><span class="ln">3181 </span></a>     <span class="s5">* - `apiStrict`</span>
<a name="l3182"><span class="ln">3182 </span></a>     <span class="s5">* - `apiDeprecationErrors`</span>
<a name="l3183"><span class="ln">3183 </span></a>     <span class="s5">*</span>
<a name="l3184"><span class="ln">3184 </span></a>     <span class="s5">* When in a transaction:</span>
<a name="l3185"><span class="ln">3185 </span></a>     <span class="s5">* - `readConcern` - sourced from readConcern set on the TransactionOptions</span>
<a name="l3186"><span class="ln">3186 </span></a>     <span class="s5">* - `writeConcern` - sourced from writeConcern set on the TransactionOptions</span>
<a name="l3187"><span class="ln">3187 </span></a>     <span class="s5">*</span>
<a name="l3188"><span class="ln">3188 </span></a>     <span class="s5">* Attaching any of the above fields to the command will have no effect as the driver will overwrite the value.</span>
<a name="l3189"><span class="ln">3189 </span></a>     <span class="s5">*</span>
<a name="l3190"><span class="ln">3190 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">command - The command to run</span>
<a name="l3191"><span class="ln">3191 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3192"><span class="ln">3192 </span></a>     <span class="s5">*/</span>
<a name="l3193"><span class="ln">3193 </span></a>    <span class="s1">command</span><span class="s3">(</span><span class="s1">command</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">RunCommandOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l3194"><span class="ln">3194 </span></a>    <span class="s5">/**</span>
<a name="l3195"><span class="ln">3195 </span></a>     <span class="s5">* Execute an aggregation framework pipeline against the database, needs MongoDB \&gt;= 3.6</span>
<a name="l3196"><span class="ln">3196 </span></a>     <span class="s5">*</span>
<a name="l3197"><span class="ln">3197 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">pipeline - An array of aggregation stages to be executed</span>
<a name="l3198"><span class="ln">3198 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3199"><span class="ln">3199 </span></a>     <span class="s5">*/</span>
<a name="l3200"><span class="ln">3200 </span></a>    <span class="s1">aggregate</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">pipeline</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">AggregateOptions</span><span class="s3">): </span><span class="s1">AggregationCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l3201"><span class="ln">3201 </span></a>    <span class="s5">/** Return the Admin db instance */</span>
<a name="l3202"><span class="ln">3202 </span></a>    <span class="s1">admin</span><span class="s3">(): </span><span class="s1">Admin</span><span class="s3">;</span>
<a name="l3203"><span class="ln">3203 </span></a>    <span class="s5">/**</span>
<a name="l3204"><span class="ln">3204 </span></a>     <span class="s5">* Returns a reference to a MongoDB Collection. If it does not exist it will be created implicitly.</span>
<a name="l3205"><span class="ln">3205 </span></a>     <span class="s5">*</span>
<a name="l3206"><span class="ln">3206 </span></a>     <span class="s5">* Collection namespace validation is performed server-side.</span>
<a name="l3207"><span class="ln">3207 </span></a>     <span class="s5">*</span>
<a name="l3208"><span class="ln">3208 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - the collection name we wish to access.</span>
<a name="l3209"><span class="ln">3209 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">return the new Collection instance</span>
<a name="l3210"><span class="ln">3210 </span></a>     <span class="s5">*/</span>
<a name="l3211"><span class="ln">3211 </span></a>    <span class="s1">collection</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CollectionOptions</span><span class="s3">): </span><span class="s1">Collection</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l3212"><span class="ln">3212 </span></a>    <span class="s5">/**</span>
<a name="l3213"><span class="ln">3213 </span></a>     <span class="s5">* Get all the db statistics.</span>
<a name="l3214"><span class="ln">3214 </span></a>     <span class="s5">*</span>
<a name="l3215"><span class="ln">3215 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3216"><span class="ln">3216 </span></a>     <span class="s5">*/</span>
<a name="l3217"><span class="ln">3217 </span></a>    <span class="s1">stats</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DbStatsOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l3218"><span class="ln">3218 </span></a>    <span class="s5">/**</span>
<a name="l3219"><span class="ln">3219 </span></a>     <span class="s5">* List all collections of this database with optional filter</span>
<a name="l3220"><span class="ln">3220 </span></a>     <span class="s5">*</span>
<a name="l3221"><span class="ln">3221 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filter - Query to filter collections by</span>
<a name="l3222"><span class="ln">3222 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3223"><span class="ln">3223 </span></a>     <span class="s5">*/</span>
<a name="l3224"><span class="ln">3224 </span></a>    <span class="s1">listCollections</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">Exclude</span><span class="s3">&lt;</span><span class="s1">ListCollectionsOptions</span><span class="s3">, </span><span class="s4">'nameOnly'</span><span class="s3">&gt; &amp; {</span>
<a name="l3225"><span class="ln">3225 </span></a>        <span class="s1">nameOnly</span><span class="s3">: </span><span class="s2">true</span><span class="s3">;</span>
<a name="l3226"><span class="ln">3226 </span></a>    <span class="s3">}): </span><span class="s1">ListCollectionsCursor</span><span class="s3">&lt;</span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">CollectionInfo</span><span class="s3">, </span><span class="s4">'name' </span><span class="s3">| </span><span class="s4">'type'</span><span class="s3">&gt;&gt;;</span>
<a name="l3227"><span class="ln">3227 </span></a>    <span class="s1">listCollections</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">Exclude</span><span class="s3">&lt;</span><span class="s1">ListCollectionsOptions</span><span class="s3">, </span><span class="s4">'nameOnly'</span><span class="s3">&gt; &amp; {</span>
<a name="l3228"><span class="ln">3228 </span></a>        <span class="s1">nameOnly</span><span class="s3">: </span><span class="s2">false</span><span class="s3">;</span>
<a name="l3229"><span class="ln">3229 </span></a>    <span class="s3">}): </span><span class="s1">ListCollectionsCursor</span><span class="s3">&lt;</span><span class="s1">CollectionInfo</span><span class="s3">&gt;;</span>
<a name="l3230"><span class="ln">3230 </span></a>    <span class="s1">listCollections</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">CollectionInfo</span><span class="s3">, </span><span class="s4">'name' </span><span class="s3">| </span><span class="s4">'type'</span><span class="s3">&gt; | </span><span class="s1">CollectionInfo </span><span class="s3">= </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">CollectionInfo</span><span class="s3">, </span><span class="s4">'name' </span><span class="s3">| </span><span class="s4">'type'</span><span class="s3">&gt; | </span><span class="s1">CollectionInfo</span><span class="s3">&gt;(</span><span class="s1">filter</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListCollectionsOptions</span><span class="s3">): </span><span class="s1">ListCollectionsCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l3231"><span class="ln">3231 </span></a>    <span class="s5">/**</span>
<a name="l3232"><span class="ln">3232 </span></a>     <span class="s5">* Rename a collection.</span>
<a name="l3233"><span class="ln">3233 </span></a>     <span class="s5">*</span>
<a name="l3234"><span class="ln">3234 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l3235"><span class="ln">3235 </span></a>     <span class="s5">* This operation does not inherit options from the MongoClient.</span>
<a name="l3236"><span class="ln">3236 </span></a>     <span class="s5">*</span>
<a name="l3237"><span class="ln">3237 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">fromCollection - Name of current collection to rename</span>
<a name="l3238"><span class="ln">3238 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">toCollection - New name of of the collection</span>
<a name="l3239"><span class="ln">3239 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3240"><span class="ln">3240 </span></a>     <span class="s5">*/</span>
<a name="l3241"><span class="ln">3241 </span></a>    <span class="s1">renameCollection</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">fromCollection</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">toCollection</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">RenameOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Collection</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l3242"><span class="ln">3242 </span></a>    <span class="s5">/**</span>
<a name="l3243"><span class="ln">3243 </span></a>     <span class="s5">* Drop a collection from the database, removing it permanently. New accesses will create a new collection.</span>
<a name="l3244"><span class="ln">3244 </span></a>     <span class="s5">*</span>
<a name="l3245"><span class="ln">3245 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - Name of collection to drop</span>
<a name="l3246"><span class="ln">3246 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3247"><span class="ln">3247 </span></a>     <span class="s5">*/</span>
<a name="l3248"><span class="ln">3248 </span></a>    <span class="s1">dropCollection</span><span class="s3">(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DropCollectionOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l3249"><span class="ln">3249 </span></a>    <span class="s5">/**</span>
<a name="l3250"><span class="ln">3250 </span></a>     <span class="s5">* Drop a database, removing it permanently from the server.</span>
<a name="l3251"><span class="ln">3251 </span></a>     <span class="s5">*</span>
<a name="l3252"><span class="ln">3252 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3253"><span class="ln">3253 </span></a>     <span class="s5">*/</span>
<a name="l3254"><span class="ln">3254 </span></a>    <span class="s1">dropDatabase</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DropDatabaseOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l3255"><span class="ln">3255 </span></a>    <span class="s5">/**</span>
<a name="l3256"><span class="ln">3256 </span></a>     <span class="s5">* Fetch all collections for the current db.</span>
<a name="l3257"><span class="ln">3257 </span></a>     <span class="s5">*</span>
<a name="l3258"><span class="ln">3258 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3259"><span class="ln">3259 </span></a>     <span class="s5">*/</span>
<a name="l3260"><span class="ln">3260 </span></a>    <span class="s1">collections</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListCollectionsOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Collection</span><span class="s3">[]&gt;;</span>
<a name="l3261"><span class="ln">3261 </span></a>    <span class="s5">/**</span>
<a name="l3262"><span class="ln">3262 </span></a>     <span class="s5">* Creates an index on the db and collection.</span>
<a name="l3263"><span class="ln">3263 </span></a>     <span class="s5">*</span>
<a name="l3264"><span class="ln">3264 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - Name of the collection to create the index on.</span>
<a name="l3265"><span class="ln">3265 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">indexSpec - Specify the field to index, or an index specification</span>
<a name="l3266"><span class="ln">3266 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3267"><span class="ln">3267 </span></a>     <span class="s5">*/</span>
<a name="l3268"><span class="ln">3268 </span></a>    <span class="s1">createIndex</span><span class="s3">(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">indexSpec</span><span class="s3">: </span><span class="s1">IndexSpecification</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CreateIndexesOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">&gt;;</span>
<a name="l3269"><span class="ln">3269 </span></a>    <span class="s5">/**</span>
<a name="l3270"><span class="ln">3270 </span></a>     <span class="s5">* Remove a user from a database</span>
<a name="l3271"><span class="ln">3271 </span></a>     <span class="s5">*</span>
<a name="l3272"><span class="ln">3272 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">username - The username to remove</span>
<a name="l3273"><span class="ln">3273 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3274"><span class="ln">3274 </span></a>     <span class="s5">*/</span>
<a name="l3275"><span class="ln">3275 </span></a>    <span class="s1">removeUser</span><span class="s3">(</span><span class="s1">username</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">RemoveUserOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">boolean</span><span class="s3">&gt;;</span>
<a name="l3276"><span class="ln">3276 </span></a>    <span class="s5">/**</span>
<a name="l3277"><span class="ln">3277 </span></a>     <span class="s5">* Set the current profiling level of MongoDB</span>
<a name="l3278"><span class="ln">3278 </span></a>     <span class="s5">*</span>
<a name="l3279"><span class="ln">3279 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">level - The new profiling level (off, slow_only, all).</span>
<a name="l3280"><span class="ln">3280 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3281"><span class="ln">3281 </span></a>     <span class="s5">*/</span>
<a name="l3282"><span class="ln">3282 </span></a>    <span class="s1">setProfilingLevel</span><span class="s3">(</span><span class="s1">level</span><span class="s3">: </span><span class="s1">ProfilingLevel</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">SetProfilingLevelOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">ProfilingLevel</span><span class="s3">&gt;;</span>
<a name="l3283"><span class="ln">3283 </span></a>    <span class="s5">/**</span>
<a name="l3284"><span class="ln">3284 </span></a>     <span class="s5">* Retrieve the current profiling Level for MongoDB</span>
<a name="l3285"><span class="ln">3285 </span></a>     <span class="s5">*</span>
<a name="l3286"><span class="ln">3286 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3287"><span class="ln">3287 </span></a>     <span class="s5">*/</span>
<a name="l3288"><span class="ln">3288 </span></a>    <span class="s1">profilingLevel</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ProfilingLevelOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">&gt;;</span>
<a name="l3289"><span class="ln">3289 </span></a>    <span class="s5">/**</span>
<a name="l3290"><span class="ln">3290 </span></a>     <span class="s5">* Retrieves this collections index info.</span>
<a name="l3291"><span class="ln">3291 </span></a>     <span class="s5">*</span>
<a name="l3292"><span class="ln">3292 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - The name of the collection.</span>
<a name="l3293"><span class="ln">3293 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3294"><span class="ln">3294 </span></a>     <span class="s5">*/</span>
<a name="l3295"><span class="ln">3295 </span></a>    <span class="s1">indexInformation</span><span class="s3">(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">IndexInformationOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l3296"><span class="ln">3296 </span></a>    <span class="s5">/**</span>
<a name="l3297"><span class="ln">3297 </span></a>     <span class="s5">* Create a new Change Stream, watching for new changes (insertions, updates,</span>
<a name="l3298"><span class="ln">3298 </span></a>     <span class="s5">* replacements, deletions, and invalidations) in this database. Will ignore all</span>
<a name="l3299"><span class="ln">3299 </span></a>     <span class="s5">* changes to system collections.</span>
<a name="l3300"><span class="ln">3300 </span></a>     <span class="s5">*</span>
<a name="l3301"><span class="ln">3301 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l3302"><span class="ln">3302 </span></a>     <span class="s5">* watch() accepts two generic arguments for distinct use cases:</span>
<a name="l3303"><span class="ln">3303 </span></a>     <span class="s5">* - The first is to provide the schema that may be defined for all the collections within this database</span>
<a name="l3304"><span class="ln">3304 </span></a>     <span class="s5">* - The second is to override the shape of the change stream document entirely, if it is not provided the type will default to ChangeStreamDocument of the first argument</span>
<a name="l3305"><span class="ln">3305 </span></a>     <span class="s5">*</span>
<a name="l3306"><span class="ln">3306 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">pipeline - An array of {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/|aggregation pipeline stages} through which to pass change stream documents. This allows for filtering (using $match) and manipulating the change stream documents.</span>
<a name="l3307"><span class="ln">3307 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l3308"><span class="ln">3308 </span></a>     <span class="s5">* </span><span class="s6">@typeParam </span><span class="s5">TSchema - Type of the data being detected by the change stream</span>
<a name="l3309"><span class="ln">3309 </span></a>     <span class="s5">* </span><span class="s6">@typeParam </span><span class="s5">TChange - Type of the whole change stream document emitted</span>
<a name="l3310"><span class="ln">3310 </span></a>     <span class="s5">*/</span>
<a name="l3311"><span class="ln">3311 </span></a>    <span class="s1">watch</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">TChange </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">ChangeStreamDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;(</span><span class="s1">pipeline</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ChangeStreamOptions</span><span class="s3">): </span><span class="s1">ChangeStream</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">TChange</span><span class="s3">&gt;;</span>
<a name="l3312"><span class="ln">3312 </span></a>    <span class="s5">/**</span>
<a name="l3313"><span class="ln">3313 </span></a>     <span class="s5">* A low level cursor API providing basic driver functionality:</span>
<a name="l3314"><span class="ln">3314 </span></a>     <span class="s5">* - ClientSession management</span>
<a name="l3315"><span class="ln">3315 </span></a>     <span class="s5">* - ReadPreference for server selection</span>
<a name="l3316"><span class="ln">3316 </span></a>     <span class="s5">* - Running getMores automatically when a local batch is exhausted</span>
<a name="l3317"><span class="ln">3317 </span></a>     <span class="s5">*</span>
<a name="l3318"><span class="ln">3318 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">command - The command that will start a cursor on the server.</span>
<a name="l3319"><span class="ln">3319 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Configurations for running the command, bson options will apply to getMores</span>
<a name="l3320"><span class="ln">3320 </span></a>     <span class="s5">*/</span>
<a name="l3321"><span class="ln">3321 </span></a>    <span class="s1">runCursorCommand</span><span class="s3">(</span><span class="s1">command</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">RunCursorCommandOptions</span><span class="s3">): </span><span class="s1">RunCommandCursor</span><span class="s3">;</span>
<a name="l3322"><span class="ln">3322 </span></a><span class="s3">}</span>
<a name="l3323"><span class="ln">3323 </span></a>
<a name="l3324"><span class="ln">3324 </span></a><span class="s0">/* Excluded from this release type: DB_AGGREGATE_COLLECTION */</span>
<a name="l3325"><span class="ln">3325 </span></a>
<a name="l3326"><span class="ln">3326 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3327"><span class="ln">3327 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DbOptions </span><span class="s2">extends </span><span class="s1">BSONSerializeOptions</span><span class="s3">, </span><span class="s1">WriteConcernOptions </span><span class="s3">{</span>
<a name="l3328"><span class="ln">3328 </span></a>    <span class="s5">/** If the database authentication is dependent on another databaseName. */</span>
<a name="l3329"><span class="ln">3329 </span></a>    <span class="s1">authSource</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3330"><span class="ln">3330 </span></a>    <span class="s5">/** Force server to assign _id values instead of driver. */</span>
<a name="l3331"><span class="ln">3331 </span></a>    <span class="s1">forceServerObjectId</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3332"><span class="ln">3332 </span></a>    <span class="s5">/** The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST). */</span>
<a name="l3333"><span class="ln">3333 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l3334"><span class="ln">3334 </span></a>    <span class="s5">/** A primary key factory object for generation of custom _id keys. */</span>
<a name="l3335"><span class="ln">3335 </span></a>    <span class="s1">pkFactory</span><span class="s3">?: </span><span class="s1">PkFactory</span><span class="s3">;</span>
<a name="l3336"><span class="ln">3336 </span></a>    <span class="s5">/** Specify a read concern for the collection. (only MongoDB 3.2 or higher supported) */</span>
<a name="l3337"><span class="ln">3337 </span></a>    <span class="s1">readConcern</span><span class="s3">?: </span><span class="s1">ReadConcern</span><span class="s3">;</span>
<a name="l3338"><span class="ln">3338 </span></a>    <span class="s5">/** Should retry failed writes */</span>
<a name="l3339"><span class="ln">3339 </span></a>    <span class="s1">retryWrites</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3340"><span class="ln">3340 </span></a><span class="s3">}</span>
<a name="l3341"><span class="ln">3341 </span></a>
<a name="l3342"><span class="ln">3342 </span></a><span class="s0">/* Excluded from this release type: DbPrivate */</span>
<a name="l3343"><span class="ln">3343 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">DBRef </span><span class="s3">}</span>
<a name="l3344"><span class="ln">3344 </span></a>
<a name="l3345"><span class="ln">3345 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3346"><span class="ln">3346 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DbStatsOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l3347"><span class="ln">3347 </span></a>    <span class="s5">/** Divide the returned sizes by scale value. */</span>
<a name="l3348"><span class="ln">3348 </span></a>    <span class="s1">scale</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3349"><span class="ln">3349 </span></a><span class="s3">}</span>
<a name="l3350"><span class="ln">3350 </span></a>
<a name="l3351"><span class="ln">3351 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Decimal128 </span><span class="s3">}</span>
<a name="l3352"><span class="ln">3352 </span></a>
<a name="l3353"><span class="ln">3353 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3354"><span class="ln">3354 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DeleteManyModel</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l3355"><span class="ln">3355 </span></a>    <span class="s5">/** The filter to limit the deleted documents. */</span>
<a name="l3356"><span class="ln">3356 </span></a>    <span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l3357"><span class="ln">3357 </span></a>    <span class="s5">/** Specifies a collation. */</span>
<a name="l3358"><span class="ln">3358 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l3359"><span class="ln">3359 </span></a>    <span class="s5">/** The index to use. If specified, then the query system will only consider plans using the hinted index. */</span>
<a name="l3360"><span class="ln">3360 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l3361"><span class="ln">3361 </span></a><span class="s3">}</span>
<a name="l3362"><span class="ln">3362 </span></a>
<a name="l3363"><span class="ln">3363 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3364"><span class="ln">3364 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DeleteOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l3365"><span class="ln">3365 </span></a>    <span class="s5">/** The filter to limit the deleted documents. */</span>
<a name="l3366"><span class="ln">3366 </span></a>    <span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l3367"><span class="ln">3367 </span></a>    <span class="s5">/** Specifies a collation. */</span>
<a name="l3368"><span class="ln">3368 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l3369"><span class="ln">3369 </span></a>    <span class="s5">/** The index to use. If specified, then the query system will only consider plans using the hinted index. */</span>
<a name="l3370"><span class="ln">3370 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l3371"><span class="ln">3371 </span></a><span class="s3">}</span>
<a name="l3372"><span class="ln">3372 </span></a>
<a name="l3373"><span class="ln">3373 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3374"><span class="ln">3374 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DeleteOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions</span><span class="s3">, </span><span class="s1">WriteConcernOptions </span><span class="s3">{</span>
<a name="l3375"><span class="ln">3375 </span></a>    <span class="s5">/** If true, when an insert fails, don't execute the remaining writes. If false, continue with remaining inserts when one fails. */</span>
<a name="l3376"><span class="ln">3376 </span></a>    <span class="s1">ordered</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3377"><span class="ln">3377 </span></a>    <span class="s5">/** Specifies the collation to use for the operation */</span>
<a name="l3378"><span class="ln">3378 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l3379"><span class="ln">3379 </span></a>    <span class="s5">/** Specify that the update query should only consider plans using the hinted index */</span>
<a name="l3380"><span class="ln">3380 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3381"><span class="ln">3381 </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l3382"><span class="ln">3382 </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3383"><span class="ln">3383 </span></a><span class="s3">}</span>
<a name="l3384"><span class="ln">3384 </span></a>
<a name="l3385"><span class="ln">3385 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3386"><span class="ln">3386 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DeleteResult </span><span class="s3">{</span>
<a name="l3387"><span class="ln">3387 </span></a>    <span class="s5">/** Indicates whether this write result was acknowledged. If not, then all other members of this result will be undefined. */</span>
<a name="l3388"><span class="ln">3388 </span></a>    <span class="s1">acknowledged</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3389"><span class="ln">3389 </span></a>    <span class="s5">/** The number of documents that were deleted */</span>
<a name="l3390"><span class="ln">3390 </span></a>    <span class="s1">deletedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3391"><span class="ln">3391 </span></a><span class="s3">}</span>
<a name="l3392"><span class="ln">3392 </span></a>
<a name="l3393"><span class="ln">3393 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3394"><span class="ln">3394 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DeleteStatement </span><span class="s3">{</span>
<a name="l3395"><span class="ln">3395 </span></a>    <span class="s5">/** The query that matches documents to delete. */</span>
<a name="l3396"><span class="ln">3396 </span></a>    <span class="s1">q</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3397"><span class="ln">3397 </span></a>    <span class="s5">/** The number of matching documents to delete. */</span>
<a name="l3398"><span class="ln">3398 </span></a>    <span class="s1">limit</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3399"><span class="ln">3399 </span></a>    <span class="s5">/** Specifies the collation to use for the operation. */</span>
<a name="l3400"><span class="ln">3400 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l3401"><span class="ln">3401 </span></a>    <span class="s5">/** A document or string that specifies the index to use to support the query predicate. */</span>
<a name="l3402"><span class="ln">3402 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l3403"><span class="ln">3403 </span></a><span class="s3">}</span>
<a name="l3404"><span class="ln">3404 </span></a>
<a name="l3405"><span class="ln">3405 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">deserialize </span><span class="s3">}</span>
<a name="l3406"><span class="ln">3406 </span></a>
<a name="l3407"><span class="ln">3407 </span></a><span class="s0">/* Excluded from this release type: DestroyOptions */</span>
<a name="l3408"><span class="ln">3408 </span></a>
<a name="l3409"><span class="ln">3409 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3410"><span class="ln">3410 </span></a><span class="s2">export </span><span class="s1">declare type DistinctOptions </span><span class="s3">= </span><span class="s1">CommandOperationOptions</span><span class="s3">;</span>
<a name="l3411"><span class="ln">3411 </span></a>
<a name="l3412"><span class="ln">3412 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Document </span><span class="s3">}</span>
<a name="l3413"><span class="ln">3413 </span></a>
<a name="l3414"><span class="ln">3414 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Double </span><span class="s3">}</span>
<a name="l3415"><span class="ln">3415 </span></a>
<a name="l3416"><span class="ln">3416 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3417"><span class="ln">3417 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DriverInfo </span><span class="s3">{</span>
<a name="l3418"><span class="ln">3418 </span></a>    <span class="s1">name</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3419"><span class="ln">3419 </span></a>    <span class="s1">version</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3420"><span class="ln">3420 </span></a>    <span class="s1">platform</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3421"><span class="ln">3421 </span></a><span class="s3">}</span>
<a name="l3422"><span class="ln">3422 </span></a>
<a name="l3423"><span class="ln">3423 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3424"><span class="ln">3424 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">DropCollectionOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l3425"><span class="ln">3425 </span></a>    <span class="s5">/** </span><span class="s6">@experimental </span><span class="s5">*/</span>
<a name="l3426"><span class="ln">3426 </span></a>    <span class="s1">encryptedFields</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3427"><span class="ln">3427 </span></a><span class="s3">}</span>
<a name="l3428"><span class="ln">3428 </span></a>
<a name="l3429"><span class="ln">3429 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3430"><span class="ln">3430 </span></a><span class="s2">export </span><span class="s1">declare type DropDatabaseOptions </span><span class="s3">= </span><span class="s1">CommandOperationOptions</span><span class="s3">;</span>
<a name="l3431"><span class="ln">3431 </span></a>
<a name="l3432"><span class="ln">3432 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3433"><span class="ln">3433 </span></a><span class="s2">export </span><span class="s1">declare type DropIndexesOptions </span><span class="s3">= </span><span class="s1">CommandOperationOptions</span><span class="s3">;</span>
<a name="l3434"><span class="ln">3434 </span></a>
<a name="l3435"><span class="ln">3435 </span></a><span class="s0">/* Excluded from this release type: Encrypter */</span>
<a name="l3436"><span class="ln">3436 </span></a>
<a name="l3437"><span class="ln">3437 </span></a><span class="s0">/* Excluded from this release type: EncrypterOptions */</span>
<a name="l3438"><span class="ln">3438 </span></a>
<a name="l3439"><span class="ln">3439 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3440"><span class="ln">3440 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">EndSessionOptions </span><span class="s3">{</span>
<a name="l3441"><span class="ln">3441 </span></a>    <span class="s0">/* Excluded from this release type: error */</span>
<a name="l3442"><span class="ln">3442 </span></a>    <span class="s1">force</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3443"><span class="ln">3443 </span></a>    <span class="s1">forceClear</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3444"><span class="ln">3444 </span></a><span class="s3">}</span>
<a name="l3445"><span class="ln">3445 </span></a>
<a name="l3446"><span class="ln">3446 </span></a><span class="s5">/** TypeScript Omit (Exclude to be specific) does not work for objects with an &quot;any&quot; indexed type, and breaks discriminated unions @public */</span>
<a name="l3447"><span class="ln">3447 </span></a><span class="s2">export </span><span class="s1">declare type EnhancedOmit</span><span class="s3">&lt;</span><span class="s1">TRecordOrUnion</span><span class="s3">, </span><span class="s1">KeyUnion</span><span class="s3">&gt; = </span><span class="s1">string </span><span class="s2">extends </span><span class="s1">keyof TRecordOrUnion </span><span class="s3">? </span><span class="s1">TRecordOrUnion </span><span class="s3">: </span><span class="s1">TRecordOrUnion </span><span class="s2">extends </span><span class="s1">any </span><span class="s3">? </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">TRecordOrUnion</span><span class="s3">, </span><span class="s1">Exclude</span><span class="s3">&lt;</span><span class="s1">keyof TRecordOrUnion</span><span class="s3">, </span><span class="s1">KeyUnion</span><span class="s3">&gt;&gt; : </span><span class="s1">never</span><span class="s3">;</span>
<a name="l3448"><span class="ln">3448 </span></a>
<a name="l3449"><span class="ln">3449 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3450"><span class="ln">3450 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ErrorDescription </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">{</span>
<a name="l3451"><span class="ln">3451 </span></a>    <span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3452"><span class="ln">3452 </span></a>    <span class="s1">errmsg</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3453"><span class="ln">3453 </span></a>    <span class="s1">$err</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3454"><span class="ln">3454 </span></a>    <span class="s1">errorLabels</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l3455"><span class="ln">3455 </span></a>    <span class="s1">errInfo</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3456"><span class="ln">3456 </span></a><span class="s3">}</span>
<a name="l3457"><span class="ln">3457 </span></a>
<a name="l3458"><span class="ln">3458 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3459"><span class="ln">3459 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">EstimatedDocumentCountOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l3460"><span class="ln">3460 </span></a>    <span class="s5">/**</span>
<a name="l3461"><span class="ln">3461 </span></a>     <span class="s5">* The maximum amount of time to allow the operation to run.</span>
<a name="l3462"><span class="ln">3462 </span></a>     <span class="s5">*</span>
<a name="l3463"><span class="ln">3463 </span></a>     <span class="s5">* This option is sent only if the caller explicitly provides a value. The default is to not send a value.</span>
<a name="l3464"><span class="ln">3464 </span></a>     <span class="s5">*/</span>
<a name="l3465"><span class="ln">3465 </span></a>    <span class="s1">maxTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3466"><span class="ln">3466 </span></a><span class="s3">}</span>
<a name="l3467"><span class="ln">3467 </span></a>
<a name="l3468"><span class="ln">3468 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3469"><span class="ln">3469 </span></a><span class="s2">export </span><span class="s1">declare type EventEmitterWithState </span><span class="s3">= {</span>
<a name="l3470"><span class="ln">3470 </span></a>    <span class="s0">/* Excluded from this release type: stateChanged */</span>
<a name="l3471"><span class="ln">3471 </span></a><span class="s3">};</span>
<a name="l3472"><span class="ln">3472 </span></a>
<a name="l3473"><span class="ln">3473 </span></a><span class="s5">/**</span>
<a name="l3474"><span class="ln">3474 </span></a> <span class="s5">* Event description type</span>
<a name="l3475"><span class="ln">3475 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3476"><span class="ln">3476 </span></a> <span class="s5">*/</span>
<a name="l3477"><span class="ln">3477 </span></a><span class="s2">export </span><span class="s1">declare type EventsDescription </span><span class="s3">= </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">GenericListener</span><span class="s3">&gt;;</span>
<a name="l3478"><span class="ln">3478 </span></a>
<a name="l3479"><span class="ln">3479 </span></a><span class="s0">/* Excluded from this release type: ExecutionResult */</span>
<a name="l3480"><span class="ln">3480 </span></a>
<a name="l3481"><span class="ln">3481 </span></a><span class="s0">/* Excluded from this release type: Explain */</span>
<a name="l3482"><span class="ln">3482 </span></a>
<a name="l3483"><span class="ln">3483 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3484"><span class="ln">3484 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ExplainOptions </span><span class="s3">{</span>
<a name="l3485"><span class="ln">3485 </span></a>    <span class="s5">/** Specifies the verbosity mode for the explain output. */</span>
<a name="l3486"><span class="ln">3486 </span></a>    <span class="s1">explain</span><span class="s3">?: </span><span class="s1">ExplainVerbosityLike</span><span class="s3">;</span>
<a name="l3487"><span class="ln">3487 </span></a><span class="s3">}</span>
<a name="l3488"><span class="ln">3488 </span></a>
<a name="l3489"><span class="ln">3489 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3490"><span class="ln">3490 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ExplainVerbosity</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l3491"><span class="ln">3491 </span></a>    <span class="s1">readonly queryPlanner</span><span class="s3">: </span><span class="s4">&quot;queryPlanner&quot;</span><span class="s3">;</span>
<a name="l3492"><span class="ln">3492 </span></a>    <span class="s1">readonly queryPlannerExtended</span><span class="s3">: </span><span class="s4">&quot;queryPlannerExtended&quot;</span><span class="s3">;</span>
<a name="l3493"><span class="ln">3493 </span></a>    <span class="s1">readonly executionStats</span><span class="s3">: </span><span class="s4">&quot;executionStats&quot;</span><span class="s3">;</span>
<a name="l3494"><span class="ln">3494 </span></a>    <span class="s1">readonly allPlansExecution</span><span class="s3">: </span><span class="s4">&quot;allPlansExecution&quot;</span><span class="s3">;</span>
<a name="l3495"><span class="ln">3495 </span></a><span class="s3">}&gt;;</span>
<a name="l3496"><span class="ln">3496 </span></a>
<a name="l3497"><span class="ln">3497 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3498"><span class="ln">3498 </span></a><span class="s2">export </span><span class="s1">declare type ExplainVerbosity </span><span class="s3">= </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3499"><span class="ln">3499 </span></a>
<a name="l3500"><span class="ln">3500 </span></a><span class="s5">/**</span>
<a name="l3501"><span class="ln">3501 </span></a> <span class="s5">* For backwards compatibility, true is interpreted as &quot;allPlansExecution&quot;</span>
<a name="l3502"><span class="ln">3502 </span></a> <span class="s5">* and false as &quot;queryPlanner&quot;. Prior to server version 3.6, aggregate()</span>
<a name="l3503"><span class="ln">3503 </span></a> <span class="s5">* ignores the verbosity parameter and executes in &quot;queryPlanner&quot;.</span>
<a name="l3504"><span class="ln">3504 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3505"><span class="ln">3505 </span></a> <span class="s5">*/</span>
<a name="l3506"><span class="ln">3506 </span></a><span class="s2">export </span><span class="s1">declare type ExplainVerbosityLike </span><span class="s3">= </span><span class="s1">ExplainVerbosity </span><span class="s3">| </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3507"><span class="ln">3507 </span></a>
<a name="l3508"><span class="ln">3508 </span></a><span class="s5">/** A MongoDB filter can be some portion of the schema or a set of operators @public */</span>
<a name="l3509"><span class="ln">3509 </span></a><span class="s2">export </span><span class="s1">declare type Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = {</span>
<a name="l3510"><span class="ln">3510 </span></a>    <span class="s3">[</span><span class="s1">P </span><span class="s2">in </span><span class="s1">keyof WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;]?: </span><span class="s1">Condition</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[</span><span class="s1">P</span><span class="s3">]&gt;;</span>
<a name="l3511"><span class="ln">3511 </span></a><span class="s3">} &amp; </span><span class="s1">RootFilterOperators</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;;</span>
<a name="l3512"><span class="ln">3512 </span></a>
<a name="l3513"><span class="ln">3513 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3514"><span class="ln">3514 </span></a><span class="s2">export </span><span class="s1">declare type FilterOperations</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt; = </span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">any</span><span class="s3">&gt; ? {</span>
<a name="l3515"><span class="ln">3515 </span></a>    <span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">keyof T</span><span class="s3">]?: </span><span class="s1">FilterOperators</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt;;</span>
<a name="l3516"><span class="ln">3516 </span></a><span class="s3">} : </span><span class="s1">FilterOperators</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l3517"><span class="ln">3517 </span></a>
<a name="l3518"><span class="ln">3518 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3519"><span class="ln">3519 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">FilterOperators</span><span class="s3">&lt;</span><span class="s1">TValue</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">NonObjectIdLikeDocument </span><span class="s3">{</span>
<a name="l3520"><span class="ln">3520 </span></a>    <span class="s1">$eq</span><span class="s3">?: </span><span class="s1">TValue</span><span class="s3">;</span>
<a name="l3521"><span class="ln">3521 </span></a>    <span class="s1">$gt</span><span class="s3">?: </span><span class="s1">TValue</span><span class="s3">;</span>
<a name="l3522"><span class="ln">3522 </span></a>    <span class="s1">$gte</span><span class="s3">?: </span><span class="s1">TValue</span><span class="s3">;</span>
<a name="l3523"><span class="ln">3523 </span></a>    <span class="s1">$in</span><span class="s3">?: </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">TValue</span><span class="s3">&gt;;</span>
<a name="l3524"><span class="ln">3524 </span></a>    <span class="s1">$lt</span><span class="s3">?: </span><span class="s1">TValue</span><span class="s3">;</span>
<a name="l3525"><span class="ln">3525 </span></a>    <span class="s1">$lte</span><span class="s3">?: </span><span class="s1">TValue</span><span class="s3">;</span>
<a name="l3526"><span class="ln">3526 </span></a>    <span class="s1">$ne</span><span class="s3">?: </span><span class="s1">TValue</span><span class="s3">;</span>
<a name="l3527"><span class="ln">3527 </span></a>    <span class="s1">$nin</span><span class="s3">?: </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">TValue</span><span class="s3">&gt;;</span>
<a name="l3528"><span class="ln">3528 </span></a>    <span class="s1">$not</span><span class="s3">?: </span><span class="s1">TValue </span><span class="s2">extends </span><span class="s1">string </span><span class="s3">? </span><span class="s1">FilterOperators</span><span class="s3">&lt;</span><span class="s1">TValue</span><span class="s3">&gt; | </span><span class="s1">RegExp </span><span class="s3">: </span><span class="s1">FilterOperators</span><span class="s3">&lt;</span><span class="s1">TValue</span><span class="s3">&gt;;</span>
<a name="l3529"><span class="ln">3529 </span></a>    <span class="s5">/**</span>
<a name="l3530"><span class="ln">3530 </span></a>     <span class="s5">* When `true`, `$exists` matches the documents that contain the field,</span>
<a name="l3531"><span class="ln">3531 </span></a>     <span class="s5">* including documents where the field value is null.</span>
<a name="l3532"><span class="ln">3532 </span></a>     <span class="s5">*/</span>
<a name="l3533"><span class="ln">3533 </span></a>    <span class="s1">$exists</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3534"><span class="ln">3534 </span></a>    <span class="s1">$type</span><span class="s3">?: </span><span class="s1">BSONType </span><span class="s3">| </span><span class="s1">BSONTypeAlias</span><span class="s3">;</span>
<a name="l3535"><span class="ln">3535 </span></a>    <span class="s1">$expr</span><span class="s3">?: </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">any</span><span class="s3">&gt;;</span>
<a name="l3536"><span class="ln">3536 </span></a>    <span class="s1">$jsonSchema</span><span class="s3">?: </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">any</span><span class="s3">&gt;;</span>
<a name="l3537"><span class="ln">3537 </span></a>    <span class="s1">$mod</span><span class="s3">?: </span><span class="s1">TValue </span><span class="s2">extends </span><span class="s1">number </span><span class="s3">? [</span><span class="s1">number</span><span class="s3">, </span><span class="s1">number</span><span class="s3">] : </span><span class="s1">never</span><span class="s3">;</span>
<a name="l3538"><span class="ln">3538 </span></a>    <span class="s1">$regex</span><span class="s3">?: </span><span class="s1">TValue </span><span class="s2">extends </span><span class="s1">string </span><span class="s3">? </span><span class="s1">RegExp </span><span class="s3">| </span><span class="s1">BSONRegExp </span><span class="s3">| </span><span class="s1">string </span><span class="s3">: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l3539"><span class="ln">3539 </span></a>    <span class="s1">$options</span><span class="s3">?: </span><span class="s1">TValue </span><span class="s2">extends </span><span class="s1">string </span><span class="s3">? </span><span class="s1">string </span><span class="s3">: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l3540"><span class="ln">3540 </span></a>    <span class="s1">$geoIntersects</span><span class="s3">?: {</span>
<a name="l3541"><span class="ln">3541 </span></a>        <span class="s1">$geometry</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3542"><span class="ln">3542 </span></a>    <span class="s3">};</span>
<a name="l3543"><span class="ln">3543 </span></a>    <span class="s1">$geoWithin</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3544"><span class="ln">3544 </span></a>    <span class="s1">$near</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3545"><span class="ln">3545 </span></a>    <span class="s1">$nearSphere</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3546"><span class="ln">3546 </span></a>    <span class="s1">$maxDistance</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3547"><span class="ln">3547 </span></a>    <span class="s1">$all</span><span class="s3">?: </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;;</span>
<a name="l3548"><span class="ln">3548 </span></a>    <span class="s1">$elemMatch</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3549"><span class="ln">3549 </span></a>    <span class="s1">$size</span><span class="s3">?: </span><span class="s1">TValue </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt; ? </span><span class="s1">number </span><span class="s3">: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l3550"><span class="ln">3550 </span></a>    <span class="s1">$bitsAllClear</span><span class="s3">?: </span><span class="s1">BitwiseFilter</span><span class="s3">;</span>
<a name="l3551"><span class="ln">3551 </span></a>    <span class="s1">$bitsAllSet</span><span class="s3">?: </span><span class="s1">BitwiseFilter</span><span class="s3">;</span>
<a name="l3552"><span class="ln">3552 </span></a>    <span class="s1">$bitsAnyClear</span><span class="s3">?: </span><span class="s1">BitwiseFilter</span><span class="s3">;</span>
<a name="l3553"><span class="ln">3553 </span></a>    <span class="s1">$bitsAnySet</span><span class="s3">?: </span><span class="s1">BitwiseFilter</span><span class="s3">;</span>
<a name="l3554"><span class="ln">3554 </span></a>    <span class="s1">$rand</span><span class="s3">?: </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt;;</span>
<a name="l3555"><span class="ln">3555 </span></a><span class="s3">}</span>
<a name="l3556"><span class="ln">3556 </span></a>
<a name="l3557"><span class="ln">3557 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3558"><span class="ln">3558 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">AbstractCursor</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; {</span>
<a name="l3559"><span class="ln">3559 </span></a>    <span class="s0">/* Excluded from this release type: [kFilter] */</span>
<a name="l3560"><span class="ln">3560 </span></a>    <span class="s0">/* Excluded from this release type: [kNumReturned] */</span>
<a name="l3561"><span class="ln">3561 </span></a>    <span class="s0">/* Excluded from this release type: [kBuiltOptions] */</span>
<a name="l3562"><span class="ln">3562 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l3563"><span class="ln">3563 </span></a>    <span class="s1">clone</span><span class="s3">(): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l3564"><span class="ln">3564 </span></a>    <span class="s1">map</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;(</span><span class="s1">transform</span><span class="s3">: (</span><span class="s1">doc</span><span class="s3">: </span><span class="s1">TSchema</span><span class="s3">) =&gt; </span><span class="s1">T</span><span class="s3">): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l3565"><span class="ln">3565 </span></a>    <span class="s0">/* Excluded from this release type: _initialize */</span>
<a name="l3566"><span class="ln">3566 </span></a>    <span class="s0">/* Excluded from this release type: getMore */</span>
<a name="l3567"><span class="ln">3567 </span></a>    <span class="s5">/**</span>
<a name="l3568"><span class="ln">3568 </span></a>     <span class="s5">* Get the count of documents for this cursor</span>
<a name="l3569"><span class="ln">3569 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Use `collection.estimatedDocumentCount` or `collection.countDocuments` instead</span>
<a name="l3570"><span class="ln">3570 </span></a>     <span class="s5">*/</span>
<a name="l3571"><span class="ln">3571 </span></a>    <span class="s1">count</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">CountOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">number</span><span class="s3">&gt;;</span>
<a name="l3572"><span class="ln">3572 </span></a>    <span class="s5">/** Execute the explain for the cursor */</span>
<a name="l3573"><span class="ln">3573 </span></a>    <span class="s1">explain</span><span class="s3">(</span><span class="s1">verbosity</span><span class="s3">?: </span><span class="s1">ExplainVerbosityLike</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l3574"><span class="ln">3574 </span></a>    <span class="s5">/** Set the cursor query */</span>
<a name="l3575"><span class="ln">3575 </span></a>    <span class="s1">filter</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3576"><span class="ln">3576 </span></a>    <span class="s5">/**</span>
<a name="l3577"><span class="ln">3577 </span></a>     <span class="s5">* Set the cursor hint</span>
<a name="l3578"><span class="ln">3578 </span></a>     <span class="s5">*</span>
<a name="l3579"><span class="ln">3579 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">hint - If specified, then the query system will only consider plans using the hinted index.</span>
<a name="l3580"><span class="ln">3580 </span></a>     <span class="s5">*/</span>
<a name="l3581"><span class="ln">3581 </span></a>    <span class="s1">hint</span><span class="s3">(</span><span class="s1">hint</span><span class="s3">: </span><span class="s1">Hint</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3582"><span class="ln">3582 </span></a>    <span class="s5">/**</span>
<a name="l3583"><span class="ln">3583 </span></a>     <span class="s5">* Set the cursor min</span>
<a name="l3584"><span class="ln">3584 </span></a>     <span class="s5">*</span>
<a name="l3585"><span class="ln">3585 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">min - Specify a $min value to specify the inclusive lower bound for a specific index in order to constrain the results of find(). The $min specifies the lower bound for all keys of a specific index in order.</span>
<a name="l3586"><span class="ln">3586 </span></a>     <span class="s5">*/</span>
<a name="l3587"><span class="ln">3587 </span></a>    <span class="s1">min</span><span class="s3">(</span><span class="s1">min</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3588"><span class="ln">3588 </span></a>    <span class="s5">/**</span>
<a name="l3589"><span class="ln">3589 </span></a>     <span class="s5">* Set the cursor max</span>
<a name="l3590"><span class="ln">3590 </span></a>     <span class="s5">*</span>
<a name="l3591"><span class="ln">3591 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">max - Specify a $max value to specify the exclusive upper bound for a specific index in order to constrain the results of find(). The $max specifies the upper bound for all keys of a specific index in order.</span>
<a name="l3592"><span class="ln">3592 </span></a>     <span class="s5">*/</span>
<a name="l3593"><span class="ln">3593 </span></a>    <span class="s1">max</span><span class="s3">(</span><span class="s1">max</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3594"><span class="ln">3594 </span></a>    <span class="s5">/**</span>
<a name="l3595"><span class="ln">3595 </span></a>     <span class="s5">* Set the cursor returnKey.</span>
<a name="l3596"><span class="ln">3596 </span></a>     <span class="s5">* If set to true, modifies the cursor to only return the index field or fields for the results of the query, rather than documents.</span>
<a name="l3597"><span class="ln">3597 </span></a>     <span class="s5">* If set to true and the query does not use an index to perform the read operation, the returned documents will not contain any fields.</span>
<a name="l3598"><span class="ln">3598 </span></a>     <span class="s5">*</span>
<a name="l3599"><span class="ln">3599 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - the returnKey value.</span>
<a name="l3600"><span class="ln">3600 </span></a>     <span class="s5">*/</span>
<a name="l3601"><span class="ln">3601 </span></a>    <span class="s1">returnKey</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3602"><span class="ln">3602 </span></a>    <span class="s5">/**</span>
<a name="l3603"><span class="ln">3603 </span></a>     <span class="s5">* Modifies the output of a query by adding a field $recordId to matching documents. $recordId is the internal key which uniquely identifies a document in a collection.</span>
<a name="l3604"><span class="ln">3604 </span></a>     <span class="s5">*</span>
<a name="l3605"><span class="ln">3605 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The $showDiskLoc option has now been deprecated and replaced with the showRecordId field. $showDiskLoc will still be accepted for OP_QUERY stye find.</span>
<a name="l3606"><span class="ln">3606 </span></a>     <span class="s5">*/</span>
<a name="l3607"><span class="ln">3607 </span></a>    <span class="s1">showRecordId</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3608"><span class="ln">3608 </span></a>    <span class="s5">/**</span>
<a name="l3609"><span class="ln">3609 </span></a>     <span class="s5">* Add a query modifier to the cursor query</span>
<a name="l3610"><span class="ln">3610 </span></a>     <span class="s5">*</span>
<a name="l3611"><span class="ln">3611 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">name - The query modifier (must start with $, such as $orderby etc)</span>
<a name="l3612"><span class="ln">3612 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The modifier value.</span>
<a name="l3613"><span class="ln">3613 </span></a>     <span class="s5">*/</span>
<a name="l3614"><span class="ln">3614 </span></a>    <span class="s1">addQueryModifier</span><span class="s3">(</span><span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">value</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">boolean </span><span class="s3">| </span><span class="s1">number </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3615"><span class="ln">3615 </span></a>    <span class="s5">/**</span>
<a name="l3616"><span class="ln">3616 </span></a>     <span class="s5">* Add a comment to the cursor query allowing for tracking the comment in the log.</span>
<a name="l3617"><span class="ln">3617 </span></a>     <span class="s5">*</span>
<a name="l3618"><span class="ln">3618 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The comment attached to this query.</span>
<a name="l3619"><span class="ln">3619 </span></a>     <span class="s5">*/</span>
<a name="l3620"><span class="ln">3620 </span></a>    <span class="s1">comment</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3621"><span class="ln">3621 </span></a>    <span class="s5">/**</span>
<a name="l3622"><span class="ln">3622 </span></a>     <span class="s5">* Set a maxAwaitTimeMS on a tailing cursor query to allow to customize the timeout value for the option awaitData (Only supported on MongoDB 3.2 or higher, ignored otherwise)</span>
<a name="l3623"><span class="ln">3623 </span></a>     <span class="s5">*</span>
<a name="l3624"><span class="ln">3624 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - Number of milliseconds to wait before aborting the tailed query.</span>
<a name="l3625"><span class="ln">3625 </span></a>     <span class="s5">*/</span>
<a name="l3626"><span class="ln">3626 </span></a>    <span class="s1">maxAwaitTimeMS</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3627"><span class="ln">3627 </span></a>    <span class="s5">/**</span>
<a name="l3628"><span class="ln">3628 </span></a>     <span class="s5">* Set a maxTimeMS on the cursor query, allowing for hard timeout limits on queries (Only supported on MongoDB 2.6 or higher)</span>
<a name="l3629"><span class="ln">3629 </span></a>     <span class="s5">*</span>
<a name="l3630"><span class="ln">3630 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - Number of milliseconds to wait before aborting the query.</span>
<a name="l3631"><span class="ln">3631 </span></a>     <span class="s5">*/</span>
<a name="l3632"><span class="ln">3632 </span></a>    <span class="s1">maxTimeMS</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3633"><span class="ln">3633 </span></a>    <span class="s5">/**</span>
<a name="l3634"><span class="ln">3634 </span></a>     <span class="s5">* Add a project stage to the aggregation pipeline</span>
<a name="l3635"><span class="ln">3635 </span></a>     <span class="s5">*</span>
<a name="l3636"><span class="ln">3636 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l3637"><span class="ln">3637 </span></a>     <span class="s5">* In order to strictly type this function you must provide an interface</span>
<a name="l3638"><span class="ln">3638 </span></a>     <span class="s5">* that represents the effect of your projection on the result documents.</span>
<a name="l3639"><span class="ln">3639 </span></a>     <span class="s5">*</span>
<a name="l3640"><span class="ln">3640 </span></a>     <span class="s5">* By default chaining a projection to your cursor changes the returned type to the generic</span>
<a name="l3641"><span class="ln">3641 </span></a>     <span class="s5">* {</span><span class="s6">@link </span><span class="s5">Document} type.</span>
<a name="l3642"><span class="ln">3642 </span></a>     <span class="s5">* You should specify a parameterized type to have assertions on your final results.</span>
<a name="l3643"><span class="ln">3643 </span></a>     <span class="s5">*</span>
<a name="l3644"><span class="ln">3644 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l3645"><span class="ln">3645 </span></a>     <span class="s5">* ```typescript</span>
<a name="l3646"><span class="ln">3646 </span></a>     <span class="s5">* // Best way</span>
<a name="l3647"><span class="ln">3647 </span></a>     <span class="s5">* const docs: FindCursor&lt;{ a: number }&gt; = cursor.project&lt;{ a: number }&gt;({ _id: 0, a: true });</span>
<a name="l3648"><span class="ln">3648 </span></a>     <span class="s5">* // Flexible way</span>
<a name="l3649"><span class="ln">3649 </span></a>     <span class="s5">* const docs: FindCursor&lt;Document&gt; = cursor.project({ _id: 0, a: true });</span>
<a name="l3650"><span class="ln">3650 </span></a>     <span class="s5">* ```</span>
<a name="l3651"><span class="ln">3651 </span></a>     <span class="s5">*</span>
<a name="l3652"><span class="ln">3652 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l3653"><span class="ln">3653 </span></a>     <span class="s5">*</span>
<a name="l3654"><span class="ln">3654 </span></a>     <span class="s5">* **Note for Typescript Users:** adding a transform changes the return type of the iteration of this cursor,</span>
<a name="l3655"><span class="ln">3655 </span></a>     <span class="s5">* it **does not** return a new instance of a cursor. This means when calling project,</span>
<a name="l3656"><span class="ln">3656 </span></a>     <span class="s5">* you should always assign the result to a new variable in order to get a correctly typed cursor variable.</span>
<a name="l3657"><span class="ln">3657 </span></a>     <span class="s5">* Take note of the following example:</span>
<a name="l3658"><span class="ln">3658 </span></a>     <span class="s5">*</span>
<a name="l3659"><span class="ln">3659 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l3660"><span class="ln">3660 </span></a>     <span class="s5">* ```typescript</span>
<a name="l3661"><span class="ln">3661 </span></a>     <span class="s5">* const cursor: FindCursor&lt;{ a: number; b: string }&gt; = coll.find();</span>
<a name="l3662"><span class="ln">3662 </span></a>     <span class="s5">* const projectCursor = cursor.project&lt;{ a: number }&gt;({ _id: 0, a: true });</span>
<a name="l3663"><span class="ln">3663 </span></a>     <span class="s5">* const aPropOnlyArray: {a: number}[] = await projectCursor.toArray();</span>
<a name="l3664"><span class="ln">3664 </span></a>     <span class="s5">*</span>
<a name="l3665"><span class="ln">3665 </span></a>     <span class="s5">* // or always use chaining and save the final cursor</span>
<a name="l3666"><span class="ln">3666 </span></a>     <span class="s5">*</span>
<a name="l3667"><span class="ln">3667 </span></a>     <span class="s5">* const cursor = coll.find().project&lt;{ a: string }&gt;({</span>
<a name="l3668"><span class="ln">3668 </span></a>     <span class="s5">*   _id: 0,</span>
<a name="l3669"><span class="ln">3669 </span></a>     <span class="s5">*   a: { $convert: { input: '$a', to: 'string' }</span>
<a name="l3670"><span class="ln">3670 </span></a>     <span class="s5">* }});</span>
<a name="l3671"><span class="ln">3671 </span></a>     <span class="s5">* ```</span>
<a name="l3672"><span class="ln">3672 </span></a>     <span class="s5">*/</span>
<a name="l3673"><span class="ln">3673 </span></a>    <span class="s1">project</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt;(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l3674"><span class="ln">3674 </span></a>    <span class="s5">/**</span>
<a name="l3675"><span class="ln">3675 </span></a>     <span class="s5">* Sets the sort order of the cursor query.</span>
<a name="l3676"><span class="ln">3676 </span></a>     <span class="s5">*</span>
<a name="l3677"><span class="ln">3677 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">sort - The key or keys set for the sort.</span>
<a name="l3678"><span class="ln">3678 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">direction - The direction of the sorting (1 or -1).</span>
<a name="l3679"><span class="ln">3679 </span></a>     <span class="s5">*/</span>
<a name="l3680"><span class="ln">3680 </span></a>    <span class="s1">sort</span><span class="s3">(</span><span class="s1">sort</span><span class="s3">: </span><span class="s1">Sort </span><span class="s3">| </span><span class="s1">string</span><span class="s3">, </span><span class="s1">direction</span><span class="s3">?: </span><span class="s1">SortDirection</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3681"><span class="ln">3681 </span></a>    <span class="s5">/**</span>
<a name="l3682"><span class="ln">3682 </span></a>     <span class="s5">* Allows disk use for blocking sort operations exceeding 100MB memory. (MongoDB 3.2 or higher)</span>
<a name="l3683"><span class="ln">3683 </span></a>     <span class="s5">*</span>
<a name="l3684"><span class="ln">3684 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l3685"><span class="ln">3685 </span></a>     <span class="s5">* {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/command/find/#find-cmd-allowdiskuse | find command allowDiskUse documentation}</span>
<a name="l3686"><span class="ln">3686 </span></a>     <span class="s5">*/</span>
<a name="l3687"><span class="ln">3687 </span></a>    <span class="s1">allowDiskUse</span><span class="s3">(</span><span class="s1">allow</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3688"><span class="ln">3688 </span></a>    <span class="s5">/**</span>
<a name="l3689"><span class="ln">3689 </span></a>     <span class="s5">* Set the collation options for the cursor.</span>
<a name="l3690"><span class="ln">3690 </span></a>     <span class="s5">*</span>
<a name="l3691"><span class="ln">3691 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The cursor collation options (MongoDB 3.4 or higher) settings for update operation (see 3.4 documentation for available fields).</span>
<a name="l3692"><span class="ln">3692 </span></a>     <span class="s5">*/</span>
<a name="l3693"><span class="ln">3693 </span></a>    <span class="s1">collation</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">CollationOptions</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3694"><span class="ln">3694 </span></a>    <span class="s5">/**</span>
<a name="l3695"><span class="ln">3695 </span></a>     <span class="s5">* Set the limit for the cursor.</span>
<a name="l3696"><span class="ln">3696 </span></a>     <span class="s5">*</span>
<a name="l3697"><span class="ln">3697 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The limit for the cursor query.</span>
<a name="l3698"><span class="ln">3698 </span></a>     <span class="s5">*/</span>
<a name="l3699"><span class="ln">3699 </span></a>    <span class="s1">limit</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3700"><span class="ln">3700 </span></a>    <span class="s5">/**</span>
<a name="l3701"><span class="ln">3701 </span></a>     <span class="s5">* Set the skip for the cursor.</span>
<a name="l3702"><span class="ln">3702 </span></a>     <span class="s5">*</span>
<a name="l3703"><span class="ln">3703 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">value - The skip for the cursor query.</span>
<a name="l3704"><span class="ln">3704 </span></a>     <span class="s5">*/</span>
<a name="l3705"><span class="ln">3705 </span></a>    <span class="s1">skip</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3706"><span class="ln">3706 </span></a><span class="s3">}</span>
<a name="l3707"><span class="ln">3707 </span></a>
<a name="l3708"><span class="ln">3708 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3709"><span class="ln">3709 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">FindOneAndDeleteOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l3710"><span class="ln">3710 </span></a>    <span class="s5">/** An optional hint for query optimization. See the {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/command/update/#update-command-hint|update command} reference for more information.*/</span>
<a name="l3711"><span class="ln">3711 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3712"><span class="ln">3712 </span></a>    <span class="s5">/** Limits the fields to return for all matching documents. */</span>
<a name="l3713"><span class="ln">3713 </span></a>    <span class="s1">projection</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3714"><span class="ln">3714 </span></a>    <span class="s5">/** Determines which document the operation modifies if the query selects multiple documents. */</span>
<a name="l3715"><span class="ln">3715 </span></a>    <span class="s1">sort</span><span class="s3">?: </span><span class="s1">Sort</span><span class="s3">;</span>
<a name="l3716"><span class="ln">3716 </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l3717"><span class="ln">3717 </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3718"><span class="ln">3718 </span></a>    <span class="s5">/**</span>
<a name="l3719"><span class="ln">3719 </span></a>     <span class="s5">* Return the ModifyResult instead of the modified document. Defaults to false</span>
<a name="l3720"><span class="ln">3720 </span></a>     <span class="s5">*/</span>
<a name="l3721"><span class="ln">3721 </span></a>    <span class="s1">includeResultMetadata</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3722"><span class="ln">3722 </span></a><span class="s3">}</span>
<a name="l3723"><span class="ln">3723 </span></a>
<a name="l3724"><span class="ln">3724 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3725"><span class="ln">3725 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">FindOneAndReplaceOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l3726"><span class="ln">3726 </span></a>    <span class="s5">/** Allow driver to bypass schema validation. */</span>
<a name="l3727"><span class="ln">3727 </span></a>    <span class="s1">bypassDocumentValidation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3728"><span class="ln">3728 </span></a>    <span class="s5">/** An optional hint for query optimization. See the {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/command/update/#update-command-hint|update command} reference for more information.*/</span>
<a name="l3729"><span class="ln">3729 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3730"><span class="ln">3730 </span></a>    <span class="s5">/** Limits the fields to return for all matching documents. */</span>
<a name="l3731"><span class="ln">3731 </span></a>    <span class="s1">projection</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3732"><span class="ln">3732 </span></a>    <span class="s5">/** When set to 'after', returns the updated document rather than the original. The default is 'before'.  */</span>
<a name="l3733"><span class="ln">3733 </span></a>    <span class="s1">returnDocument</span><span class="s3">?: </span><span class="s1">ReturnDocument</span><span class="s3">;</span>
<a name="l3734"><span class="ln">3734 </span></a>    <span class="s5">/** Determines which document the operation modifies if the query selects multiple documents. */</span>
<a name="l3735"><span class="ln">3735 </span></a>    <span class="s1">sort</span><span class="s3">?: </span><span class="s1">Sort</span><span class="s3">;</span>
<a name="l3736"><span class="ln">3736 </span></a>    <span class="s5">/** Upsert the document if it does not exist. */</span>
<a name="l3737"><span class="ln">3737 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3738"><span class="ln">3738 </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l3739"><span class="ln">3739 </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3740"><span class="ln">3740 </span></a>    <span class="s5">/**</span>
<a name="l3741"><span class="ln">3741 </span></a>     <span class="s5">* Return the ModifyResult instead of the modified document. Defaults to true</span>
<a name="l3742"><span class="ln">3742 </span></a>     <span class="s5">* but will default to false in the next major version.</span>
<a name="l3743"><span class="ln">3743 </span></a>     <span class="s5">*/</span>
<a name="l3744"><span class="ln">3744 </span></a>    <span class="s1">includeResultMetadata</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3745"><span class="ln">3745 </span></a><span class="s3">}</span>
<a name="l3746"><span class="ln">3746 </span></a>
<a name="l3747"><span class="ln">3747 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3748"><span class="ln">3748 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">FindOneAndUpdateOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l3749"><span class="ln">3749 </span></a>    <span class="s5">/** Optional list of array filters referenced in filtered positional operators */</span>
<a name="l3750"><span class="ln">3750 </span></a>    <span class="s1">arrayFilters</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l3751"><span class="ln">3751 </span></a>    <span class="s5">/** Allow driver to bypass schema validation. */</span>
<a name="l3752"><span class="ln">3752 </span></a>    <span class="s1">bypassDocumentValidation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3753"><span class="ln">3753 </span></a>    <span class="s5">/** An optional hint for query optimization. See the {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/command/update/#update-command-hint|update command} reference for more information.*/</span>
<a name="l3754"><span class="ln">3754 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3755"><span class="ln">3755 </span></a>    <span class="s5">/** Limits the fields to return for all matching documents. */</span>
<a name="l3756"><span class="ln">3756 </span></a>    <span class="s1">projection</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3757"><span class="ln">3757 </span></a>    <span class="s5">/** When set to 'after', returns the updated document rather than the original. The default is 'before'.  */</span>
<a name="l3758"><span class="ln">3758 </span></a>    <span class="s1">returnDocument</span><span class="s3">?: </span><span class="s1">ReturnDocument</span><span class="s3">;</span>
<a name="l3759"><span class="ln">3759 </span></a>    <span class="s5">/** Determines which document the operation modifies if the query selects multiple documents. */</span>
<a name="l3760"><span class="ln">3760 </span></a>    <span class="s1">sort</span><span class="s3">?: </span><span class="s1">Sort</span><span class="s3">;</span>
<a name="l3761"><span class="ln">3761 </span></a>    <span class="s5">/** Upsert the document if it does not exist. */</span>
<a name="l3762"><span class="ln">3762 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3763"><span class="ln">3763 </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l3764"><span class="ln">3764 </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3765"><span class="ln">3765 </span></a>    <span class="s5">/**</span>
<a name="l3766"><span class="ln">3766 </span></a>     <span class="s5">* Return the ModifyResult instead of the modified document. Defaults to true</span>
<a name="l3767"><span class="ln">3767 </span></a>     <span class="s5">* but will default to false in the next major version.</span>
<a name="l3768"><span class="ln">3768 </span></a>     <span class="s5">*/</span>
<a name="l3769"><span class="ln">3769 </span></a>    <span class="s1">includeResultMetadata</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3770"><span class="ln">3770 </span></a><span class="s3">}</span>
<a name="l3771"><span class="ln">3771 </span></a>
<a name="l3772"><span class="ln">3772 </span></a><span class="s5">/**</span>
<a name="l3773"><span class="ln">3773 </span></a> <span class="s5">* A builder object that is returned from {</span><span class="s6">@link </span><span class="s5">BulkOperationBase#find}.</span>
<a name="l3774"><span class="ln">3774 </span></a> <span class="s5">* Is used to build a write operation that involves a query filter.</span>
<a name="l3775"><span class="ln">3775 </span></a> <span class="s5">*</span>
<a name="l3776"><span class="ln">3776 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3777"><span class="ln">3777 </span></a> <span class="s5">*/</span>
<a name="l3778"><span class="ln">3778 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">FindOperators </span><span class="s3">{</span>
<a name="l3779"><span class="ln">3779 </span></a>    <span class="s1">bulkOperation</span><span class="s3">: </span><span class="s1">BulkOperationBase</span><span class="s3">;</span>
<a name="l3780"><span class="ln">3780 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l3781"><span class="ln">3781 </span></a>    <span class="s5">/** Add a multiple update operation to the bulk operation */</span>
<a name="l3782"><span class="ln">3782 </span></a>    <span class="s1">update</span><span class="s3">(</span><span class="s1">updateDocument</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">[]): </span><span class="s1">BulkOperationBase</span><span class="s3">;</span>
<a name="l3783"><span class="ln">3783 </span></a>    <span class="s5">/** Add a single update operation to the bulk operation */</span>
<a name="l3784"><span class="ln">3784 </span></a>    <span class="s1">updateOne</span><span class="s3">(</span><span class="s1">updateDocument</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">[]): </span><span class="s1">BulkOperationBase</span><span class="s3">;</span>
<a name="l3785"><span class="ln">3785 </span></a>    <span class="s5">/** Add a replace one operation to the bulk operation */</span>
<a name="l3786"><span class="ln">3786 </span></a>    <span class="s1">replaceOne</span><span class="s3">(</span><span class="s1">replacement</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">BulkOperationBase</span><span class="s3">;</span>
<a name="l3787"><span class="ln">3787 </span></a>    <span class="s5">/** Add a delete one operation to the bulk operation */</span>
<a name="l3788"><span class="ln">3788 </span></a>    <span class="s1">deleteOne</span><span class="s3">(): </span><span class="s1">BulkOperationBase</span><span class="s3">;</span>
<a name="l3789"><span class="ln">3789 </span></a>    <span class="s5">/** Add a delete many operation to the bulk operation */</span>
<a name="l3790"><span class="ln">3790 </span></a>    <span class="s2">delete</span><span class="s3">(): </span><span class="s1">BulkOperationBase</span><span class="s3">;</span>
<a name="l3791"><span class="ln">3791 </span></a>    <span class="s5">/** Upsert modifier for update bulk operation, noting that this operation is an upsert. */</span>
<a name="l3792"><span class="ln">3792 </span></a>    <span class="s1">upsert</span><span class="s3">(): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3793"><span class="ln">3793 </span></a>    <span class="s5">/** Specifies the collation for the query condition. */</span>
<a name="l3794"><span class="ln">3794 </span></a>    <span class="s1">collation</span><span class="s3">(</span><span class="s1">collation</span><span class="s3">: </span><span class="s1">CollationOptions</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3795"><span class="ln">3795 </span></a>    <span class="s5">/** Specifies arrayFilters for UpdateOne or UpdateMany bulk operations. */</span>
<a name="l3796"><span class="ln">3796 </span></a>    <span class="s1">arrayFilters</span><span class="s3">(</span><span class="s1">arrayFilters</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">[]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3797"><span class="ln">3797 </span></a>    <span class="s5">/** Specifies hint for the bulk operation. */</span>
<a name="l3798"><span class="ln">3798 </span></a>    <span class="s1">hint</span><span class="s3">(</span><span class="s1">hint</span><span class="s3">: </span><span class="s1">Hint</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3799"><span class="ln">3799 </span></a><span class="s3">}</span>
<a name="l3800"><span class="ln">3800 </span></a>
<a name="l3801"><span class="ln">3801 </span></a><span class="s5">/**</span>
<a name="l3802"><span class="ln">3802 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3803"><span class="ln">3803 </span></a> <span class="s5">* </span><span class="s6">@typeParam </span><span class="s5">TSchema - Unused schema definition, deprecated usage, only specify `FindOptions` with no generic</span>
<a name="l3804"><span class="ln">3804 </span></a> <span class="s5">*/</span>
<a name="l3805"><span class="ln">3805 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">FindOptions</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">CommandOperationOptions</span><span class="s3">, </span><span class="s4">'writeConcern'</span><span class="s3">&gt; {</span>
<a name="l3806"><span class="ln">3806 </span></a>    <span class="s5">/** Sets the limit of documents returned in the query. */</span>
<a name="l3807"><span class="ln">3807 </span></a>    <span class="s1">limit</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3808"><span class="ln">3808 </span></a>    <span class="s5">/** Set to sort the documents coming back from the query. Array of indexes, `[['a', 1]]` etc. */</span>
<a name="l3809"><span class="ln">3809 </span></a>    <span class="s1">sort</span><span class="s3">?: </span><span class="s1">Sort</span><span class="s3">;</span>
<a name="l3810"><span class="ln">3810 </span></a>    <span class="s5">/** The fields to return in the query. Object of fields to either include or exclude (one of, not both), `{'a':1, 'b': 1}` **or** `{'a': 0, 'b': 0}` */</span>
<a name="l3811"><span class="ln">3811 </span></a>    <span class="s1">projection</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3812"><span class="ln">3812 </span></a>    <span class="s5">/** Set to skip N documents ahead in your query (useful for pagination). */</span>
<a name="l3813"><span class="ln">3813 </span></a>    <span class="s1">skip</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3814"><span class="ln">3814 </span></a>    <span class="s5">/** Tell the query to use specific indexes in the query. Object of indexes to use, `{'_id':1}` */</span>
<a name="l3815"><span class="ln">3815 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l3816"><span class="ln">3816 </span></a>    <span class="s5">/** Specify if the cursor can timeout. */</span>
<a name="l3817"><span class="ln">3817 </span></a>    <span class="s1">timeout</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3818"><span class="ln">3818 </span></a>    <span class="s5">/** Specify if the cursor is tailable. */</span>
<a name="l3819"><span class="ln">3819 </span></a>    <span class="s1">tailable</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3820"><span class="ln">3820 </span></a>    <span class="s5">/** Specify if the cursor is a tailable-await cursor. Requires `tailable` to be true */</span>
<a name="l3821"><span class="ln">3821 </span></a>    <span class="s1">awaitData</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3822"><span class="ln">3822 </span></a>    <span class="s5">/** Set the batchSize for the getMoreCommand when iterating over the query results. */</span>
<a name="l3823"><span class="ln">3823 </span></a>    <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3824"><span class="ln">3824 </span></a>    <span class="s5">/** If true, returns only the index keys in the resulting documents. */</span>
<a name="l3825"><span class="ln">3825 </span></a>    <span class="s1">returnKey</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3826"><span class="ln">3826 </span></a>    <span class="s5">/** The inclusive lower bound for a specific index */</span>
<a name="l3827"><span class="ln">3827 </span></a>    <span class="s1">min</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3828"><span class="ln">3828 </span></a>    <span class="s5">/** The exclusive upper bound for a specific index */</span>
<a name="l3829"><span class="ln">3829 </span></a>    <span class="s1">max</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3830"><span class="ln">3830 </span></a>    <span class="s5">/** Number of milliseconds to wait before aborting the query. */</span>
<a name="l3831"><span class="ln">3831 </span></a>    <span class="s1">maxTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3832"><span class="ln">3832 </span></a>    <span class="s5">/** The maximum amount of time for the server to wait on new documents to satisfy a tailable cursor query. Requires `tailable` and `awaitData` to be true */</span>
<a name="l3833"><span class="ln">3833 </span></a>    <span class="s1">maxAwaitTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3834"><span class="ln">3834 </span></a>    <span class="s5">/** The server normally times out idle cursors after an inactivity period (10 minutes) to prevent excess memory use. Set this option to prevent that. */</span>
<a name="l3835"><span class="ln">3835 </span></a>    <span class="s1">noCursorTimeout</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3836"><span class="ln">3836 </span></a>    <span class="s5">/** Specify collation (MongoDB 3.4 or higher) settings for update operation (see 3.4 documentation for available fields). */</span>
<a name="l3837"><span class="ln">3837 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l3838"><span class="ln">3838 </span></a>    <span class="s5">/** Allows disk use for blocking sort operations exceeding 100MB memory. (MongoDB 3.2 or higher) */</span>
<a name="l3839"><span class="ln">3839 </span></a>    <span class="s1">allowDiskUse</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3840"><span class="ln">3840 </span></a>    <span class="s5">/** Determines whether to close the cursor after the first batch. Defaults to false. */</span>
<a name="l3841"><span class="ln">3841 </span></a>    <span class="s1">singleBatch</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3842"><span class="ln">3842 </span></a>    <span class="s5">/** For queries against a sharded collection, allows the command (or subsequent getMore commands) to return partial results, rather than an error, if one or more queried shards are unavailable. */</span>
<a name="l3843"><span class="ln">3843 </span></a>    <span class="s1">allowPartialResults</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3844"><span class="ln">3844 </span></a>    <span class="s5">/** Determines whether to return the record identifier for each document. If true, adds a field $recordId to the returned documents. */</span>
<a name="l3845"><span class="ln">3845 </span></a>    <span class="s1">showRecordId</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3846"><span class="ln">3846 </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l3847"><span class="ln">3847 </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l3848"><span class="ln">3848 </span></a>    <span class="s5">/**</span>
<a name="l3849"><span class="ln">3849 </span></a>     <span class="s5">* Option to enable an optimized code path for queries looking for a particular range of `ts` values in the oplog. Requires `tailable` to be true.</span>
<a name="l3850"><span class="ln">3850 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Starting from MongoDB 4.4 this flag is not needed and will be ignored.</span>
<a name="l3851"><span class="ln">3851 </span></a>     <span class="s5">*/</span>
<a name="l3852"><span class="ln">3852 </span></a>    <span class="s1">oplogReplay</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l3853"><span class="ln">3853 </span></a><span class="s3">}</span>
<a name="l3854"><span class="ln">3854 </span></a>
<a name="l3855"><span class="ln">3855 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3856"><span class="ln">3856 </span></a><span class="s2">export </span><span class="s1">declare type Flatten</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">&gt; = </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">infer Item</span><span class="s3">&gt; ? </span><span class="s1">Item </span><span class="s3">: </span><span class="s1">Type</span><span class="s3">;</span>
<a name="l3857"><span class="ln">3857 </span></a>
<a name="l3858"><span class="ln">3858 </span></a><span class="s5">/**</span>
<a name="l3859"><span class="ln">3859 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3860"><span class="ln">3860 </span></a> <span class="s5">* Configuration options for making an AWS encryption key</span>
<a name="l3861"><span class="ln">3861 </span></a> <span class="s5">*/</span>
<a name="l3862"><span class="ln">3862 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">GCPEncryptionKeyOptions </span><span class="s3">{</span>
<a name="l3863"><span class="ln">3863 </span></a>    <span class="s5">/**</span>
<a name="l3864"><span class="ln">3864 </span></a>     <span class="s5">* GCP project ID</span>
<a name="l3865"><span class="ln">3865 </span></a>     <span class="s5">*/</span>
<a name="l3866"><span class="ln">3866 </span></a>    <span class="s1">projectId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3867"><span class="ln">3867 </span></a>    <span class="s5">/**</span>
<a name="l3868"><span class="ln">3868 </span></a>     <span class="s5">* Location name (e.g. &quot;global&quot;)</span>
<a name="l3869"><span class="ln">3869 </span></a>     <span class="s5">*/</span>
<a name="l3870"><span class="ln">3870 </span></a>    <span class="s1">location</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3871"><span class="ln">3871 </span></a>    <span class="s5">/**</span>
<a name="l3872"><span class="ln">3872 </span></a>     <span class="s5">* Key ring name</span>
<a name="l3873"><span class="ln">3873 </span></a>     <span class="s5">*/</span>
<a name="l3874"><span class="ln">3874 </span></a>    <span class="s1">keyRing</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3875"><span class="ln">3875 </span></a>    <span class="s5">/**</span>
<a name="l3876"><span class="ln">3876 </span></a>     <span class="s5">* Key name</span>
<a name="l3877"><span class="ln">3877 </span></a>     <span class="s5">*/</span>
<a name="l3878"><span class="ln">3878 </span></a>    <span class="s1">keyName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3879"><span class="ln">3879 </span></a>    <span class="s5">/**</span>
<a name="l3880"><span class="ln">3880 </span></a>     <span class="s5">* Key version</span>
<a name="l3881"><span class="ln">3881 </span></a>     <span class="s5">*/</span>
<a name="l3882"><span class="ln">3882 </span></a>    <span class="s1">keyVersion</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l3883"><span class="ln">3883 </span></a>    <span class="s5">/**</span>
<a name="l3884"><span class="ln">3884 </span></a>     <span class="s5">* KMS URL, defaults to `https://www.googleapis.com/auth/cloudkms`</span>
<a name="l3885"><span class="ln">3885 </span></a>     <span class="s5">*/</span>
<a name="l3886"><span class="ln">3886 </span></a>    <span class="s1">endpoint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l3887"><span class="ln">3887 </span></a><span class="s3">}</span>
<a name="l3888"><span class="ln">3888 </span></a>
<a name="l3889"><span class="ln">3889 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3890"><span class="ln">3890 </span></a><span class="s2">export </span><span class="s1">declare type GenericListener </span><span class="s3">= (</span><span class="s1">...args</span><span class="s3">: </span><span class="s1">any</span><span class="s3">[]) =&gt; </span><span class="s2">void</span><span class="s3">;</span>
<a name="l3891"><span class="ln">3891 </span></a>
<a name="l3892"><span class="ln">3892 </span></a><span class="s5">/**</span>
<a name="l3893"><span class="ln">3893 </span></a> <span class="s5">* Constructor for a streaming GridFS interface</span>
<a name="l3894"><span class="ln">3894 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3895"><span class="ln">3895 </span></a> <span class="s5">*/</span>
<a name="l3896"><span class="ln">3896 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">GridFSBucket </span><span class="s2">extends </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;</span><span class="s1">GridFSBucketEvents</span><span class="s3">&gt; {</span>
<a name="l3897"><span class="ln">3897 </span></a>    <span class="s0">/* Excluded from this release type: s */</span>
<a name="l3898"><span class="ln">3898 </span></a>    <span class="s5">/**</span>
<a name="l3899"><span class="ln">3899 </span></a>     <span class="s5">* When the first call to openUploadStream is made, the upload stream will</span>
<a name="l3900"><span class="ln">3900 </span></a>     <span class="s5">* check to see if it needs to create the proper indexes on the chunks and</span>
<a name="l3901"><span class="ln">3901 </span></a>     <span class="s5">* files collections. This event is fired either when 1) it determines that</span>
<a name="l3902"><span class="ln">3902 </span></a>     <span class="s5">* no index creation is necessary, 2) when it successfully creates the</span>
<a name="l3903"><span class="ln">3903 </span></a>     <span class="s5">* necessary indexes.</span>
<a name="l3904"><span class="ln">3904 </span></a>     <span class="s5">* </span><span class="s6">@event</span>
<a name="l3905"><span class="ln">3905 </span></a>     <span class="s5">*/</span>
<a name="l3906"><span class="ln">3906 </span></a>    <span class="s2">static </span><span class="s1">readonly INDEX</span><span class="s3">: </span><span class="s4">&quot;index&quot;</span><span class="s3">;</span>
<a name="l3907"><span class="ln">3907 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">db</span><span class="s3">: </span><span class="s1">Db</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">GridFSBucketOptions</span><span class="s3">);</span>
<a name="l3908"><span class="ln">3908 </span></a>    <span class="s5">/**</span>
<a name="l3909"><span class="ln">3909 </span></a>     <span class="s5">* Returns a writable stream (GridFSBucketWriteStream) for writing</span>
<a name="l3910"><span class="ln">3910 </span></a>     <span class="s5">* buffers to GridFS. The stream's 'id' property contains the resulting</span>
<a name="l3911"><span class="ln">3911 </span></a>     <span class="s5">* file's id.</span>
<a name="l3912"><span class="ln">3912 </span></a>     <span class="s5">*</span>
<a name="l3913"><span class="ln">3913 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filename - The value of the 'filename' key in the files doc</span>
<a name="l3914"><span class="ln">3914 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings.</span>
<a name="l3915"><span class="ln">3915 </span></a>     <span class="s5">*/</span>
<a name="l3916"><span class="ln">3916 </span></a>    <span class="s1">openUploadStream</span><span class="s3">(</span><span class="s1">filename</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">GridFSBucketWriteStreamOptions</span><span class="s3">): </span><span class="s1">GridFSBucketWriteStream</span><span class="s3">;</span>
<a name="l3917"><span class="ln">3917 </span></a>    <span class="s5">/**</span>
<a name="l3918"><span class="ln">3918 </span></a>     <span class="s5">* Returns a writable stream (GridFSBucketWriteStream) for writing</span>
<a name="l3919"><span class="ln">3919 </span></a>     <span class="s5">* buffers to GridFS for a custom file id. The stream's 'id' property contains the resulting</span>
<a name="l3920"><span class="ln">3920 </span></a>     <span class="s5">* file's id.</span>
<a name="l3921"><span class="ln">3921 </span></a>     <span class="s5">*/</span>
<a name="l3922"><span class="ln">3922 </span></a>    <span class="s1">openUploadStreamWithId</span><span class="s3">(</span><span class="s1">id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">, </span><span class="s1">filename</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">GridFSBucketWriteStreamOptions</span><span class="s3">): </span><span class="s1">GridFSBucketWriteStream</span><span class="s3">;</span>
<a name="l3923"><span class="ln">3923 </span></a>    <span class="s5">/** Returns a readable stream (GridFSBucketReadStream) for streaming file data from GridFS. */</span>
<a name="l3924"><span class="ln">3924 </span></a>    <span class="s1">openDownloadStream</span><span class="s3">(</span><span class="s1">id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">GridFSBucketReadStreamOptions</span><span class="s3">): </span><span class="s1">GridFSBucketReadStream</span><span class="s3">;</span>
<a name="l3925"><span class="ln">3925 </span></a>    <span class="s5">/**</span>
<a name="l3926"><span class="ln">3926 </span></a>     <span class="s5">* Deletes a file with the given id</span>
<a name="l3927"><span class="ln">3927 </span></a>     <span class="s5">*</span>
<a name="l3928"><span class="ln">3928 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">id - The id of the file doc</span>
<a name="l3929"><span class="ln">3929 </span></a>     <span class="s5">*/</span>
<a name="l3930"><span class="ln">3930 </span></a>    <span class="s2">delete</span><span class="s3">(</span><span class="s1">id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l3931"><span class="ln">3931 </span></a>    <span class="s5">/** Convenience wrapper around find on the files collection */</span>
<a name="l3932"><span class="ln">3932 </span></a>    <span class="s1">find</span><span class="s3">(</span><span class="s1">filter</span><span class="s3">?: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">GridFSFile</span><span class="s3">&gt;, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">FindOptions</span><span class="s3">): </span><span class="s1">FindCursor</span><span class="s3">&lt;</span><span class="s1">GridFSFile</span><span class="s3">&gt;;</span>
<a name="l3933"><span class="ln">3933 </span></a>    <span class="s5">/**</span>
<a name="l3934"><span class="ln">3934 </span></a>     <span class="s5">* Returns a readable stream (GridFSBucketReadStream) for streaming the</span>
<a name="l3935"><span class="ln">3935 </span></a>     <span class="s5">* file with the given name from GridFS. If there are multiple files with</span>
<a name="l3936"><span class="ln">3936 </span></a>     <span class="s5">* the same name, this will stream the most recent file with the given name</span>
<a name="l3937"><span class="ln">3937 </span></a>     <span class="s5">* (as determined by the `uploadDate` field). You can set the `revision`</span>
<a name="l3938"><span class="ln">3938 </span></a>     <span class="s5">* option to change this behavior.</span>
<a name="l3939"><span class="ln">3939 </span></a>     <span class="s5">*/</span>
<a name="l3940"><span class="ln">3940 </span></a>    <span class="s1">openDownloadStreamByName</span><span class="s3">(</span><span class="s1">filename</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">GridFSBucketReadStreamOptionsWithRevision</span><span class="s3">): </span><span class="s1">GridFSBucketReadStream</span><span class="s3">;</span>
<a name="l3941"><span class="ln">3941 </span></a>    <span class="s5">/**</span>
<a name="l3942"><span class="ln">3942 </span></a>     <span class="s5">* Renames the file with the given _id to the given string</span>
<a name="l3943"><span class="ln">3943 </span></a>     <span class="s5">*</span>
<a name="l3944"><span class="ln">3944 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">id - the id of the file to rename</span>
<a name="l3945"><span class="ln">3945 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">filename - new name for the file</span>
<a name="l3946"><span class="ln">3946 </span></a>     <span class="s5">*/</span>
<a name="l3947"><span class="ln">3947 </span></a>    <span class="s1">rename</span><span class="s3">(</span><span class="s1">id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">, </span><span class="s1">filename</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l3948"><span class="ln">3948 </span></a>    <span class="s5">/** Removes this bucket's files collection, followed by its chunks collection. */</span>
<a name="l3949"><span class="ln">3949 </span></a>    <span class="s1">drop</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l3950"><span class="ln">3950 </span></a><span class="s3">}</span>
<a name="l3951"><span class="ln">3951 </span></a>
<a name="l3952"><span class="ln">3952 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3953"><span class="ln">3953 </span></a><span class="s2">export </span><span class="s1">declare type GridFSBucketEvents </span><span class="s3">= {</span>
<a name="l3954"><span class="ln">3954 </span></a>    <span class="s1">index</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l3955"><span class="ln">3955 </span></a><span class="s3">};</span>
<a name="l3956"><span class="ln">3956 </span></a>
<a name="l3957"><span class="ln">3957 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l3958"><span class="ln">3958 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">GridFSBucketOptions </span><span class="s2">extends </span><span class="s1">WriteConcernOptions </span><span class="s3">{</span>
<a name="l3959"><span class="ln">3959 </span></a>    <span class="s5">/** The 'files' and 'chunks' collections will be prefixed with the bucket name followed by a dot. */</span>
<a name="l3960"><span class="ln">3960 </span></a>    <span class="s1">bucketName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l3961"><span class="ln">3961 </span></a>    <span class="s5">/** Number of bytes stored in each chunk. Defaults to 255KB */</span>
<a name="l3962"><span class="ln">3962 </span></a>    <span class="s1">chunkSizeBytes</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l3963"><span class="ln">3963 </span></a>    <span class="s5">/** Read preference to be passed to read operations */</span>
<a name="l3964"><span class="ln">3964 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l3965"><span class="ln">3965 </span></a><span class="s3">}</span>
<a name="l3966"><span class="ln">3966 </span></a>
<a name="l3967"><span class="ln">3967 </span></a><span class="s0">/* Excluded from this release type: GridFSBucketPrivate */</span>
<a name="l3968"><span class="ln">3968 </span></a>
<a name="l3969"><span class="ln">3969 </span></a><span class="s5">/**</span>
<a name="l3970"><span class="ln">3970 </span></a> <span class="s5">* A readable stream that enables you to read buffers from GridFS.</span>
<a name="l3971"><span class="ln">3971 </span></a> <span class="s5">*</span>
<a name="l3972"><span class="ln">3972 </span></a> <span class="s5">* Do not instantiate this class directly. Use `openDownloadStream()` instead.</span>
<a name="l3973"><span class="ln">3973 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l3974"><span class="ln">3974 </span></a> <span class="s5">*/</span>
<a name="l3975"><span class="ln">3975 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">GridFSBucketReadStream </span><span class="s2">extends </span><span class="s1">Readable </span><span class="s3">{</span>
<a name="l3976"><span class="ln">3976 </span></a>    <span class="s0">/* Excluded from this release type: s */</span>
<a name="l3977"><span class="ln">3977 </span></a>    <span class="s5">/**</span>
<a name="l3978"><span class="ln">3978 </span></a>     <span class="s5">* Fires when the stream loaded the file document corresponding to the provided id.</span>
<a name="l3979"><span class="ln">3979 </span></a>     <span class="s5">* </span><span class="s6">@event</span>
<a name="l3980"><span class="ln">3980 </span></a>     <span class="s5">*/</span>
<a name="l3981"><span class="ln">3981 </span></a>    <span class="s2">static </span><span class="s1">readonly FILE</span><span class="s3">: </span><span class="s4">&quot;file&quot;</span><span class="s3">;</span>
<a name="l3982"><span class="ln">3982 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l3983"><span class="ln">3983 </span></a>    <span class="s0">/* Excluded from this release type: _read */</span>
<a name="l3984"><span class="ln">3984 </span></a>    <span class="s5">/**</span>
<a name="l3985"><span class="ln">3985 </span></a>     <span class="s5">* Sets the 0-based offset in bytes to start streaming from. Throws</span>
<a name="l3986"><span class="ln">3986 </span></a>     <span class="s5">* an error if this stream has entered flowing mode</span>
<a name="l3987"><span class="ln">3987 </span></a>     <span class="s5">* (e.g. if you've already called `on('data')`)</span>
<a name="l3988"><span class="ln">3988 </span></a>     <span class="s5">*</span>
<a name="l3989"><span class="ln">3989 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">start - 0-based offset in bytes to start streaming from</span>
<a name="l3990"><span class="ln">3990 </span></a>     <span class="s5">*/</span>
<a name="l3991"><span class="ln">3991 </span></a>    <span class="s1">start</span><span class="s3">(</span><span class="s1">start</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l3992"><span class="ln">3992 </span></a>    <span class="s5">/**</span>
<a name="l3993"><span class="ln">3993 </span></a>     <span class="s5">* Sets the 0-based offset in bytes to start streaming from. Throws</span>
<a name="l3994"><span class="ln">3994 </span></a>     <span class="s5">* an error if this stream has entered flowing mode</span>
<a name="l3995"><span class="ln">3995 </span></a>     <span class="s5">* (e.g. if you've already called `on('data')`)</span>
<a name="l3996"><span class="ln">3996 </span></a>     <span class="s5">*</span>
<a name="l3997"><span class="ln">3997 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">end - Offset in bytes to stop reading at</span>
<a name="l3998"><span class="ln">3998 </span></a>     <span class="s5">*/</span>
<a name="l3999"><span class="ln">3999 </span></a>    <span class="s1">end</span><span class="s3">(</span><span class="s1">end</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l4000"><span class="ln">4000 </span></a>    <span class="s5">/**</span>
<a name="l4001"><span class="ln">4001 </span></a>     <span class="s5">* Marks this stream as aborted (will never push another `data` event)</span>
<a name="l4002"><span class="ln">4002 </span></a>     <span class="s5">* and kills the underlying cursor. Will emit the 'end' event, and then</span>
<a name="l4003"><span class="ln">4003 </span></a>     <span class="s5">* the 'close' event once the cursor is successfully killed.</span>
<a name="l4004"><span class="ln">4004 </span></a>     <span class="s5">*/</span>
<a name="l4005"><span class="ln">4005 </span></a>    <span class="s1">abort</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l4006"><span class="ln">4006 </span></a><span class="s3">}</span>
<a name="l4007"><span class="ln">4007 </span></a>
<a name="l4008"><span class="ln">4008 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4009"><span class="ln">4009 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">GridFSBucketReadStreamOptions </span><span class="s3">{</span>
<a name="l4010"><span class="ln">4010 </span></a>    <span class="s1">sort</span><span class="s3">?: </span><span class="s1">Sort</span><span class="s3">;</span>
<a name="l4011"><span class="ln">4011 </span></a>    <span class="s1">skip</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4012"><span class="ln">4012 </span></a>    <span class="s5">/**</span>
<a name="l4013"><span class="ln">4013 </span></a>     <span class="s5">* 0-indexed non-negative byte offset from the beginning of the file</span>
<a name="l4014"><span class="ln">4014 </span></a>     <span class="s5">*/</span>
<a name="l4015"><span class="ln">4015 </span></a>    <span class="s1">start</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4016"><span class="ln">4016 </span></a>    <span class="s5">/**</span>
<a name="l4017"><span class="ln">4017 </span></a>     <span class="s5">* 0-indexed non-negative byte offset to the end of the file contents</span>
<a name="l4018"><span class="ln">4018 </span></a>     <span class="s5">* to be returned by the stream. `end` is non-inclusive</span>
<a name="l4019"><span class="ln">4019 </span></a>     <span class="s5">*/</span>
<a name="l4020"><span class="ln">4020 </span></a>    <span class="s1">end</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4021"><span class="ln">4021 </span></a><span class="s3">}</span>
<a name="l4022"><span class="ln">4022 </span></a>
<a name="l4023"><span class="ln">4023 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4024"><span class="ln">4024 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">GridFSBucketReadStreamOptionsWithRevision </span><span class="s2">extends </span><span class="s1">GridFSBucketReadStreamOptions </span><span class="s3">{</span>
<a name="l4025"><span class="ln">4025 </span></a>    <span class="s5">/** The revision number relative to the oldest file with the given filename. 0</span>
<a name="l4026"><span class="ln">4026 </span></a>     <span class="s5">* gets you the oldest file, 1 gets you the 2nd oldest, -1 gets you the</span>
<a name="l4027"><span class="ln">4027 </span></a>     <span class="s5">* newest. */</span>
<a name="l4028"><span class="ln">4028 </span></a>    <span class="s1">revision</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4029"><span class="ln">4029 </span></a><span class="s3">}</span>
<a name="l4030"><span class="ln">4030 </span></a>
<a name="l4031"><span class="ln">4031 </span></a><span class="s0">/* Excluded from this release type: GridFSBucketReadStreamPrivate */</span>
<a name="l4032"><span class="ln">4032 </span></a>
<a name="l4033"><span class="ln">4033 </span></a><span class="s5">/**</span>
<a name="l4034"><span class="ln">4034 </span></a> <span class="s5">* A writable stream that enables you to write buffers to GridFS.</span>
<a name="l4035"><span class="ln">4035 </span></a> <span class="s5">*</span>
<a name="l4036"><span class="ln">4036 </span></a> <span class="s5">* Do not instantiate this class directly. Use `openUploadStream()` instead.</span>
<a name="l4037"><span class="ln">4037 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4038"><span class="ln">4038 </span></a> <span class="s5">*/</span>
<a name="l4039"><span class="ln">4039 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">GridFSBucketWriteStream </span><span class="s2">extends </span><span class="s1">Writable </span><span class="s3">{</span>
<a name="l4040"><span class="ln">4040 </span></a>    <span class="s1">bucket</span><span class="s3">: </span><span class="s1">GridFSBucket</span><span class="s3">;</span>
<a name="l4041"><span class="ln">4041 </span></a>    <span class="s5">/** A Collection instance where the file's chunks are stored */</span>
<a name="l4042"><span class="ln">4042 </span></a>    <span class="s1">chunks</span><span class="s3">: </span><span class="s1">Collection</span><span class="s3">&lt;</span><span class="s1">GridFSChunk</span><span class="s3">&gt;;</span>
<a name="l4043"><span class="ln">4043 </span></a>    <span class="s5">/** A Collection instance where the file's GridFSFile document is stored */</span>
<a name="l4044"><span class="ln">4044 </span></a>    <span class="s1">files</span><span class="s3">: </span><span class="s1">Collection</span><span class="s3">&lt;</span><span class="s1">GridFSFile</span><span class="s3">&gt;;</span>
<a name="l4045"><span class="ln">4045 </span></a>    <span class="s5">/** The name of the file */</span>
<a name="l4046"><span class="ln">4046 </span></a>    <span class="s1">filename</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4047"><span class="ln">4047 </span></a>    <span class="s5">/** Options controlling the metadata inserted along with the file */</span>
<a name="l4048"><span class="ln">4048 </span></a>    <span class="s1">options</span><span class="s3">: </span><span class="s1">GridFSBucketWriteStreamOptions</span><span class="s3">;</span>
<a name="l4049"><span class="ln">4049 </span></a>    <span class="s5">/** Indicates the stream is finished uploading */</span>
<a name="l4050"><span class="ln">4050 </span></a>    <span class="s1">done</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4051"><span class="ln">4051 </span></a>    <span class="s5">/** The ObjectId used for the `_id` field on the GridFSFile document */</span>
<a name="l4052"><span class="ln">4052 </span></a>    <span class="s1">id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l4053"><span class="ln">4053 </span></a>    <span class="s5">/** The number of bytes that each chunk will be limited to */</span>
<a name="l4054"><span class="ln">4054 </span></a>    <span class="s1">chunkSizeBytes</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4055"><span class="ln">4055 </span></a>    <span class="s5">/** Space used to store a chunk currently being inserted */</span>
<a name="l4056"><span class="ln">4056 </span></a>    <span class="s1">bufToStore</span><span class="s3">: </span><span class="s1">Buffer</span><span class="s3">;</span>
<a name="l4057"><span class="ln">4057 </span></a>    <span class="s5">/** Accumulates the number of bytes inserted as the stream uploads chunks */</span>
<a name="l4058"><span class="ln">4058 </span></a>    <span class="s1">length</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4059"><span class="ln">4059 </span></a>    <span class="s5">/** Accumulates the number of chunks inserted as the stream uploads file contents */</span>
<a name="l4060"><span class="ln">4060 </span></a>    <span class="s1">n</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4061"><span class="ln">4061 </span></a>    <span class="s5">/** Tracks the current offset into the buffered bytes being uploaded */</span>
<a name="l4062"><span class="ln">4062 </span></a>    <span class="s1">pos</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4063"><span class="ln">4063 </span></a>    <span class="s5">/** Contains a number of properties indicating the current state of the stream */</span>
<a name="l4064"><span class="ln">4064 </span></a>    <span class="s1">state</span><span class="s3">: {</span>
<a name="l4065"><span class="ln">4065 </span></a>        <span class="s5">/** If set the stream has ended */</span>
<a name="l4066"><span class="ln">4066 </span></a>        <span class="s1">streamEnd</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4067"><span class="ln">4067 </span></a>        <span class="s5">/** Indicates the number of chunks that still need to be inserted to exhaust the current buffered data */</span>
<a name="l4068"><span class="ln">4068 </span></a>        <span class="s1">outstandingRequests</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4069"><span class="ln">4069 </span></a>        <span class="s5">/** If set an error occurred during insertion */</span>
<a name="l4070"><span class="ln">4070 </span></a>        <span class="s1">errored</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4071"><span class="ln">4071 </span></a>        <span class="s5">/** If set the stream was intentionally aborted */</span>
<a name="l4072"><span class="ln">4072 </span></a>        <span class="s1">aborted</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4073"><span class="ln">4073 </span></a>    <span class="s3">};</span>
<a name="l4074"><span class="ln">4074 </span></a>    <span class="s5">/** The write concern setting to be used with every insert operation */</span>
<a name="l4075"><span class="ln">4075 </span></a>    <span class="s1">writeConcern</span><span class="s3">?: </span><span class="s1">WriteConcern</span><span class="s3">;</span>
<a name="l4076"><span class="ln">4076 </span></a>    <span class="s5">/**</span>
<a name="l4077"><span class="ln">4077 </span></a>     <span class="s5">* The document containing information about the inserted file.</span>
<a name="l4078"><span class="ln">4078 </span></a>     <span class="s5">* This property is defined _after_ the finish event has been emitted.</span>
<a name="l4079"><span class="ln">4079 </span></a>     <span class="s5">* It will remain `null` if an error occurs.</span>
<a name="l4080"><span class="ln">4080 </span></a>     <span class="s5">*</span>
<a name="l4081"><span class="ln">4081 </span></a>     <span class="s5">* </span><span class="s6">@example</span>
<a name="l4082"><span class="ln">4082 </span></a>     <span class="s5">* ```ts</span>
<a name="l4083"><span class="ln">4083 </span></a>     <span class="s5">* fs.createReadStream('file.txt')</span>
<a name="l4084"><span class="ln">4084 </span></a>     <span class="s5">*   .pipe(bucket.openUploadStream('file.txt'))</span>
<a name="l4085"><span class="ln">4085 </span></a>     <span class="s5">*   .on('finish', function () {</span>
<a name="l4086"><span class="ln">4086 </span></a>     <span class="s5">*     console.log(this.gridFSFile)</span>
<a name="l4087"><span class="ln">4087 </span></a>     <span class="s5">*   })</span>
<a name="l4088"><span class="ln">4088 </span></a>     <span class="s5">* ```</span>
<a name="l4089"><span class="ln">4089 </span></a>     <span class="s5">*/</span>
<a name="l4090"><span class="ln">4090 </span></a>    <span class="s1">gridFSFile</span><span class="s3">: </span><span class="s1">GridFSFile </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l4091"><span class="ln">4091 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l4092"><span class="ln">4092 </span></a>    <span class="s0">/* Excluded from this release type: _construct */</span>
<a name="l4093"><span class="ln">4093 </span></a>    <span class="s0">/* Excluded from this release type: _write */</span>
<a name="l4094"><span class="ln">4094 </span></a>    <span class="s0">/* Excluded from this release type: _final */</span>
<a name="l4095"><span class="ln">4095 </span></a>    <span class="s5">/**</span>
<a name="l4096"><span class="ln">4096 </span></a>     <span class="s5">* Places this write stream into an aborted state (all future writes fail)</span>
<a name="l4097"><span class="ln">4097 </span></a>     <span class="s5">* and deletes all chunks that have already been written.</span>
<a name="l4098"><span class="ln">4098 </span></a>     <span class="s5">*/</span>
<a name="l4099"><span class="ln">4099 </span></a>    <span class="s1">abort</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l4100"><span class="ln">4100 </span></a><span class="s3">}</span>
<a name="l4101"><span class="ln">4101 </span></a>
<a name="l4102"><span class="ln">4102 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4103"><span class="ln">4103 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">GridFSBucketWriteStreamOptions </span><span class="s2">extends </span><span class="s1">WriteConcernOptions </span><span class="s3">{</span>
<a name="l4104"><span class="ln">4104 </span></a>    <span class="s5">/** Overwrite this bucket's chunkSizeBytes for this file */</span>
<a name="l4105"><span class="ln">4105 </span></a>    <span class="s1">chunkSizeBytes</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4106"><span class="ln">4106 </span></a>    <span class="s5">/** Custom file id for the GridFS file. */</span>
<a name="l4107"><span class="ln">4107 </span></a>    <span class="s1">id</span><span class="s3">?: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l4108"><span class="ln">4108 </span></a>    <span class="s5">/** Object to store in the file document's `metadata` field */</span>
<a name="l4109"><span class="ln">4109 </span></a>    <span class="s1">metadata</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l4110"><span class="ln">4110 </span></a>    <span class="s5">/**</span>
<a name="l4111"><span class="ln">4111 </span></a>     <span class="s5">* String to store in the file document's `contentType` field.</span>
<a name="l4112"><span class="ln">4112 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Add a contentType field to the metadata document instead.</span>
<a name="l4113"><span class="ln">4113 </span></a>     <span class="s5">*/</span>
<a name="l4114"><span class="ln">4114 </span></a>    <span class="s1">contentType</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4115"><span class="ln">4115 </span></a>    <span class="s5">/**</span>
<a name="l4116"><span class="ln">4116 </span></a>     <span class="s5">* Array of strings to store in the file document's `aliases` field.</span>
<a name="l4117"><span class="ln">4117 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Add an aliases field to the metadata document instead.</span>
<a name="l4118"><span class="ln">4118 </span></a>     <span class="s5">*/</span>
<a name="l4119"><span class="ln">4119 </span></a>    <span class="s1">aliases</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l4120"><span class="ln">4120 </span></a><span class="s3">}</span>
<a name="l4121"><span class="ln">4121 </span></a>
<a name="l4122"><span class="ln">4122 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4123"><span class="ln">4123 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">GridFSChunk </span><span class="s3">{</span>
<a name="l4124"><span class="ln">4124 </span></a>    <span class="s1">_id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l4125"><span class="ln">4125 </span></a>    <span class="s1">files_id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l4126"><span class="ln">4126 </span></a>    <span class="s1">n</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4127"><span class="ln">4127 </span></a>    <span class="s1">data</span><span class="s3">: </span><span class="s1">Buffer </span><span class="s3">| </span><span class="s1">Uint8Array</span><span class="s3">;</span>
<a name="l4128"><span class="ln">4128 </span></a><span class="s3">}</span>
<a name="l4129"><span class="ln">4129 </span></a>
<a name="l4130"><span class="ln">4130 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4131"><span class="ln">4131 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">GridFSFile </span><span class="s3">{</span>
<a name="l4132"><span class="ln">4132 </span></a>    <span class="s1">_id</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l4133"><span class="ln">4133 </span></a>    <span class="s1">length</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4134"><span class="ln">4134 </span></a>    <span class="s1">chunkSize</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4135"><span class="ln">4135 </span></a>    <span class="s1">filename</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4136"><span class="ln">4136 </span></a>    <span class="s1">metadata</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l4137"><span class="ln">4137 </span></a>    <span class="s1">uploadDate</span><span class="s3">: </span><span class="s1">Date</span><span class="s3">;</span>
<a name="l4138"><span class="ln">4138 </span></a>    <span class="s5">/** </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. */</span>
<a name="l4139"><span class="ln">4139 </span></a>    <span class="s1">contentType</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4140"><span class="ln">4140 </span></a>    <span class="s5">/** </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. */</span>
<a name="l4141"><span class="ln">4141 </span></a>    <span class="s1">aliases</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l4142"><span class="ln">4142 </span></a><span class="s3">}</span>
<a name="l4143"><span class="ln">4143 </span></a>
<a name="l4144"><span class="ln">4144 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4145"><span class="ln">4145 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">GSSAPICanonicalizationValue</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l4146"><span class="ln">4146 </span></a>    <span class="s1">readonly on</span><span class="s3">: </span><span class="s2">true</span><span class="s3">;</span>
<a name="l4147"><span class="ln">4147 </span></a>    <span class="s1">readonly off</span><span class="s3">: </span><span class="s2">false</span><span class="s3">;</span>
<a name="l4148"><span class="ln">4148 </span></a>    <span class="s1">readonly none</span><span class="s3">: </span><span class="s4">&quot;none&quot;</span><span class="s3">;</span>
<a name="l4149"><span class="ln">4149 </span></a>    <span class="s1">readonly forward</span><span class="s3">: </span><span class="s4">&quot;forward&quot;</span><span class="s3">;</span>
<a name="l4150"><span class="ln">4150 </span></a>    <span class="s1">readonly forwardAndReverse</span><span class="s3">: </span><span class="s4">&quot;forwardAndReverse&quot;</span><span class="s3">;</span>
<a name="l4151"><span class="ln">4151 </span></a><span class="s3">}&gt;;</span>
<a name="l4152"><span class="ln">4152 </span></a>
<a name="l4153"><span class="ln">4153 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4154"><span class="ln">4154 </span></a><span class="s2">export </span><span class="s1">declare type GSSAPICanonicalizationValue </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">GSSAPICanonicalizationValue</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">GSSAPICanonicalizationValue</span><span class="s3">];</span>
<a name="l4155"><span class="ln">4155 </span></a>
<a name="l4156"><span class="ln">4156 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4157"><span class="ln">4157 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">HedgeOptions </span><span class="s3">{</span>
<a name="l4158"><span class="ln">4158 </span></a>    <span class="s5">/** Explicitly enable or disable hedged reads. */</span>
<a name="l4159"><span class="ln">4159 </span></a>    <span class="s1">enabled</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4160"><span class="ln">4160 </span></a><span class="s3">}</span>
<a name="l4161"><span class="ln">4161 </span></a>
<a name="l4162"><span class="ln">4162 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4163"><span class="ln">4163 </span></a><span class="s2">export </span><span class="s1">declare type Hint </span><span class="s3">= </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l4164"><span class="ln">4164 </span></a>
<a name="l4165"><span class="ln">4165 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4166"><span class="ln">4166 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">HostAddress </span><span class="s3">{</span>
<a name="l4167"><span class="ln">4167 </span></a>    <span class="s1">host</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4168"><span class="ln">4168 </span></a>    <span class="s1">port</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4169"><span class="ln">4169 </span></a>    <span class="s1">socketPath</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4170"><span class="ln">4170 </span></a>    <span class="s1">isIPv6</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4171"><span class="ln">4171 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">hostString</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l4172"><span class="ln">4172 </span></a>    <span class="s1">inspect</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4173"><span class="ln">4173 </span></a>    <span class="s1">toString</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4174"><span class="ln">4174 </span></a>    <span class="s2">static </span><span class="s1">fromString</span><span class="s3">(</span><span class="s2">this</span><span class="s3">: </span><span class="s2">void</span><span class="s3">, </span><span class="s1">s</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">HostAddress</span><span class="s3">;</span>
<a name="l4175"><span class="ln">4175 </span></a>    <span class="s2">static </span><span class="s1">fromHostPort</span><span class="s3">(</span><span class="s1">host</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">port</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s1">HostAddress</span><span class="s3">;</span>
<a name="l4176"><span class="ln">4176 </span></a>    <span class="s2">static </span><span class="s1">fromSrvRecord</span><span class="s3">({ </span><span class="s1">name</span><span class="s3">, </span><span class="s1">port </span><span class="s3">}: </span><span class="s1">SrvRecord</span><span class="s3">): </span><span class="s1">HostAddress</span><span class="s3">;</span>
<a name="l4177"><span class="ln">4177 </span></a>    <span class="s1">toHostPort</span><span class="s3">(): {</span>
<a name="l4178"><span class="ln">4178 </span></a>        <span class="s1">host</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4179"><span class="ln">4179 </span></a>        <span class="s1">port</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4180"><span class="ln">4180 </span></a>    <span class="s3">};</span>
<a name="l4181"><span class="ln">4181 </span></a><span class="s3">}</span>
<a name="l4182"><span class="ln">4182 </span></a>
<a name="l4183"><span class="ln">4183 </span></a><span class="s5">/**</span>
<a name="l4184"><span class="ln">4184 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4185"><span class="ln">4185 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l4186"><span class="ln">4186 </span></a> <span class="s5">*/</span>
<a name="l4187"><span class="ln">4187 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">IdPServerInfo </span><span class="s3">{</span>
<a name="l4188"><span class="ln">4188 </span></a>    <span class="s1">issuer</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4189"><span class="ln">4189 </span></a>    <span class="s1">clientId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4190"><span class="ln">4190 </span></a>    <span class="s1">requestScopes</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l4191"><span class="ln">4191 </span></a><span class="s3">}</span>
<a name="l4192"><span class="ln">4192 </span></a>
<a name="l4193"><span class="ln">4193 </span></a><span class="s5">/**</span>
<a name="l4194"><span class="ln">4194 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4195"><span class="ln">4195 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l4196"><span class="ln">4196 </span></a> <span class="s5">*/</span>
<a name="l4197"><span class="ln">4197 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">IdPServerResponse </span><span class="s3">{</span>
<a name="l4198"><span class="ln">4198 </span></a>    <span class="s1">accessToken</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4199"><span class="ln">4199 </span></a>    <span class="s1">expiresInSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4200"><span class="ln">4200 </span></a>    <span class="s1">refreshToken</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4201"><span class="ln">4201 </span></a><span class="s3">}</span>
<a name="l4202"><span class="ln">4202 </span></a>
<a name="l4203"><span class="ln">4203 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4204"><span class="ln">4204 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">IndexDescription </span><span class="s2">extends </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">CreateIndexesOptions</span><span class="s3">, </span><span class="s4">'background' </span><span class="s3">| </span><span class="s4">'unique' </span><span class="s3">| </span><span class="s4">'partialFilterExpression' </span><span class="s3">| </span><span class="s4">'sparse' </span><span class="s3">| </span><span class="s4">'hidden' </span><span class="s3">| </span><span class="s4">'expireAfterSeconds' </span><span class="s3">| </span><span class="s4">'storageEngine' </span><span class="s3">| </span><span class="s4">'version' </span><span class="s3">| </span><span class="s4">'weights' </span><span class="s3">| </span><span class="s4">'default_language' </span><span class="s3">| </span><span class="s4">'language_override' </span><span class="s3">| </span><span class="s4">'textIndexVersion' </span><span class="s3">| </span><span class="s4">'2dsphereIndexVersion' </span><span class="s3">| </span><span class="s4">'bits' </span><span class="s3">| </span><span class="s4">'min' </span><span class="s3">| </span><span class="s4">'max' </span><span class="s3">| </span><span class="s4">'bucketSize' </span><span class="s3">| </span><span class="s4">'wildcardProjection'</span><span class="s3">&gt; {</span>
<a name="l4205"><span class="ln">4205 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l4206"><span class="ln">4206 </span></a>    <span class="s1">name</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4207"><span class="ln">4207 </span></a>    <span class="s1">key</span><span class="s3">: {</span>
<a name="l4208"><span class="ln">4208 </span></a>        <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">IndexDirection</span><span class="s3">;</span>
<a name="l4209"><span class="ln">4209 </span></a>    <span class="s3">} | </span><span class="s1">Map</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">IndexDirection</span><span class="s3">&gt;;</span>
<a name="l4210"><span class="ln">4210 </span></a><span class="s3">}</span>
<a name="l4211"><span class="ln">4211 </span></a>
<a name="l4212"><span class="ln">4212 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4213"><span class="ln">4213 </span></a><span class="s2">export </span><span class="s1">declare type IndexDirection </span><span class="s3">= -</span><span class="s7">1 </span><span class="s3">| </span><span class="s7">1 </span><span class="s3">| </span><span class="s4">'2d' </span><span class="s3">| </span><span class="s4">'2dsphere' </span><span class="s3">| </span><span class="s4">'text' </span><span class="s3">| </span><span class="s4">'geoHaystack' </span><span class="s3">| </span><span class="s4">'hashed' </span><span class="s3">| </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4214"><span class="ln">4214 </span></a>
<a name="l4215"><span class="ln">4215 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4216"><span class="ln">4216 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">IndexInformationOptions </span><span class="s3">{</span>
<a name="l4217"><span class="ln">4217 </span></a>    <span class="s1">full</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4218"><span class="ln">4218 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l4219"><span class="ln">4219 </span></a>    <span class="s1">session</span><span class="s3">?: </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l4220"><span class="ln">4220 </span></a><span class="s3">}</span>
<a name="l4221"><span class="ln">4221 </span></a>
<a name="l4222"><span class="ln">4222 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4223"><span class="ln">4223 </span></a><span class="s2">export </span><span class="s1">declare type IndexSpecification </span><span class="s3">= </span><span class="s1">OneOrMore</span><span class="s3">&lt;</span><span class="s1">string </span><span class="s3">| [</span><span class="s1">string</span><span class="s3">, </span><span class="s1">IndexDirection</span><span class="s3">] | {</span>
<a name="l4224"><span class="ln">4224 </span></a>    <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">IndexDirection</span><span class="s3">;</span>
<a name="l4225"><span class="ln">4225 </span></a><span class="s3">} | </span><span class="s1">Map</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">IndexDirection</span><span class="s3">&gt;&gt;;</span>
<a name="l4226"><span class="ln">4226 </span></a>
<a name="l4227"><span class="ln">4227 </span></a><span class="s5">/** Given an object shaped type, return the type of the _id field or default to ObjectId @public */</span>
<a name="l4228"><span class="ln">4228 </span></a><span class="s2">export </span><span class="s1">declare type InferIdType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s3">{</span>
<a name="l4229"><span class="ln">4229 </span></a>    <span class="s1">_id</span><span class="s3">: </span><span class="s1">infer IdType</span><span class="s3">;</span>
<a name="l4230"><span class="ln">4230 </span></a><span class="s3">} ? </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">IdType </span><span class="s3">? </span><span class="s1">never </span><span class="s3">: </span><span class="s1">IdType </span><span class="s3">: </span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s3">{</span>
<a name="l4231"><span class="ln">4231 </span></a>    <span class="s1">_id</span><span class="s3">?: </span><span class="s1">infer IdType</span><span class="s3">;</span>
<a name="l4232"><span class="ln">4232 </span></a><span class="s3">} ? </span><span class="s1">unknown </span><span class="s2">extends </span><span class="s1">IdType </span><span class="s3">? </span><span class="s1">ObjectId </span><span class="s3">: </span><span class="s1">IdType </span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l4233"><span class="ln">4233 </span></a>
<a name="l4234"><span class="ln">4234 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4235"><span class="ln">4235 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">InsertManyResult</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l4236"><span class="ln">4236 </span></a>    <span class="s5">/** Indicates whether this write result was acknowledged. If not, then all other members of this result will be undefined */</span>
<a name="l4237"><span class="ln">4237 </span></a>    <span class="s1">acknowledged</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4238"><span class="ln">4238 </span></a>    <span class="s5">/** The number of inserted documents for this operations */</span>
<a name="l4239"><span class="ln">4239 </span></a>    <span class="s1">insertedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4240"><span class="ln">4240 </span></a>    <span class="s5">/** Map of the index of the inserted document to the id of the inserted document */</span>
<a name="l4241"><span class="ln">4241 </span></a>    <span class="s1">insertedIds</span><span class="s3">: {</span>
<a name="l4242"><span class="ln">4242 </span></a>        <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">number</span><span class="s3">]: </span><span class="s1">InferIdType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l4243"><span class="ln">4243 </span></a>    <span class="s3">};</span>
<a name="l4244"><span class="ln">4244 </span></a><span class="s3">}</span>
<a name="l4245"><span class="ln">4245 </span></a>
<a name="l4246"><span class="ln">4246 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4247"><span class="ln">4247 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">InsertOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l4248"><span class="ln">4248 </span></a>    <span class="s5">/** The document to insert. */</span>
<a name="l4249"><span class="ln">4249 </span></a>    <span class="s1">document</span><span class="s3">: </span><span class="s1">OptionalId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l4250"><span class="ln">4250 </span></a><span class="s3">}</span>
<a name="l4251"><span class="ln">4251 </span></a>
<a name="l4252"><span class="ln">4252 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4253"><span class="ln">4253 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">InsertOneOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l4254"><span class="ln">4254 </span></a>    <span class="s5">/** Allow driver to bypass schema validation. */</span>
<a name="l4255"><span class="ln">4255 </span></a>    <span class="s1">bypassDocumentValidation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4256"><span class="ln">4256 </span></a>    <span class="s5">/** Force server to assign _id values instead of driver. */</span>
<a name="l4257"><span class="ln">4257 </span></a>    <span class="s1">forceServerObjectId</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4258"><span class="ln">4258 </span></a><span class="s3">}</span>
<a name="l4259"><span class="ln">4259 </span></a>
<a name="l4260"><span class="ln">4260 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4261"><span class="ln">4261 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">InsertOneResult</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l4262"><span class="ln">4262 </span></a>    <span class="s5">/** Indicates whether this write result was acknowledged. If not, then all other members of this result will be undefined */</span>
<a name="l4263"><span class="ln">4263 </span></a>    <span class="s1">acknowledged</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4264"><span class="ln">4264 </span></a>    <span class="s5">/** The identifier that was inserted. If the server generated the identifier, this value will be null as the driver does not have access to that data */</span>
<a name="l4265"><span class="ln">4265 </span></a>    <span class="s1">insertedId</span><span class="s3">: </span><span class="s1">InferIdType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l4266"><span class="ln">4266 </span></a><span class="s3">}</span>
<a name="l4267"><span class="ln">4267 </span></a>
<a name="l4268"><span class="ln">4268 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Int32 </span><span class="s3">}</span>
<a name="l4269"><span class="ln">4269 </span></a>
<a name="l4270"><span class="ln">4270 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4271"><span class="ln">4271 </span></a><span class="s2">export </span><span class="s1">declare type IntegerType </span><span class="s3">= </span><span class="s1">number </span><span class="s3">| </span><span class="s1">Int32 </span><span class="s3">| </span><span class="s1">Long </span><span class="s3">| </span><span class="s1">bigint</span><span class="s3">;</span>
<a name="l4272"><span class="ln">4272 </span></a>
<a name="l4273"><span class="ln">4273 </span></a><span class="s0">/* Excluded from this release type: InternalAbstractCursorOptions */</span>
<a name="l4274"><span class="ln">4274 </span></a>
<a name="l4275"><span class="ln">4275 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4276"><span class="ln">4276 </span></a><span class="s2">export </span><span class="s1">declare type IsAny</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">, </span><span class="s1">ResultIfAny</span><span class="s3">, </span><span class="s1">ResultIfNotAny</span><span class="s3">&gt; = </span><span class="s2">true extends false </span><span class="s3">&amp; </span><span class="s1">Type </span><span class="s3">? </span><span class="s1">ResultIfAny </span><span class="s3">: </span><span class="s1">ResultIfNotAny</span><span class="s3">;</span>
<a name="l4277"><span class="ln">4277 </span></a>
<a name="l4278"><span class="ln">4278 </span></a><span class="s5">/**</span>
<a name="l4279"><span class="ln">4279 </span></a> <span class="s5">* Helper types for dot-notation filter attributes</span>
<a name="l4280"><span class="ln">4280 </span></a> <span class="s5">*/</span>
<a name="l4281"><span class="ln">4281 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4282"><span class="ln">4282 </span></a><span class="s2">export </span><span class="s1">declare type Join</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">unknown</span><span class="s3">[], </span><span class="s1">D </span><span class="s2">extends </span><span class="s1">string</span><span class="s3">&gt; = </span><span class="s1">T </span><span class="s2">extends </span><span class="s3">[] ? </span><span class="s4">'' </span><span class="s3">: </span><span class="s1">T </span><span class="s2">extends </span><span class="s3">[</span><span class="s1">string </span><span class="s3">| </span><span class="s1">number</span><span class="s3">] ? </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">T</span><span class="s3">[</span><span class="s7">0</span><span class="s3">]}</span><span class="s4">` </span><span class="s3">: </span><span class="s1">T </span><span class="s2">extends </span><span class="s3">[</span><span class="s1">string </span><span class="s3">| </span><span class="s1">number</span><span class="s3">, </span><span class="s1">...infer R</span><span class="s3">] ? </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">T</span><span class="s3">[</span><span class="s7">0</span><span class="s3">]}</span><span class="s1">$</span><span class="s3">{</span><span class="s1">D</span><span class="s3">}</span><span class="s1">$</span><span class="s3">{</span><span class="s1">Join</span><span class="s3">&lt;</span><span class="s1">R</span><span class="s3">, </span><span class="s1">D</span><span class="s3">&gt;}</span><span class="s4">` </span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4283"><span class="ln">4283 </span></a>
<a name="l4284"><span class="ln">4284 </span></a><span class="s0">/* Excluded from this release type: kBeforeHandshake */</span>
<a name="l4285"><span class="ln">4285 </span></a>
<a name="l4286"><span class="ln">4286 </span></a><span class="s0">/* Excluded from this release type: kBuffer */</span>
<a name="l4287"><span class="ln">4287 </span></a>
<a name="l4288"><span class="ln">4288 </span></a><span class="s0">/* Excluded from this release type: kBuiltOptions */</span>
<a name="l4289"><span class="ln">4289 </span></a>
<a name="l4290"><span class="ln">4290 </span></a><span class="s0">/* Excluded from this release type: kCancellationToken */</span>
<a name="l4291"><span class="ln">4291 </span></a>
<a name="l4292"><span class="ln">4292 </span></a><span class="s0">/* Excluded from this release type: kCancellationToken_2 */</span>
<a name="l4293"><span class="ln">4293 </span></a>
<a name="l4294"><span class="ln">4294 </span></a><span class="s0">/* Excluded from this release type: kCancelled */</span>
<a name="l4295"><span class="ln">4295 </span></a>
<a name="l4296"><span class="ln">4296 </span></a><span class="s0">/* Excluded from this release type: kCancelled_2 */</span>
<a name="l4297"><span class="ln">4297 </span></a>
<a name="l4298"><span class="ln">4298 </span></a><span class="s0">/* Excluded from this release type: kCheckedOut */</span>
<a name="l4299"><span class="ln">4299 </span></a>
<a name="l4300"><span class="ln">4300 </span></a><span class="s0">/* Excluded from this release type: kClient */</span>
<a name="l4301"><span class="ln">4301 </span></a>
<a name="l4302"><span class="ln">4302 </span></a><span class="s0">/* Excluded from this release type: kClosed */</span>
<a name="l4303"><span class="ln">4303 </span></a>
<a name="l4304"><span class="ln">4304 </span></a><span class="s0">/* Excluded from this release type: kClosed_2 */</span>
<a name="l4305"><span class="ln">4305 </span></a>
<a name="l4306"><span class="ln">4306 </span></a><span class="s0">/* Excluded from this release type: kClusterTime */</span>
<a name="l4307"><span class="ln">4307 </span></a>
<a name="l4308"><span class="ln">4308 </span></a><span class="s0">/* Excluded from this release type: kConnection */</span>
<a name="l4309"><span class="ln">4309 </span></a>
<a name="l4310"><span class="ln">4310 </span></a><span class="s0">/* Excluded from this release type: kConnectionCounter */</span>
<a name="l4311"><span class="ln">4311 </span></a>
<a name="l4312"><span class="ln">4312 </span></a><span class="s0">/* Excluded from this release type: kConnections */</span>
<a name="l4313"><span class="ln">4313 </span></a>
<a name="l4314"><span class="ln">4314 </span></a><span class="s0">/* Excluded from this release type: kCursorStream */</span>
<a name="l4315"><span class="ln">4315 </span></a>
<a name="l4316"><span class="ln">4316 </span></a><span class="s0">/* Excluded from this release type: kDecorateResult */</span>
<a name="l4317"><span class="ln">4317 </span></a>
<a name="l4318"><span class="ln">4318 </span></a><span class="s0">/* Excluded from this release type: kDelayedTimeoutId */</span>
<a name="l4319"><span class="ln">4319 </span></a>
<a name="l4320"><span class="ln">4320 </span></a><span class="s0">/* Excluded from this release type: kDescription */</span>
<a name="l4321"><span class="ln">4321 </span></a>
<a name="l4322"><span class="ln">4322 </span></a><span class="s0">/* Excluded from this release type: kDocuments */</span>
<a name="l4323"><span class="ln">4323 </span></a>
<a name="l4324"><span class="ln">4324 </span></a><span class="s0">/* Excluded from this release type: kErrorLabels */</span>
<a name="l4325"><span class="ln">4325 </span></a>
<a name="l4326"><span class="ln">4326 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4327"><span class="ln">4327 </span></a><span class="s2">export </span><span class="s1">declare type KeysOfAType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Type</span><span class="s3">&gt; = {</span>
<a name="l4328"><span class="ln">4328 </span></a>    <span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">keyof TSchema</span><span class="s3">]: </span><span class="s1">NonNullable</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt; </span><span class="s2">extends </span><span class="s1">Type </span><span class="s3">? </span><span class="s1">key </span><span class="s3">: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l4329"><span class="ln">4329 </span></a><span class="s3">}[</span><span class="s1">keyof TSchema</span><span class="s3">];</span>
<a name="l4330"><span class="ln">4330 </span></a>
<a name="l4331"><span class="ln">4331 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4332"><span class="ln">4332 </span></a><span class="s2">export </span><span class="s1">declare type KeysOfOtherType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Type</span><span class="s3">&gt; = {</span>
<a name="l4333"><span class="ln">4333 </span></a>    <span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">keyof TSchema</span><span class="s3">]: </span><span class="s1">NonNullable</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt; </span><span class="s2">extends </span><span class="s1">Type </span><span class="s3">? </span><span class="s1">never </span><span class="s3">: </span><span class="s1">key</span><span class="s3">;</span>
<a name="l4334"><span class="ln">4334 </span></a><span class="s3">}[</span><span class="s1">keyof TSchema</span><span class="s3">];</span>
<a name="l4335"><span class="ln">4335 </span></a>
<a name="l4336"><span class="ln">4336 </span></a><span class="s0">/* Excluded from this release type: kFilter */</span>
<a name="l4337"><span class="ln">4337 </span></a>
<a name="l4338"><span class="ln">4338 </span></a><span class="s0">/* Excluded from this release type: kGeneration */</span>
<a name="l4339"><span class="ln">4339 </span></a>
<a name="l4340"><span class="ln">4340 </span></a><span class="s0">/* Excluded from this release type: kGeneration_2 */</span>
<a name="l4341"><span class="ln">4341 </span></a>
<a name="l4342"><span class="ln">4342 </span></a><span class="s0">/* Excluded from this release type: kHello */</span>
<a name="l4343"><span class="ln">4343 </span></a>
<a name="l4344"><span class="ln">4344 </span></a><span class="s0">/* Excluded from this release type: kId */</span>
<a name="l4345"><span class="ln">4345 </span></a>
<a name="l4346"><span class="ln">4346 </span></a><span class="s0">/* Excluded from this release type: kInit */</span>
<a name="l4347"><span class="ln">4347 </span></a>
<a name="l4348"><span class="ln">4348 </span></a><span class="s0">/* Excluded from this release type: kInitialized */</span>
<a name="l4349"><span class="ln">4349 </span></a>
<a name="l4350"><span class="ln">4350 </span></a><span class="s0">/* Excluded from this release type: kInternalClient */</span>
<a name="l4351"><span class="ln">4351 </span></a>
<a name="l4352"><span class="ln">4352 </span></a><span class="s0">/* Excluded from this release type: kKilled */</span>
<a name="l4353"><span class="ln">4353 </span></a>
<a name="l4354"><span class="ln">4354 </span></a><span class="s0">/* Excluded from this release type: kLastUseTime */</span>
<a name="l4355"><span class="ln">4355 </span></a>
<a name="l4356"><span class="ln">4356 </span></a><span class="s0">/* Excluded from this release type: kMessageStream */</span>
<a name="l4357"><span class="ln">4357 </span></a>
<a name="l4358"><span class="ln">4358 </span></a><span class="s0">/* Excluded from this release type: kMetrics */</span>
<a name="l4359"><span class="ln">4359 </span></a>
<a name="l4360"><span class="ln">4360 </span></a><span class="s0">/* Excluded from this release type: kMinPoolSizeTimer */</span>
<a name="l4361"><span class="ln">4361 </span></a>
<a name="l4362"><span class="ln">4362 </span></a><span class="s0">/* Excluded from this release type: kMode */</span>
<a name="l4363"><span class="ln">4363 </span></a>
<a name="l4364"><span class="ln">4364 </span></a><span class="s0">/* Excluded from this release type: kMonitorId */</span>
<a name="l4365"><span class="ln">4365 </span></a>
<a name="l4366"><span class="ln">4366 </span></a><span class="s5">/**</span>
<a name="l4367"><span class="ln">4367 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4368"><span class="ln">4368 </span></a> <span class="s5">* Configuration options that are used by specific KMS providers during key generation, encryption, and decryption.</span>
<a name="l4369"><span class="ln">4369 </span></a> <span class="s5">*/</span>
<a name="l4370"><span class="ln">4370 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">KMSProviders </span><span class="s3">{</span>
<a name="l4371"><span class="ln">4371 </span></a>    <span class="s5">/**</span>
<a name="l4372"><span class="ln">4372 </span></a>     <span class="s5">* Configuration options for using 'aws' as your KMS provider</span>
<a name="l4373"><span class="ln">4373 </span></a>     <span class="s5">*/</span>
<a name="l4374"><span class="ln">4374 </span></a>    <span class="s1">aws</span><span class="s3">?: {</span>
<a name="l4375"><span class="ln">4375 </span></a>        <span class="s5">/**</span>
<a name="l4376"><span class="ln">4376 </span></a>         <span class="s5">* The access key used for the AWS KMS provider</span>
<a name="l4377"><span class="ln">4377 </span></a>         <span class="s5">*/</span>
<a name="l4378"><span class="ln">4378 </span></a>        <span class="s1">accessKeyId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4379"><span class="ln">4379 </span></a>        <span class="s5">/**</span>
<a name="l4380"><span class="ln">4380 </span></a>         <span class="s5">* The secret access key used for the AWS KMS provider</span>
<a name="l4381"><span class="ln">4381 </span></a>         <span class="s5">*/</span>
<a name="l4382"><span class="ln">4382 </span></a>        <span class="s1">secretAccessKey</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4383"><span class="ln">4383 </span></a>        <span class="s5">/**</span>
<a name="l4384"><span class="ln">4384 </span></a>         <span class="s5">* An optional AWS session token that will be used as the</span>
<a name="l4385"><span class="ln">4385 </span></a>         <span class="s5">* X-Amz-Security-Token header for AWS requests.</span>
<a name="l4386"><span class="ln">4386 </span></a>         <span class="s5">*/</span>
<a name="l4387"><span class="ln">4387 </span></a>        <span class="s1">sessionToken</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4388"><span class="ln">4388 </span></a>    <span class="s3">} | </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt;;</span>
<a name="l4389"><span class="ln">4389 </span></a>    <span class="s5">/**</span>
<a name="l4390"><span class="ln">4390 </span></a>     <span class="s5">* Configuration options for using 'local' as your KMS provider</span>
<a name="l4391"><span class="ln">4391 </span></a>     <span class="s5">*/</span>
<a name="l4392"><span class="ln">4392 </span></a>    <span class="s1">local</span><span class="s3">?: {</span>
<a name="l4393"><span class="ln">4393 </span></a>        <span class="s5">/**</span>
<a name="l4394"><span class="ln">4394 </span></a>         <span class="s5">* The master key used to encrypt/decrypt data keys.</span>
<a name="l4395"><span class="ln">4395 </span></a>         <span class="s5">* A 96-byte long Buffer or base64 encoded string.</span>
<a name="l4396"><span class="ln">4396 </span></a>         <span class="s5">*/</span>
<a name="l4397"><span class="ln">4397 </span></a>        <span class="s1">key</span><span class="s3">: </span><span class="s1">Buffer </span><span class="s3">| </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4398"><span class="ln">4398 </span></a>    <span class="s3">};</span>
<a name="l4399"><span class="ln">4399 </span></a>    <span class="s5">/**</span>
<a name="l4400"><span class="ln">4400 </span></a>     <span class="s5">* Configuration options for using 'kmip' as your KMS provider</span>
<a name="l4401"><span class="ln">4401 </span></a>     <span class="s5">*/</span>
<a name="l4402"><span class="ln">4402 </span></a>    <span class="s1">kmip</span><span class="s3">?: {</span>
<a name="l4403"><span class="ln">4403 </span></a>        <span class="s5">/**</span>
<a name="l4404"><span class="ln">4404 </span></a>         <span class="s5">* The output endpoint string.</span>
<a name="l4405"><span class="ln">4405 </span></a>         <span class="s5">* The endpoint consists of a hostname and port separated by a colon.</span>
<a name="l4406"><span class="ln">4406 </span></a>         <span class="s5">* E.g. &quot;example.com:123&quot;. A port is always present.</span>
<a name="l4407"><span class="ln">4407 </span></a>         <span class="s5">*/</span>
<a name="l4408"><span class="ln">4408 </span></a>        <span class="s1">endpoint</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4409"><span class="ln">4409 </span></a>    <span class="s3">};</span>
<a name="l4410"><span class="ln">4410 </span></a>    <span class="s5">/**</span>
<a name="l4411"><span class="ln">4411 </span></a>     <span class="s5">* Configuration options for using 'azure' as your KMS provider</span>
<a name="l4412"><span class="ln">4412 </span></a>     <span class="s5">*/</span>
<a name="l4413"><span class="ln">4413 </span></a>    <span class="s1">azure</span><span class="s3">?: {</span>
<a name="l4414"><span class="ln">4414 </span></a>        <span class="s5">/**</span>
<a name="l4415"><span class="ln">4415 </span></a>         <span class="s5">* The tenant ID identifies the organization for the account</span>
<a name="l4416"><span class="ln">4416 </span></a>         <span class="s5">*/</span>
<a name="l4417"><span class="ln">4417 </span></a>        <span class="s1">tenantId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4418"><span class="ln">4418 </span></a>        <span class="s5">/**</span>
<a name="l4419"><span class="ln">4419 </span></a>         <span class="s5">* The client ID to authenticate a registered application</span>
<a name="l4420"><span class="ln">4420 </span></a>         <span class="s5">*/</span>
<a name="l4421"><span class="ln">4421 </span></a>        <span class="s1">clientId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4422"><span class="ln">4422 </span></a>        <span class="s5">/**</span>
<a name="l4423"><span class="ln">4423 </span></a>         <span class="s5">* The client secret to authenticate a registered application</span>
<a name="l4424"><span class="ln">4424 </span></a>         <span class="s5">*/</span>
<a name="l4425"><span class="ln">4425 </span></a>        <span class="s1">clientSecret</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4426"><span class="ln">4426 </span></a>        <span class="s5">/**</span>
<a name="l4427"><span class="ln">4427 </span></a>         <span class="s5">* If present, a host with optional port. E.g. &quot;example.com&quot; or &quot;example.com:443&quot;.</span>
<a name="l4428"><span class="ln">4428 </span></a>         <span class="s5">* This is optional, and only needed if customer is using a non-commercial Azure instance</span>
<a name="l4429"><span class="ln">4429 </span></a>         <span class="s5">* (e.g. a government or China account, which use different URLs).</span>
<a name="l4430"><span class="ln">4430 </span></a>         <span class="s5">* Defaults to &quot;login.microsoftonline.com&quot;</span>
<a name="l4431"><span class="ln">4431 </span></a>         <span class="s5">*/</span>
<a name="l4432"><span class="ln">4432 </span></a>        <span class="s1">identityPlatformEndpoint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4433"><span class="ln">4433 </span></a>    <span class="s3">} | {</span>
<a name="l4434"><span class="ln">4434 </span></a>        <span class="s5">/**</span>
<a name="l4435"><span class="ln">4435 </span></a>         <span class="s5">* If present, an access token to authenticate with Azure.</span>
<a name="l4436"><span class="ln">4436 </span></a>         <span class="s5">*/</span>
<a name="l4437"><span class="ln">4437 </span></a>        <span class="s1">accessToken</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4438"><span class="ln">4438 </span></a>    <span class="s3">} | </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt;;</span>
<a name="l4439"><span class="ln">4439 </span></a>    <span class="s5">/**</span>
<a name="l4440"><span class="ln">4440 </span></a>     <span class="s5">* Configuration options for using 'gcp' as your KMS provider</span>
<a name="l4441"><span class="ln">4441 </span></a>     <span class="s5">*/</span>
<a name="l4442"><span class="ln">4442 </span></a>    <span class="s1">gcp</span><span class="s3">?: {</span>
<a name="l4443"><span class="ln">4443 </span></a>        <span class="s5">/**</span>
<a name="l4444"><span class="ln">4444 </span></a>         <span class="s5">* The service account email to authenticate</span>
<a name="l4445"><span class="ln">4445 </span></a>         <span class="s5">*/</span>
<a name="l4446"><span class="ln">4446 </span></a>        <span class="s1">email</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4447"><span class="ln">4447 </span></a>        <span class="s5">/**</span>
<a name="l4448"><span class="ln">4448 </span></a>         <span class="s5">* A PKCS#8 encrypted key. This can either be a base64 string or a binary representation</span>
<a name="l4449"><span class="ln">4449 </span></a>         <span class="s5">*/</span>
<a name="l4450"><span class="ln">4450 </span></a>        <span class="s1">privateKey</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Buffer</span><span class="s3">;</span>
<a name="l4451"><span class="ln">4451 </span></a>        <span class="s5">/**</span>
<a name="l4452"><span class="ln">4452 </span></a>         <span class="s5">* If present, a host with optional port. E.g. &quot;example.com&quot; or &quot;example.com:443&quot;.</span>
<a name="l4453"><span class="ln">4453 </span></a>         <span class="s5">* Defaults to &quot;oauth2.googleapis.com&quot;</span>
<a name="l4454"><span class="ln">4454 </span></a>         <span class="s5">*/</span>
<a name="l4455"><span class="ln">4455 </span></a>        <span class="s1">endpoint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4456"><span class="ln">4456 </span></a>    <span class="s3">} | {</span>
<a name="l4457"><span class="ln">4457 </span></a>        <span class="s5">/**</span>
<a name="l4458"><span class="ln">4458 </span></a>         <span class="s5">* If present, an access token to authenticate with GCP.</span>
<a name="l4459"><span class="ln">4459 </span></a>         <span class="s5">*/</span>
<a name="l4460"><span class="ln">4460 </span></a>        <span class="s1">accessToken</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4461"><span class="ln">4461 </span></a>    <span class="s3">} | </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">never</span><span class="s3">&gt;;</span>
<a name="l4462"><span class="ln">4462 </span></a><span class="s3">}</span>
<a name="l4463"><span class="ln">4463 </span></a>
<a name="l4464"><span class="ln">4464 </span></a><span class="s0">/* Excluded from this release type: kNamespace */</span>
<a name="l4465"><span class="ln">4465 </span></a>
<a name="l4466"><span class="ln">4466 </span></a><span class="s0">/* Excluded from this release type: kNumReturned */</span>
<a name="l4467"><span class="ln">4467 </span></a>
<a name="l4468"><span class="ln">4468 </span></a><span class="s0">/* Excluded from this release type: kOptions */</span>
<a name="l4469"><span class="ln">4469 </span></a>
<a name="l4470"><span class="ln">4470 </span></a><span class="s0">/* Excluded from this release type: kOptions_2 */</span>
<a name="l4471"><span class="ln">4471 </span></a>
<a name="l4472"><span class="ln">4472 </span></a><span class="s0">/* Excluded from this release type: kOptions_3 */</span>
<a name="l4473"><span class="ln">4473 </span></a>
<a name="l4474"><span class="ln">4474 </span></a><span class="s0">/* Excluded from this release type: kPending */</span>
<a name="l4475"><span class="ln">4475 </span></a>
<a name="l4476"><span class="ln">4476 </span></a><span class="s0">/* Excluded from this release type: kPinnedConnection */</span>
<a name="l4477"><span class="ln">4477 </span></a>
<a name="l4478"><span class="ln">4478 </span></a><span class="s0">/* Excluded from this release type: kPipeline */</span>
<a name="l4479"><span class="ln">4479 </span></a>
<a name="l4480"><span class="ln">4480 </span></a><span class="s0">/* Excluded from this release type: kPoolState */</span>
<a name="l4481"><span class="ln">4481 </span></a>
<a name="l4482"><span class="ln">4482 </span></a><span class="s0">/* Excluded from this release type: kProcessingWaitQueue */</span>
<a name="l4483"><span class="ln">4483 </span></a>
<a name="l4484"><span class="ln">4484 </span></a><span class="s0">/* Excluded from this release type: kQueue */</span>
<a name="l4485"><span class="ln">4485 </span></a>
<a name="l4486"><span class="ln">4486 </span></a><span class="s0">/* Excluded from this release type: kRoundTripTime */</span>
<a name="l4487"><span class="ln">4487 </span></a>
<a name="l4488"><span class="ln">4488 </span></a><span class="s0">/* Excluded from this release type: kServer */</span>
<a name="l4489"><span class="ln">4489 </span></a>
<a name="l4490"><span class="ln">4490 </span></a><span class="s0">/* Excluded from this release type: kServer_2 */</span>
<a name="l4491"><span class="ln">4491 </span></a>
<a name="l4492"><span class="ln">4492 </span></a><span class="s0">/* Excluded from this release type: kServer_3 */</span>
<a name="l4493"><span class="ln">4493 </span></a>
<a name="l4494"><span class="ln">4494 </span></a><span class="s0">/* Excluded from this release type: kServerError */</span>
<a name="l4495"><span class="ln">4495 </span></a>
<a name="l4496"><span class="ln">4496 </span></a><span class="s0">/* Excluded from this release type: kServerSession */</span>
<a name="l4497"><span class="ln">4497 </span></a>
<a name="l4498"><span class="ln">4498 </span></a><span class="s0">/* Excluded from this release type: kServiceGenerations */</span>
<a name="l4499"><span class="ln">4499 </span></a>
<a name="l4500"><span class="ln">4500 </span></a><span class="s0">/* Excluded from this release type: kSession */</span>
<a name="l4501"><span class="ln">4501 </span></a>
<a name="l4502"><span class="ln">4502 </span></a><span class="s0">/* Excluded from this release type: kSession_2 */</span>
<a name="l4503"><span class="ln">4503 </span></a>
<a name="l4504"><span class="ln">4504 </span></a><span class="s0">/* Excluded from this release type: kSnapshotEnabled */</span>
<a name="l4505"><span class="ln">4505 </span></a>
<a name="l4506"><span class="ln">4506 </span></a><span class="s0">/* Excluded from this release type: kSnapshotTime */</span>
<a name="l4507"><span class="ln">4507 </span></a>
<a name="l4508"><span class="ln">4508 </span></a><span class="s0">/* Excluded from this release type: kStream */</span>
<a name="l4509"><span class="ln">4509 </span></a>
<a name="l4510"><span class="ln">4510 </span></a><span class="s0">/* Excluded from this release type: kTransform */</span>
<a name="l4511"><span class="ln">4511 </span></a>
<a name="l4512"><span class="ln">4512 </span></a><span class="s0">/* Excluded from this release type: kTxnNumberIncrement */</span>
<a name="l4513"><span class="ln">4513 </span></a>
<a name="l4514"><span class="ln">4514 </span></a><span class="s0">/* Excluded from this release type: kWaitQueue */</span>
<a name="l4515"><span class="ln">4515 </span></a>
<a name="l4516"><span class="ln">4516 </span></a><span class="s0">/* Excluded from this release type: kWaitQueue_2 */</span>
<a name="l4517"><span class="ln">4517 </span></a>
<a name="l4518"><span class="ln">4518 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4519"><span class="ln">4519 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">LEGAL_TCP_SOCKET_OPTIONS</span><span class="s3">: </span><span class="s1">readonly </span><span class="s3">[</span><span class="s4">&quot;family&quot;</span><span class="s3">, </span><span class="s4">&quot;hints&quot;</span><span class="s3">, </span><span class="s4">&quot;localAddress&quot;</span><span class="s3">, </span><span class="s4">&quot;localPort&quot;</span><span class="s3">, </span><span class="s4">&quot;lookup&quot;</span><span class="s3">];</span>
<a name="l4520"><span class="ln">4520 </span></a>
<a name="l4521"><span class="ln">4521 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4522"><span class="ln">4522 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">LEGAL_TLS_SOCKET_OPTIONS</span><span class="s3">: </span><span class="s1">readonly </span><span class="s3">[</span><span class="s4">&quot;ALPNProtocols&quot;</span><span class="s3">, </span><span class="s4">&quot;ca&quot;</span><span class="s3">, </span><span class="s4">&quot;cert&quot;</span><span class="s3">, </span><span class="s4">&quot;checkServerIdentity&quot;</span><span class="s3">, </span><span class="s4">&quot;ciphers&quot;</span><span class="s3">, </span><span class="s4">&quot;crl&quot;</span><span class="s3">, </span><span class="s4">&quot;ecdhCurve&quot;</span><span class="s3">, </span><span class="s4">&quot;key&quot;</span><span class="s3">, </span><span class="s4">&quot;minDHSize&quot;</span><span class="s3">, </span><span class="s4">&quot;passphrase&quot;</span><span class="s3">, </span><span class="s4">&quot;pfx&quot;</span><span class="s3">, </span><span class="s4">&quot;rejectUnauthorized&quot;</span><span class="s3">, </span><span class="s4">&quot;secureContext&quot;</span><span class="s3">, </span><span class="s4">&quot;secureProtocol&quot;</span><span class="s3">, </span><span class="s4">&quot;servername&quot;</span><span class="s3">, </span><span class="s4">&quot;session&quot;</span><span class="s3">];</span>
<a name="l4523"><span class="ln">4523 </span></a>
<a name="l4524"><span class="ln">4524 </span></a><span class="s0">/* Excluded from this release type: List */</span>
<a name="l4525"><span class="ln">4525 </span></a>
<a name="l4526"><span class="ln">4526 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4527"><span class="ln">4527 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ListCollectionsCursor</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s2">extends </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">CollectionInfo</span><span class="s3">, </span><span class="s4">'name' </span><span class="s3">| </span><span class="s4">'type'</span><span class="s3">&gt; | </span><span class="s1">CollectionInfo </span><span class="s3">= </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">CollectionInfo</span><span class="s3">, </span><span class="s4">'name' </span><span class="s3">| </span><span class="s4">'type'</span><span class="s3">&gt; | </span><span class="s1">CollectionInfo</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">AbstractCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt; {</span>
<a name="l4528"><span class="ln">4528 </span></a>    <span class="s1">parent</span><span class="s3">: </span><span class="s1">Db</span><span class="s3">;</span>
<a name="l4529"><span class="ln">4529 </span></a>    <span class="s1">filter</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l4530"><span class="ln">4530 </span></a>    <span class="s1">options</span><span class="s3">?: </span><span class="s1">ListCollectionsOptions</span><span class="s3">;</span>
<a name="l4531"><span class="ln">4531 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">db</span><span class="s3">: </span><span class="s1">Db</span><span class="s3">, </span><span class="s1">filter</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListCollectionsOptions</span><span class="s3">);</span>
<a name="l4532"><span class="ln">4532 </span></a>    <span class="s1">clone</span><span class="s3">(): </span><span class="s1">ListCollectionsCursor</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l4533"><span class="ln">4533 </span></a>    <span class="s0">/* Excluded from this release type: _initialize */</span>
<a name="l4534"><span class="ln">4534 </span></a><span class="s3">}</span>
<a name="l4535"><span class="ln">4535 </span></a>
<a name="l4536"><span class="ln">4536 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4537"><span class="ln">4537 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ListCollectionsOptions </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">CommandOperationOptions</span><span class="s3">, </span><span class="s4">'writeConcern'</span><span class="s3">&gt; {</span>
<a name="l4538"><span class="ln">4538 </span></a>    <span class="s5">/** Since 4.0: If true, will only return the collection name in the response, and will omit additional info */</span>
<a name="l4539"><span class="ln">4539 </span></a>    <span class="s1">nameOnly</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4540"><span class="ln">4540 </span></a>    <span class="s5">/** Since 4.0: If true and nameOnly is true, allows a user without the required privilege (i.e. listCollections action on the database) to run the command when access control is enforced. */</span>
<a name="l4541"><span class="ln">4541 </span></a>    <span class="s1">authorizedCollections</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4542"><span class="ln">4542 </span></a>    <span class="s5">/** The batchSize for the returned command cursor or if pre 2.8 the systems batch collection */</span>
<a name="l4543"><span class="ln">4543 </span></a>    <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4544"><span class="ln">4544 </span></a><span class="s3">}</span>
<a name="l4545"><span class="ln">4545 </span></a>
<a name="l4546"><span class="ln">4546 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4547"><span class="ln">4547 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ListDatabasesOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l4548"><span class="ln">4548 </span></a>    <span class="s5">/** A query predicate that determines which databases are listed */</span>
<a name="l4549"><span class="ln">4549 </span></a>    <span class="s1">filter</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l4550"><span class="ln">4550 </span></a>    <span class="s5">/** A flag to indicate whether the command should return just the database names, or return both database names and size information */</span>
<a name="l4551"><span class="ln">4551 </span></a>    <span class="s1">nameOnly</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4552"><span class="ln">4552 </span></a>    <span class="s5">/** A flag that determines which databases are returned based on the user privileges when access control is enabled */</span>
<a name="l4553"><span class="ln">4553 </span></a>    <span class="s1">authorizedDatabases</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4554"><span class="ln">4554 </span></a><span class="s3">}</span>
<a name="l4555"><span class="ln">4555 </span></a>
<a name="l4556"><span class="ln">4556 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4557"><span class="ln">4557 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ListDatabasesResult </span><span class="s3">{</span>
<a name="l4558"><span class="ln">4558 </span></a>    <span class="s1">databases</span><span class="s3">: ({</span>
<a name="l4559"><span class="ln">4559 </span></a>        <span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4560"><span class="ln">4560 </span></a>        <span class="s1">sizeOnDisk</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4561"><span class="ln">4561 </span></a>        <span class="s1">empty</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4562"><span class="ln">4562 </span></a>    <span class="s3">} &amp; </span><span class="s1">Document</span><span class="s3">)[];</span>
<a name="l4563"><span class="ln">4563 </span></a>    <span class="s1">totalSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4564"><span class="ln">4564 </span></a>    <span class="s1">totalSizeMb</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4565"><span class="ln">4565 </span></a>    <span class="s1">ok</span><span class="s3">: </span><span class="s7">1 </span><span class="s3">| </span><span class="s7">0</span><span class="s3">;</span>
<a name="l4566"><span class="ln">4566 </span></a><span class="s3">}</span>
<a name="l4567"><span class="ln">4567 </span></a>
<a name="l4568"><span class="ln">4568 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4569"><span class="ln">4569 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ListIndexesCursor </span><span class="s2">extends </span><span class="s1">AbstractCursor </span><span class="s3">{</span>
<a name="l4570"><span class="ln">4570 </span></a>    <span class="s1">parent</span><span class="s3">: </span><span class="s1">Collection</span><span class="s3">;</span>
<a name="l4571"><span class="ln">4571 </span></a>    <span class="s1">options</span><span class="s3">?: </span><span class="s1">ListIndexesOptions</span><span class="s3">;</span>
<a name="l4572"><span class="ln">4572 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">collection</span><span class="s3">: </span><span class="s1">Collection</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ListIndexesOptions</span><span class="s3">);</span>
<a name="l4573"><span class="ln">4573 </span></a>    <span class="s1">clone</span><span class="s3">(): </span><span class="s1">ListIndexesCursor</span><span class="s3">;</span>
<a name="l4574"><span class="ln">4574 </span></a>    <span class="s0">/* Excluded from this release type: _initialize */</span>
<a name="l4575"><span class="ln">4575 </span></a><span class="s3">}</span>
<a name="l4576"><span class="ln">4576 </span></a>
<a name="l4577"><span class="ln">4577 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4578"><span class="ln">4578 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ListIndexesOptions </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">CommandOperationOptions</span><span class="s3">, </span><span class="s4">'writeConcern'</span><span class="s3">&gt; {</span>
<a name="l4579"><span class="ln">4579 </span></a>    <span class="s5">/** The batchSize for the returned command cursor or if pre 2.8 the systems batch collection */</span>
<a name="l4580"><span class="ln">4580 </span></a>    <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4581"><span class="ln">4581 </span></a><span class="s3">}</span>
<a name="l4582"><span class="ln">4582 </span></a>
<a name="l4583"><span class="ln">4583 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4584"><span class="ln">4584 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ListSearchIndexesCursor </span><span class="s2">extends </span><span class="s1">AggregationCursor</span><span class="s3">&lt;{</span>
<a name="l4585"><span class="ln">4585 </span></a>    <span class="s1">name</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4586"><span class="ln">4586 </span></a><span class="s3">}&gt; {</span>
<a name="l4587"><span class="ln">4587 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l4588"><span class="ln">4588 </span></a><span class="s3">}</span>
<a name="l4589"><span class="ln">4589 </span></a>
<a name="l4590"><span class="ln">4590 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4591"><span class="ln">4591 </span></a><span class="s2">export </span><span class="s1">declare type ListSearchIndexesOptions </span><span class="s3">= </span><span class="s1">AggregateOptions</span><span class="s3">;</span>
<a name="l4592"><span class="ln">4592 </span></a>
<a name="l4593"><span class="ln">4593 </span></a><span class="s0">/* Excluded from this release type: Log */</span>
<a name="l4594"><span class="ln">4594 </span></a>
<a name="l4595"><span class="ln">4595 </span></a><span class="s0">/* Excluded from this release type: LogComponentSeveritiesClientOptions */</span>
<a name="l4596"><span class="ln">4596 </span></a>
<a name="l4597"><span class="ln">4597 </span></a><span class="s0">/* Excluded from this release type: LogConvertible */</span>
<a name="l4598"><span class="ln">4598 </span></a>
<a name="l4599"><span class="ln">4599 </span></a><span class="s0">/* Excluded from this release type: Loggable */</span>
<a name="l4600"><span class="ln">4600 </span></a>
<a name="l4601"><span class="ln">4601 </span></a><span class="s0">/* Excluded from this release type: LoggableEvent */</span>
<a name="l4602"><span class="ln">4602 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Long </span><span class="s3">}</span>
<a name="l4603"><span class="ln">4603 </span></a>
<a name="l4604"><span class="ln">4604 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4605"><span class="ln">4605 </span></a><span class="s2">export </span><span class="s1">declare type MatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">Readonly</span><span class="s3">&lt;</span><span class="s1">Partial</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt; &amp; </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">any</span><span class="s3">&gt;;</span>
<a name="l4606"><span class="ln">4606 </span></a>
<a name="l4607"><span class="ln">4607 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">MaxKey </span><span class="s3">}</span>
<a name="l4608"><span class="ln">4608 </span></a>
<a name="l4609"><span class="ln">4609 </span></a><span class="s0">/* Excluded from this release type: MessageHeader */</span>
<a name="l4610"><span class="ln">4610 </span></a>
<a name="l4611"><span class="ln">4611 </span></a><span class="s0">/* Excluded from this release type: MessageStream */</span>
<a name="l4612"><span class="ln">4612 </span></a>
<a name="l4613"><span class="ln">4613 </span></a><span class="s0">/* Excluded from this release type: MessageStreamOptions */</span>
<a name="l4614"><span class="ln">4614 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">MinKey </span><span class="s3">}</span>
<a name="l4615"><span class="ln">4615 </span></a>
<a name="l4616"><span class="ln">4616 </span></a><span class="s0">/* Excluded from this release type: ModernConnection */</span>
<a name="l4617"><span class="ln">4617 </span></a>
<a name="l4618"><span class="ln">4618 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4619"><span class="ln">4619 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ModifyResult</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l4620"><span class="ln">4620 </span></a>    <span class="s1">value</span><span class="s3">: </span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">;</span>
<a name="l4621"><span class="ln">4621 </span></a>    <span class="s1">lastErrorObject</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l4622"><span class="ln">4622 </span></a>    <span class="s1">ok</span><span class="s3">: </span><span class="s7">0 </span><span class="s3">| </span><span class="s7">1</span><span class="s3">;</span>
<a name="l4623"><span class="ln">4623 </span></a><span class="s3">}</span>
<a name="l4624"><span class="ln">4624 </span></a>
<a name="l4625"><span class="ln">4625 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4626"><span class="ln">4626 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">MONGO_CLIENT_EVENTS</span><span class="s3">: </span><span class="s1">readonly </span><span class="s3">[</span><span class="s4">&quot;connectionPoolCreated&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionPoolReady&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionPoolCleared&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionPoolClosed&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionCreated&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionReady&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionClosed&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionCheckOutStarted&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionCheckOutFailed&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionCheckedOut&quot;</span><span class="s3">, </span><span class="s4">&quot;connectionCheckedIn&quot;</span><span class="s3">, </span><span class="s4">&quot;commandStarted&quot;</span><span class="s3">, </span><span class="s4">&quot;commandSucceeded&quot;</span><span class="s3">, </span><span class="s4">&quot;commandFailed&quot;</span><span class="s3">, </span><span class="s4">&quot;serverOpening&quot;</span><span class="s3">, </span><span class="s4">&quot;serverClosed&quot;</span><span class="s3">, </span><span class="s4">&quot;serverDescriptionChanged&quot;</span><span class="s3">, </span><span class="s4">&quot;topologyOpening&quot;</span><span class="s3">, </span><span class="s4">&quot;topologyClosed&quot;</span><span class="s3">, </span><span class="s4">&quot;topologyDescriptionChanged&quot;</span><span class="s3">, </span><span class="s4">&quot;error&quot;</span><span class="s3">, </span><span class="s4">&quot;timeout&quot;</span><span class="s3">, </span><span class="s4">&quot;close&quot;</span><span class="s3">, </span><span class="s4">&quot;serverHeartbeatStarted&quot;</span><span class="s3">, </span><span class="s4">&quot;serverHeartbeatSucceeded&quot;</span><span class="s3">, </span><span class="s4">&quot;serverHeartbeatFailed&quot;</span><span class="s3">];</span>
<a name="l4627"><span class="ln">4627 </span></a>
<a name="l4628"><span class="ln">4628 </span></a><span class="s5">/**</span>
<a name="l4629"><span class="ln">4629 </span></a> <span class="s5">* An error generated when the driver API is used incorrectly</span>
<a name="l4630"><span class="ln">4630 </span></a> <span class="s5">*</span>
<a name="l4631"><span class="ln">4631 </span></a> <span class="s5">* </span><span class="s6">@privateRemarks</span>
<a name="l4632"><span class="ln">4632 </span></a> <span class="s5">* Should **never** be directly instantiated</span>
<a name="l4633"><span class="ln">4633 </span></a> <span class="s5">*</span>
<a name="l4634"><span class="ln">4634 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4635"><span class="ln">4635 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l4636"><span class="ln">4636 </span></a> <span class="s5">*/</span>
<a name="l4637"><span class="ln">4637 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoAPIError </span><span class="s2">extends </span><span class="s1">MongoDriverError </span><span class="s3">{</span>
<a name="l4638"><span class="ln">4638 </span></a>    <span class="s5">/**</span>
<a name="l4639"><span class="ln">4639 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l4640"><span class="ln">4640 </span></a>     <span class="s5">*</span>
<a name="l4641"><span class="ln">4641 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l4642"><span class="ln">4642 </span></a>     <span class="s5">*</span>
<a name="l4643"><span class="ln">4643 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4644"><span class="ln">4644 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l4645"><span class="ln">4645 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l4646"><span class="ln">4646 </span></a>     <span class="s5">*</span>
<a name="l4647"><span class="ln">4647 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l4648"><span class="ln">4648 </span></a>     <span class="s5">**/</span>
<a name="l4649"><span class="ln">4649 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: {</span>
<a name="l4650"><span class="ln">4650 </span></a>        <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l4651"><span class="ln">4651 </span></a>    <span class="s3">});</span>
<a name="l4652"><span class="ln">4652 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4653"><span class="ln">4653 </span></a><span class="s3">}</span>
<a name="l4654"><span class="ln">4654 </span></a>
<a name="l4655"><span class="ln">4655 </span></a><span class="s5">/**</span>
<a name="l4656"><span class="ln">4656 </span></a> <span class="s5">* A error generated when the user attempts to authenticate</span>
<a name="l4657"><span class="ln">4657 </span></a> <span class="s5">* via AWS, but fails</span>
<a name="l4658"><span class="ln">4658 </span></a> <span class="s5">*</span>
<a name="l4659"><span class="ln">4659 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4660"><span class="ln">4660 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l4661"><span class="ln">4661 </span></a> <span class="s5">*/</span>
<a name="l4662"><span class="ln">4662 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoAWSError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l4663"><span class="ln">4663 </span></a>    <span class="s5">/**</span>
<a name="l4664"><span class="ln">4664 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l4665"><span class="ln">4665 </span></a>     <span class="s5">*</span>
<a name="l4666"><span class="ln">4666 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l4667"><span class="ln">4667 </span></a>     <span class="s5">*</span>
<a name="l4668"><span class="ln">4668 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4669"><span class="ln">4669 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l4670"><span class="ln">4670 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l4671"><span class="ln">4671 </span></a>     <span class="s5">*</span>
<a name="l4672"><span class="ln">4672 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l4673"><span class="ln">4673 </span></a>     <span class="s5">**/</span>
<a name="l4674"><span class="ln">4674 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l4675"><span class="ln">4675 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4676"><span class="ln">4676 </span></a><span class="s3">}</span>
<a name="l4677"><span class="ln">4677 </span></a>
<a name="l4678"><span class="ln">4678 </span></a><span class="s5">/**</span>
<a name="l4679"><span class="ln">4679 </span></a> <span class="s5">* A error generated when the user attempts to authenticate</span>
<a name="l4680"><span class="ln">4680 </span></a> <span class="s5">* via Azure, but fails.</span>
<a name="l4681"><span class="ln">4681 </span></a> <span class="s5">*</span>
<a name="l4682"><span class="ln">4682 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4683"><span class="ln">4683 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l4684"><span class="ln">4684 </span></a> <span class="s5">*/</span>
<a name="l4685"><span class="ln">4685 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoAzureError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l4686"><span class="ln">4686 </span></a>    <span class="s5">/**</span>
<a name="l4687"><span class="ln">4687 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l4688"><span class="ln">4688 </span></a>     <span class="s5">*</span>
<a name="l4689"><span class="ln">4689 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l4690"><span class="ln">4690 </span></a>     <span class="s5">*</span>
<a name="l4691"><span class="ln">4691 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4692"><span class="ln">4692 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l4693"><span class="ln">4693 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l4694"><span class="ln">4694 </span></a>     <span class="s5">*</span>
<a name="l4695"><span class="ln">4695 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l4696"><span class="ln">4696 </span></a>     <span class="s5">**/</span>
<a name="l4697"><span class="ln">4697 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l4698"><span class="ln">4698 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4699"><span class="ln">4699 </span></a><span class="s3">}</span>
<a name="l4700"><span class="ln">4700 </span></a>
<a name="l4701"><span class="ln">4701 </span></a><span class="s5">/**</span>
<a name="l4702"><span class="ln">4702 </span></a> <span class="s5">* An error generated when a batch command is re-executed after one of the commands in the batch</span>
<a name="l4703"><span class="ln">4703 </span></a> <span class="s5">* has failed</span>
<a name="l4704"><span class="ln">4704 </span></a> <span class="s5">*</span>
<a name="l4705"><span class="ln">4705 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4706"><span class="ln">4706 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l4707"><span class="ln">4707 </span></a> <span class="s5">*/</span>
<a name="l4708"><span class="ln">4708 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoBatchReExecutionError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l4709"><span class="ln">4709 </span></a>    <span class="s5">/**</span>
<a name="l4710"><span class="ln">4710 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l4711"><span class="ln">4711 </span></a>     <span class="s5">*</span>
<a name="l4712"><span class="ln">4712 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l4713"><span class="ln">4713 </span></a>     <span class="s5">*</span>
<a name="l4714"><span class="ln">4714 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4715"><span class="ln">4715 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l4716"><span class="ln">4716 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l4717"><span class="ln">4717 </span></a>     <span class="s5">*</span>
<a name="l4718"><span class="ln">4718 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l4719"><span class="ln">4719 </span></a>     <span class="s5">**/</span>
<a name="l4720"><span class="ln">4720 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l4721"><span class="ln">4721 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4722"><span class="ln">4722 </span></a><span class="s3">}</span>
<a name="l4723"><span class="ln">4723 </span></a>
<a name="l4724"><span class="ln">4724 </span></a><span class="s5">/**</span>
<a name="l4725"><span class="ln">4725 </span></a> <span class="s5">* An error indicating an unsuccessful Bulk Write</span>
<a name="l4726"><span class="ln">4726 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4727"><span class="ln">4727 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l4728"><span class="ln">4728 </span></a> <span class="s5">*/</span>
<a name="l4729"><span class="ln">4729 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoBulkWriteError </span><span class="s2">extends </span><span class="s1">MongoServerError </span><span class="s3">{</span>
<a name="l4730"><span class="ln">4730 </span></a>    <span class="s1">result</span><span class="s3">: </span><span class="s1">BulkWriteResult</span><span class="s3">;</span>
<a name="l4731"><span class="ln">4731 </span></a>    <span class="s1">writeErrors</span><span class="s3">: </span><span class="s1">OneOrMore</span><span class="s3">&lt;</span><span class="s1">WriteError</span><span class="s3">&gt;;</span>
<a name="l4732"><span class="ln">4732 </span></a>    <span class="s1">err</span><span class="s3">?: </span><span class="s1">WriteConcernError</span><span class="s3">;</span>
<a name="l4733"><span class="ln">4733 </span></a>    <span class="s5">/**</span>
<a name="l4734"><span class="ln">4734 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l4735"><span class="ln">4735 </span></a>     <span class="s5">*</span>
<a name="l4736"><span class="ln">4736 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l4737"><span class="ln">4737 </span></a>     <span class="s5">*</span>
<a name="l4738"><span class="ln">4738 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4739"><span class="ln">4739 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l4740"><span class="ln">4740 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l4741"><span class="ln">4741 </span></a>     <span class="s5">*</span>
<a name="l4742"><span class="ln">4742 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l4743"><span class="ln">4743 </span></a>     <span class="s5">**/</span>
<a name="l4744"><span class="ln">4744 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">error</span><span class="s3">: {</span>
<a name="l4745"><span class="ln">4745 </span></a>        <span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4746"><span class="ln">4746 </span></a>        <span class="s1">code</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4747"><span class="ln">4747 </span></a>        <span class="s1">writeErrors</span><span class="s3">?: </span><span class="s1">WriteError</span><span class="s3">[];</span>
<a name="l4748"><span class="ln">4748 </span></a>    <span class="s3">} | </span><span class="s1">WriteConcernError </span><span class="s3">| </span><span class="s1">AnyError</span><span class="s3">, </span><span class="s1">result</span><span class="s3">: </span><span class="s1">BulkWriteResult</span><span class="s3">);</span>
<a name="l4749"><span class="ln">4749 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4750"><span class="ln">4750 </span></a>    <span class="s5">/** Number of documents inserted. */</span>
<a name="l4751"><span class="ln">4751 </span></a>    <span class="s1">get insertedCount</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4752"><span class="ln">4752 </span></a>    <span class="s5">/** Number of documents matched for update. */</span>
<a name="l4753"><span class="ln">4753 </span></a>    <span class="s1">get matchedCount</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4754"><span class="ln">4754 </span></a>    <span class="s5">/** Number of documents modified. */</span>
<a name="l4755"><span class="ln">4755 </span></a>    <span class="s1">get modifiedCount</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4756"><span class="ln">4756 </span></a>    <span class="s5">/** Number of documents deleted. */</span>
<a name="l4757"><span class="ln">4757 </span></a>    <span class="s1">get deletedCount</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4758"><span class="ln">4758 </span></a>    <span class="s5">/** Number of documents upserted. */</span>
<a name="l4759"><span class="ln">4759 </span></a>    <span class="s1">get upsertedCount</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4760"><span class="ln">4760 </span></a>    <span class="s5">/** Inserted document generated Id's, hash key is the index of the originating operation */</span>
<a name="l4761"><span class="ln">4761 </span></a>    <span class="s1">get insertedIds</span><span class="s3">(): {</span>
<a name="l4762"><span class="ln">4762 </span></a>        <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">number</span><span class="s3">]: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l4763"><span class="ln">4763 </span></a>    <span class="s3">};</span>
<a name="l4764"><span class="ln">4764 </span></a>    <span class="s5">/** Upserted document generated Id's, hash key is the index of the originating operation */</span>
<a name="l4765"><span class="ln">4765 </span></a>    <span class="s1">get upsertedIds</span><span class="s3">(): {</span>
<a name="l4766"><span class="ln">4766 </span></a>        <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">number</span><span class="s3">]: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l4767"><span class="ln">4767 </span></a>    <span class="s3">};</span>
<a name="l4768"><span class="ln">4768 </span></a><span class="s3">}</span>
<a name="l4769"><span class="ln">4769 </span></a>
<a name="l4770"><span class="ln">4770 </span></a><span class="s5">/**</span>
<a name="l4771"><span class="ln">4771 </span></a> <span class="s5">* An error generated when a ChangeStream operation fails to execute.</span>
<a name="l4772"><span class="ln">4772 </span></a> <span class="s5">*</span>
<a name="l4773"><span class="ln">4773 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4774"><span class="ln">4774 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l4775"><span class="ln">4775 </span></a> <span class="s5">*/</span>
<a name="l4776"><span class="ln">4776 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoChangeStreamError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l4777"><span class="ln">4777 </span></a>    <span class="s5">/**</span>
<a name="l4778"><span class="ln">4778 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l4779"><span class="ln">4779 </span></a>     <span class="s5">*</span>
<a name="l4780"><span class="ln">4780 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l4781"><span class="ln">4781 </span></a>     <span class="s5">*</span>
<a name="l4782"><span class="ln">4782 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4783"><span class="ln">4783 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l4784"><span class="ln">4784 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l4785"><span class="ln">4785 </span></a>     <span class="s5">*</span>
<a name="l4786"><span class="ln">4786 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l4787"><span class="ln">4787 </span></a>     <span class="s5">**/</span>
<a name="l4788"><span class="ln">4788 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l4789"><span class="ln">4789 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4790"><span class="ln">4790 </span></a><span class="s3">}</span>
<a name="l4791"><span class="ln">4791 </span></a>
<a name="l4792"><span class="ln">4792 </span></a><span class="s5">/**</span>
<a name="l4793"><span class="ln">4793 </span></a> <span class="s5">* The **MongoClient** class is a class that allows for making Connections to MongoDB.</span>
<a name="l4794"><span class="ln">4794 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4795"><span class="ln">4795 </span></a> <span class="s5">*</span>
<a name="l4796"><span class="ln">4796 </span></a> <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4797"><span class="ln">4797 </span></a> <span class="s5">* The programmatically provided options take precedence over the URI options.</span>
<a name="l4798"><span class="ln">4798 </span></a> <span class="s5">*</span>
<a name="l4799"><span class="ln">4799 </span></a> <span class="s5">* </span><span class="s6">@example</span>
<a name="l4800"><span class="ln">4800 </span></a> <span class="s5">* ```ts</span>
<a name="l4801"><span class="ln">4801 </span></a> <span class="s5">* import { MongoClient } from 'mongodb';</span>
<a name="l4802"><span class="ln">4802 </span></a> <span class="s5">*</span>
<a name="l4803"><span class="ln">4803 </span></a> <span class="s5">* // Enable command monitoring for debugging</span>
<a name="l4804"><span class="ln">4804 </span></a> <span class="s5">* const client = new MongoClient('mongodb://localhost:27017', { monitorCommands: true });</span>
<a name="l4805"><span class="ln">4805 </span></a> <span class="s5">*</span>
<a name="l4806"><span class="ln">4806 </span></a> <span class="s5">* client.on('commandStarted', started =&gt; console.log(started));</span>
<a name="l4807"><span class="ln">4807 </span></a> <span class="s5">* client.db().collection('pets');</span>
<a name="l4808"><span class="ln">4808 </span></a> <span class="s5">* await client.insertOne({ name: 'spot', kind: 'dog' });</span>
<a name="l4809"><span class="ln">4809 </span></a> <span class="s5">* ```</span>
<a name="l4810"><span class="ln">4810 </span></a> <span class="s5">*/</span>
<a name="l4811"><span class="ln">4811 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoClient </span><span class="s2">extends </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;</span><span class="s1">MongoClientEvents</span><span class="s3">&gt; {</span>
<a name="l4812"><span class="ln">4812 </span></a>    <span class="s0">/* Excluded from this release type: s */</span>
<a name="l4813"><span class="ln">4813 </span></a>    <span class="s0">/* Excluded from this release type: topology */</span>
<a name="l4814"><span class="ln">4814 </span></a>    <span class="s0">/* Excluded from this release type: mongoLogger */</span>
<a name="l4815"><span class="ln">4815 </span></a>    <span class="s0">/* Excluded from this release type: connectionLock */</span>
<a name="l4816"><span class="ln">4816 </span></a>    <span class="s0">/* Excluded from this release type: [kOptions] */</span>
<a name="l4817"><span class="ln">4817 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">url</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">MongoClientOptions</span><span class="s3">);</span>
<a name="l4818"><span class="ln">4818 </span></a>    <span class="s0">/* Excluded from this release type: checkForNonGenuineHosts */</span>
<a name="l4819"><span class="ln">4819 </span></a>    <span class="s5">/** </span><span class="s6">@see </span><span class="s5">MongoOptions */</span>
<a name="l4820"><span class="ln">4820 </span></a>    <span class="s1">get options</span><span class="s3">(): </span><span class="s1">Readonly</span><span class="s3">&lt;</span><span class="s1">MongoOptions</span><span class="s3">&gt;;</span>
<a name="l4821"><span class="ln">4821 </span></a>    <span class="s1">get serverApi</span><span class="s3">(): </span><span class="s1">Readonly</span><span class="s3">&lt;</span><span class="s1">ServerApi </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">&gt;;</span>
<a name="l4822"><span class="ln">4822 </span></a>    <span class="s0">/* Excluded from this release type: monitorCommands */</span>
<a name="l4823"><span class="ln">4823 </span></a>    <span class="s0">/* Excluded from this release type: monitorCommands */</span>
<a name="l4824"><span class="ln">4824 </span></a>    <span class="s0">/* Excluded from this release type: autoEncrypter */</span>
<a name="l4825"><span class="ln">4825 </span></a>    <span class="s1">get readConcern</span><span class="s3">(): </span><span class="s1">ReadConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4826"><span class="ln">4826 </span></a>    <span class="s1">get writeConcern</span><span class="s3">(): </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4827"><span class="ln">4827 </span></a>    <span class="s1">get readPreference</span><span class="s3">(): </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l4828"><span class="ln">4828 </span></a>    <span class="s1">get bsonOptions</span><span class="s3">(): </span><span class="s1">BSONSerializeOptions</span><span class="s3">;</span>
<a name="l4829"><span class="ln">4829 </span></a>    <span class="s5">/**</span>
<a name="l4830"><span class="ln">4830 </span></a>     <span class="s5">* Connect to MongoDB using a url</span>
<a name="l4831"><span class="ln">4831 </span></a>     <span class="s5">*</span>
<a name="l4832"><span class="ln">4832 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">docs.mongodb.org/manual/reference/connection-string/</span>
<a name="l4833"><span class="ln">4833 </span></a>     <span class="s5">*/</span>
<a name="l4834"><span class="ln">4834 </span></a>    <span class="s1">connect</span><span class="s3">(): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">this</span><span class="s3">&gt;;</span>
<a name="l4835"><span class="ln">4835 </span></a>    <span class="s0">/* Excluded from this release type: _connect */</span>
<a name="l4836"><span class="ln">4836 </span></a>    <span class="s5">/**</span>
<a name="l4837"><span class="ln">4837 </span></a>     <span class="s5">* Close the client and its underlying connections</span>
<a name="l4838"><span class="ln">4838 </span></a>     <span class="s5">*</span>
<a name="l4839"><span class="ln">4839 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">force - Force close, emitting no events</span>
<a name="l4840"><span class="ln">4840 </span></a>     <span class="s5">*/</span>
<a name="l4841"><span class="ln">4841 </span></a>    <span class="s1">close</span><span class="s3">(</span><span class="s1">force</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s2">void</span><span class="s3">&gt;;</span>
<a name="l4842"><span class="ln">4842 </span></a>    <span class="s5">/**</span>
<a name="l4843"><span class="ln">4843 </span></a>     <span class="s5">* Create a new Db instance sharing the current socket connections.</span>
<a name="l4844"><span class="ln">4844 </span></a>     <span class="s5">*</span>
<a name="l4845"><span class="ln">4845 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">dbName - The name of the database we want to use. If not provided, use database name from connection string.</span>
<a name="l4846"><span class="ln">4846 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for Db construction</span>
<a name="l4847"><span class="ln">4847 </span></a>     <span class="s5">*/</span>
<a name="l4848"><span class="ln">4848 </span></a>    <span class="s1">db</span><span class="s3">(</span><span class="s1">dbName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">DbOptions</span><span class="s3">): </span><span class="s1">Db</span><span class="s3">;</span>
<a name="l4849"><span class="ln">4849 </span></a>    <span class="s5">/**</span>
<a name="l4850"><span class="ln">4850 </span></a>     <span class="s5">* Connect to MongoDB using a url</span>
<a name="l4851"><span class="ln">4851 </span></a>     <span class="s5">*</span>
<a name="l4852"><span class="ln">4852 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4853"><span class="ln">4853 </span></a>     <span class="s5">* The programmatically provided options take precedence over the URI options.</span>
<a name="l4854"><span class="ln">4854 </span></a>     <span class="s5">*</span>
<a name="l4855"><span class="ln">4855 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/connection-string/</span>
<a name="l4856"><span class="ln">4856 </span></a>     <span class="s5">*/</span>
<a name="l4857"><span class="ln">4857 </span></a>    <span class="s2">static </span><span class="s1">connect</span><span class="s3">(</span><span class="s1">url</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">MongoClientOptions</span><span class="s3">): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">MongoClient</span><span class="s3">&gt;;</span>
<a name="l4858"><span class="ln">4858 </span></a>    <span class="s5">/**</span>
<a name="l4859"><span class="ln">4859 </span></a>     <span class="s5">* Creates a new ClientSession. When using the returned session in an operation</span>
<a name="l4860"><span class="ln">4860 </span></a>     <span class="s5">* a corresponding ServerSession will be created.</span>
<a name="l4861"><span class="ln">4861 </span></a>     <span class="s5">*</span>
<a name="l4862"><span class="ln">4862 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4863"><span class="ln">4863 </span></a>     <span class="s5">* A ClientSession instance may only be passed to operations being performed on the same</span>
<a name="l4864"><span class="ln">4864 </span></a>     <span class="s5">* MongoClient it was started from.</span>
<a name="l4865"><span class="ln">4865 </span></a>     <span class="s5">*/</span>
<a name="l4866"><span class="ln">4866 </span></a>    <span class="s1">startSession</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ClientSessionOptions</span><span class="s3">): </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l4867"><span class="ln">4867 </span></a>    <span class="s5">/**</span>
<a name="l4868"><span class="ln">4868 </span></a>     <span class="s5">* A convenience method for creating and handling the clean up of a ClientSession.</span>
<a name="l4869"><span class="ln">4869 </span></a>     <span class="s5">* The session will always be ended when the executor finishes.</span>
<a name="l4870"><span class="ln">4870 </span></a>     <span class="s5">*</span>
<a name="l4871"><span class="ln">4871 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">executor - An executor function that all operations using the provided session must be invoked in</span>
<a name="l4872"><span class="ln">4872 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - optional settings for the session</span>
<a name="l4873"><span class="ln">4873 </span></a>     <span class="s5">*/</span>
<a name="l4874"><span class="ln">4874 </span></a>    <span class="s1">withSession</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt;(</span><span class="s1">executor</span><span class="s3">: </span><span class="s1">WithSessionCallback</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l4875"><span class="ln">4875 </span></a>    <span class="s1">withSession</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt;(</span><span class="s1">options</span><span class="s3">: </span><span class="s1">ClientSessionOptions</span><span class="s3">, </span><span class="s1">executor</span><span class="s3">: </span><span class="s1">WithSessionCallback</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;): </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l4876"><span class="ln">4876 </span></a>    <span class="s5">/**</span>
<a name="l4877"><span class="ln">4877 </span></a>     <span class="s5">* Create a new Change Stream, watching for new changes (insertions, updates,</span>
<a name="l4878"><span class="ln">4878 </span></a>     <span class="s5">* replacements, deletions, and invalidations) in this cluster. Will ignore all</span>
<a name="l4879"><span class="ln">4879 </span></a>     <span class="s5">* changes to system collections, as well as the local, admin, and config databases.</span>
<a name="l4880"><span class="ln">4880 </span></a>     <span class="s5">*</span>
<a name="l4881"><span class="ln">4881 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l4882"><span class="ln">4882 </span></a>     <span class="s5">* watch() accepts two generic arguments for distinct use cases:</span>
<a name="l4883"><span class="ln">4883 </span></a>     <span class="s5">* - The first is to provide the schema that may be defined for all the data within the current cluster</span>
<a name="l4884"><span class="ln">4884 </span></a>     <span class="s5">* - The second is to override the shape of the change stream document entirely, if it is not provided the type will default to ChangeStreamDocument of the first argument</span>
<a name="l4885"><span class="ln">4885 </span></a>     <span class="s5">*</span>
<a name="l4886"><span class="ln">4886 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">pipeline - An array of {</span><span class="s6">@link </span><span class="s5">https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/|aggregation pipeline stages} through which to pass change stream documents. This allows for filtering (using $match) and manipulating the change stream documents.</span>
<a name="l4887"><span class="ln">4887 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Optional settings for the command</span>
<a name="l4888"><span class="ln">4888 </span></a>     <span class="s5">* </span><span class="s6">@typeParam </span><span class="s5">TSchema - Type of the data being detected by the change stream</span>
<a name="l4889"><span class="ln">4889 </span></a>     <span class="s5">* </span><span class="s6">@typeParam </span><span class="s5">TChange - Type of the whole change stream document emitted</span>
<a name="l4890"><span class="ln">4890 </span></a>     <span class="s5">*/</span>
<a name="l4891"><span class="ln">4891 </span></a>    <span class="s1">watch</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">TChange </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">ChangeStreamDocument</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;(</span><span class="s1">pipeline</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ChangeStreamOptions</span><span class="s3">): </span><span class="s1">ChangeStream</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">TChange</span><span class="s3">&gt;;</span>
<a name="l4892"><span class="ln">4892 </span></a><span class="s3">}</span>
<a name="l4893"><span class="ln">4893 </span></a>
<a name="l4894"><span class="ln">4894 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l4895"><span class="ln">4895 </span></a><span class="s2">export </span><span class="s1">declare type MongoClientEvents </span><span class="s3">= </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">TopologyEvents</span><span class="s3">, (</span><span class="s2">typeof </span><span class="s1">MONGO_CLIENT_EVENTS</span><span class="s3">)[</span><span class="s1">number</span><span class="s3">]&gt; &amp; {</span>
<a name="l4896"><span class="ln">4896 </span></a>    <span class="s1">open</span><span class="s3">(</span><span class="s1">mongoClient</span><span class="s3">: </span><span class="s1">MongoClient</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l4897"><span class="ln">4897 </span></a><span class="s3">};</span>
<a name="l4898"><span class="ln">4898 </span></a>
<a name="l4899"><span class="ln">4899 </span></a><span class="s5">/**</span>
<a name="l4900"><span class="ln">4900 </span></a> <span class="s5">* Describes all possible URI query options for the mongo client</span>
<a name="l4901"><span class="ln">4901 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l4902"><span class="ln">4902 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/connection-string</span>
<a name="l4903"><span class="ln">4903 </span></a> <span class="s5">*/</span>
<a name="l4904"><span class="ln">4904 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">MongoClientOptions </span><span class="s2">extends </span><span class="s1">BSONSerializeOptions</span><span class="s3">, </span><span class="s1">SupportedNodeConnectionOptions </span><span class="s3">{</span>
<a name="l4905"><span class="ln">4905 </span></a>    <span class="s5">/** Specifies the name of the replica set, if the mongod is a member of a replica set. */</span>
<a name="l4906"><span class="ln">4906 </span></a>    <span class="s1">replicaSet</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4907"><span class="ln">4907 </span></a>    <span class="s5">/** Enables or disables TLS/SSL for the connection. */</span>
<a name="l4908"><span class="ln">4908 </span></a>    <span class="s1">tls</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4909"><span class="ln">4909 </span></a>    <span class="s5">/** A boolean to enable or disables TLS/SSL for the connection. (The ssl option is equivalent to the tls option.) */</span>
<a name="l4910"><span class="ln">4910 </span></a>    <span class="s1">ssl</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4911"><span class="ln">4911 </span></a>    <span class="s5">/** Specifies the location of a local .pem file that contains either the client's TLS/SSL certificate and key. */</span>
<a name="l4912"><span class="ln">4912 </span></a>    <span class="s1">tlsCertificateKeyFile</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4913"><span class="ln">4913 </span></a>    <span class="s5">/** Specifies the password to de-crypt the tlsCertificateKeyFile. */</span>
<a name="l4914"><span class="ln">4914 </span></a>    <span class="s1">tlsCertificateKeyFilePassword</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4915"><span class="ln">4915 </span></a>    <span class="s5">/** Specifies the location of a local .pem file that contains the root certificate chain from the Certificate Authority. This file is used to validate the certificate presented by the mongod/mongos instance. */</span>
<a name="l4916"><span class="ln">4916 </span></a>    <span class="s1">tlsCAFile</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4917"><span class="ln">4917 </span></a>    <span class="s5">/** Specifies the location of a local CRL .pem file that contains the client revokation list. */</span>
<a name="l4918"><span class="ln">4918 </span></a>    <span class="s1">tlsCRLFile</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4919"><span class="ln">4919 </span></a>    <span class="s5">/** Bypasses validation of the certificates presented by the mongod/mongos instance */</span>
<a name="l4920"><span class="ln">4920 </span></a>    <span class="s1">tlsAllowInvalidCertificates</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4921"><span class="ln">4921 </span></a>    <span class="s5">/** Disables hostname validation of the certificate presented by the mongod/mongos instance. */</span>
<a name="l4922"><span class="ln">4922 </span></a>    <span class="s1">tlsAllowInvalidHostnames</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4923"><span class="ln">4923 </span></a>    <span class="s5">/** Disables various certificate validations. */</span>
<a name="l4924"><span class="ln">4924 </span></a>    <span class="s1">tlsInsecure</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4925"><span class="ln">4925 </span></a>    <span class="s5">/** The time in milliseconds to attempt a connection before timing out. */</span>
<a name="l4926"><span class="ln">4926 </span></a>    <span class="s1">connectTimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4927"><span class="ln">4927 </span></a>    <span class="s5">/** The time in milliseconds to attempt a send or receive on a socket before the attempt times out. */</span>
<a name="l4928"><span class="ln">4928 </span></a>    <span class="s1">socketTimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4929"><span class="ln">4929 </span></a>    <span class="s5">/** An array or comma-delimited string of compressors to enable network compression for communication between this client and a mongod/mongos instance. */</span>
<a name="l4930"><span class="ln">4930 </span></a>    <span class="s1">compressors</span><span class="s3">?: </span><span class="s1">CompressorName</span><span class="s3">[] | </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4931"><span class="ln">4931 </span></a>    <span class="s5">/** An integer that specifies the compression level if using zlib for network compression. */</span>
<a name="l4932"><span class="ln">4932 </span></a>    <span class="s1">zlibCompressionLevel</span><span class="s3">?: </span><span class="s7">0 </span><span class="s3">| </span><span class="s7">1 </span><span class="s3">| </span><span class="s7">2 </span><span class="s3">| </span><span class="s7">3 </span><span class="s3">| </span><span class="s7">4 </span><span class="s3">| </span><span class="s7">5 </span><span class="s3">| </span><span class="s7">6 </span><span class="s3">| </span><span class="s7">7 </span><span class="s3">| </span><span class="s7">8 </span><span class="s3">| </span><span class="s7">9 </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l4933"><span class="ln">4933 </span></a>    <span class="s5">/** The maximum number of hosts to connect to when using an srv connection string, a setting of `0` means unlimited hosts */</span>
<a name="l4934"><span class="ln">4934 </span></a>    <span class="s1">srvMaxHosts</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4935"><span class="ln">4935 </span></a>    <span class="s5">/**</span>
<a name="l4936"><span class="ln">4936 </span></a>     <span class="s5">* Modifies the srv URI to look like:</span>
<a name="l4937"><span class="ln">4937 </span></a>     <span class="s5">*</span>
<a name="l4938"><span class="ln">4938 </span></a>     <span class="s5">* `_{srvServiceName}._tcp.{hostname}.{domainname}`</span>
<a name="l4939"><span class="ln">4939 </span></a>     <span class="s5">*</span>
<a name="l4940"><span class="ln">4940 </span></a>     <span class="s5">* Querying this DNS URI is expected to respond with SRV records</span>
<a name="l4941"><span class="ln">4941 </span></a>     <span class="s5">*/</span>
<a name="l4942"><span class="ln">4942 </span></a>    <span class="s1">srvServiceName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4943"><span class="ln">4943 </span></a>    <span class="s5">/** The maximum number of connections in the connection pool. */</span>
<a name="l4944"><span class="ln">4944 </span></a>    <span class="s1">maxPoolSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4945"><span class="ln">4945 </span></a>    <span class="s5">/** The minimum number of connections in the connection pool. */</span>
<a name="l4946"><span class="ln">4946 </span></a>    <span class="s1">minPoolSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4947"><span class="ln">4947 </span></a>    <span class="s5">/** The maximum number of connections that may be in the process of being established concurrently by the connection pool. */</span>
<a name="l4948"><span class="ln">4948 </span></a>    <span class="s1">maxConnecting</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4949"><span class="ln">4949 </span></a>    <span class="s5">/** The maximum number of milliseconds that a connection can remain idle in the pool before being removed and closed. */</span>
<a name="l4950"><span class="ln">4950 </span></a>    <span class="s1">maxIdleTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4951"><span class="ln">4951 </span></a>    <span class="s5">/** The maximum time in milliseconds that a thread can wait for a connection to become available. */</span>
<a name="l4952"><span class="ln">4952 </span></a>    <span class="s1">waitQueueTimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4953"><span class="ln">4953 </span></a>    <span class="s5">/** Specify a read concern for the collection (only MongoDB 3.2 or higher supported) */</span>
<a name="l4954"><span class="ln">4954 </span></a>    <span class="s1">readConcern</span><span class="s3">?: </span><span class="s1">ReadConcernLike</span><span class="s3">;</span>
<a name="l4955"><span class="ln">4955 </span></a>    <span class="s5">/** The level of isolation */</span>
<a name="l4956"><span class="ln">4956 </span></a>    <span class="s1">readConcernLevel</span><span class="s3">?: </span><span class="s1">ReadConcernLevel</span><span class="s3">;</span>
<a name="l4957"><span class="ln">4957 </span></a>    <span class="s5">/** Specifies the read preferences for this connection */</span>
<a name="l4958"><span class="ln">4958 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceMode </span><span class="s3">| </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l4959"><span class="ln">4959 </span></a>    <span class="s5">/** Specifies, in seconds, how stale a secondary can be before the client stops using it for read operations. */</span>
<a name="l4960"><span class="ln">4960 </span></a>    <span class="s1">maxStalenessSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4961"><span class="ln">4961 </span></a>    <span class="s5">/** Specifies the tags document as a comma-separated list of colon-separated key-value pairs.  */</span>
<a name="l4962"><span class="ln">4962 </span></a>    <span class="s1">readPreferenceTags</span><span class="s3">?: </span><span class="s1">TagSet</span><span class="s3">[];</span>
<a name="l4963"><span class="ln">4963 </span></a>    <span class="s5">/** The auth settings for when connection to server. */</span>
<a name="l4964"><span class="ln">4964 </span></a>    <span class="s1">auth</span><span class="s3">?: </span><span class="s1">Auth</span><span class="s3">;</span>
<a name="l4965"><span class="ln">4965 </span></a>    <span class="s5">/** Specify the database name associated with the users credentials. */</span>
<a name="l4966"><span class="ln">4966 </span></a>    <span class="s1">authSource</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4967"><span class="ln">4967 </span></a>    <span class="s5">/** Specify the authentication mechanism that MongoDB will use to authenticate the connection. */</span>
<a name="l4968"><span class="ln">4968 </span></a>    <span class="s1">authMechanism</span><span class="s3">?: </span><span class="s1">AuthMechanism</span><span class="s3">;</span>
<a name="l4969"><span class="ln">4969 </span></a>    <span class="s5">/** Specify properties for the specified authMechanism as a comma-separated list of colon-separated key-value pairs. */</span>
<a name="l4970"><span class="ln">4970 </span></a>    <span class="s1">authMechanismProperties</span><span class="s3">?: </span><span class="s1">AuthMechanismProperties</span><span class="s3">;</span>
<a name="l4971"><span class="ln">4971 </span></a>    <span class="s5">/** The size (in milliseconds) of the latency window for selecting among multiple suitable MongoDB instances. */</span>
<a name="l4972"><span class="ln">4972 </span></a>    <span class="s1">localThresholdMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4973"><span class="ln">4973 </span></a>    <span class="s5">/** Specifies how long (in milliseconds) to block for server selection before throwing an exception.  */</span>
<a name="l4974"><span class="ln">4974 </span></a>    <span class="s1">serverSelectionTimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4975"><span class="ln">4975 </span></a>    <span class="s5">/** heartbeatFrequencyMS controls when the driver checks the state of the MongoDB deployment. Specify the interval (in milliseconds) between checks, counted from the end of the previous check until the beginning of the next one. */</span>
<a name="l4976"><span class="ln">4976 </span></a>    <span class="s1">heartbeatFrequencyMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4977"><span class="ln">4977 </span></a>    <span class="s5">/** Sets the minimum heartbeat frequency. In the event that the driver has to frequently re-check a server's availability, it will wait at least this long since the previous check to avoid wasted effort. */</span>
<a name="l4978"><span class="ln">4978 </span></a>    <span class="s1">minHeartbeatFrequencyMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4979"><span class="ln">4979 </span></a>    <span class="s5">/** The name of the application that created this MongoClient instance. MongoDB 3.4 and newer will print this value in the server log upon establishing each connection. It is also recorded in the slow query log and profile collections */</span>
<a name="l4980"><span class="ln">4980 </span></a>    <span class="s1">appName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l4981"><span class="ln">4981 </span></a>    <span class="s5">/** Enables retryable reads. */</span>
<a name="l4982"><span class="ln">4982 </span></a>    <span class="s1">retryReads</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4983"><span class="ln">4983 </span></a>    <span class="s5">/** Enable retryable writes. */</span>
<a name="l4984"><span class="ln">4984 </span></a>    <span class="s1">retryWrites</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4985"><span class="ln">4985 </span></a>    <span class="s5">/** Allow a driver to force a Single topology type with a connection string containing one host */</span>
<a name="l4986"><span class="ln">4986 </span></a>    <span class="s1">directConnection</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4987"><span class="ln">4987 </span></a>    <span class="s5">/** Instruct the driver it is connecting to a load balancer fronting a mongos like service */</span>
<a name="l4988"><span class="ln">4988 </span></a>    <span class="s1">loadBalanced</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l4989"><span class="ln">4989 </span></a>    <span class="s5">/**</span>
<a name="l4990"><span class="ln">4990 </span></a>     <span class="s5">* The write concern w value</span>
<a name="l4991"><span class="ln">4991 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Please use the `writeConcern` option instead</span>
<a name="l4992"><span class="ln">4992 </span></a>     <span class="s5">*/</span>
<a name="l4993"><span class="ln">4993 </span></a>    <span class="s1">w</span><span class="s3">?: </span><span class="s1">W</span><span class="s3">;</span>
<a name="l4994"><span class="ln">4994 </span></a>    <span class="s5">/**</span>
<a name="l4995"><span class="ln">4995 </span></a>     <span class="s5">* The write concern timeout</span>
<a name="l4996"><span class="ln">4996 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Please use the `writeConcern` option instead</span>
<a name="l4997"><span class="ln">4997 </span></a>     <span class="s5">*/</span>
<a name="l4998"><span class="ln">4998 </span></a>    <span class="s1">wtimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l4999"><span class="ln">4999 </span></a>    <span class="s5">/**</span>
<a name="l5000"><span class="ln">5000 </span></a>     <span class="s5">* The journal write concern</span>
<a name="l5001"><span class="ln">5001 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Please use the `writeConcern` option instead</span>
<a name="l5002"><span class="ln">5002 </span></a>     <span class="s5">*/</span>
<a name="l5003"><span class="ln">5003 </span></a>    <span class="s1">journal</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5004"><span class="ln">5004 </span></a>    <span class="s5">/**</span>
<a name="l5005"><span class="ln">5005 </span></a>     <span class="s5">* A MongoDB WriteConcern, which describes the level of acknowledgement</span>
<a name="l5006"><span class="ln">5006 </span></a>     <span class="s5">* requested from MongoDB for write operations.</span>
<a name="l5007"><span class="ln">5007 </span></a>     <span class="s5">*</span>
<a name="l5008"><span class="ln">5008 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/write-concern/</span>
<a name="l5009"><span class="ln">5009 </span></a>     <span class="s5">*/</span>
<a name="l5010"><span class="ln">5010 </span></a>    <span class="s1">writeConcern</span><span class="s3">?: </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">WriteConcernSettings</span><span class="s3">;</span>
<a name="l5011"><span class="ln">5011 </span></a>    <span class="s5">/** TCP Connection no delay */</span>
<a name="l5012"><span class="ln">5012 </span></a>    <span class="s1">noDelay</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5013"><span class="ln">5013 </span></a>    <span class="s5">/** Force server to assign `_id` values instead of driver */</span>
<a name="l5014"><span class="ln">5014 </span></a>    <span class="s1">forceServerObjectId</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5015"><span class="ln">5015 </span></a>    <span class="s5">/** A primary key factory function for generation of custom `_id` keys */</span>
<a name="l5016"><span class="ln">5016 </span></a>    <span class="s1">pkFactory</span><span class="s3">?: </span><span class="s1">PkFactory</span><span class="s3">;</span>
<a name="l5017"><span class="ln">5017 </span></a>    <span class="s5">/** Enable command monitoring for this client */</span>
<a name="l5018"><span class="ln">5018 </span></a>    <span class="s1">monitorCommands</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5019"><span class="ln">5019 </span></a>    <span class="s5">/** Server API version */</span>
<a name="l5020"><span class="ln">5020 </span></a>    <span class="s1">serverApi</span><span class="s3">?: </span><span class="s1">ServerApi </span><span class="s3">| </span><span class="s1">ServerApiVersion</span><span class="s3">;</span>
<a name="l5021"><span class="ln">5021 </span></a>    <span class="s5">/**</span>
<a name="l5022"><span class="ln">5022 </span></a>     <span class="s5">* Optionally enable in-use auto encryption</span>
<a name="l5023"><span class="ln">5023 </span></a>     <span class="s5">*</span>
<a name="l5024"><span class="ln">5024 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5025"><span class="ln">5025 </span></a>     <span class="s5">*  Automatic encryption is an enterprise only feature that only applies to operations on a collection. Automatic encryption is not supported for operations on a database or view, and operations that are not bypassed will result in error</span>
<a name="l5026"><span class="ln">5026 </span></a>     <span class="s5">*  (see [libmongocrypt: Auto Encryption Allow-List](https://github.com/mongodb/specifications/blob/master/source/client-side-encryption/client-side-encryption.rst#libmongocrypt-auto-encryption-allow-list)). To bypass automatic encryption for all operations, set bypassAutoEncryption=true in AutoEncryptionOpts.</span>
<a name="l5027"><span class="ln">5027 </span></a>     <span class="s5">*</span>
<a name="l5028"><span class="ln">5028 </span></a>     <span class="s5">*  Automatic encryption requires the authenticated user to have the [listCollections privilege action](https://www.mongodb.com/docs/manual/reference/command/listCollections/#dbcmd.listCollections).</span>
<a name="l5029"><span class="ln">5029 </span></a>     <span class="s5">*</span>
<a name="l5030"><span class="ln">5030 </span></a>     <span class="s5">*  If a MongoClient with a limited connection pool size (i.e a non-zero maxPoolSize) is configured with AutoEncryptionOptions, a separate internal MongoClient is created if any of the following are true:</span>
<a name="l5031"><span class="ln">5031 </span></a>     <span class="s5">*  - AutoEncryptionOptions.keyVaultClient is not passed.</span>
<a name="l5032"><span class="ln">5032 </span></a>     <span class="s5">*  - AutoEncryptionOptions.bypassAutomaticEncryption is false.</span>
<a name="l5033"><span class="ln">5033 </span></a>     <span class="s5">*</span>
<a name="l5034"><span class="ln">5034 </span></a>     <span class="s5">* If an internal MongoClient is created, it is configured with the same options as the parent MongoClient except minPoolSize is set to 0 and AutoEncryptionOptions is omitted.</span>
<a name="l5035"><span class="ln">5035 </span></a>     <span class="s5">*/</span>
<a name="l5036"><span class="ln">5036 </span></a>    <span class="s1">autoEncryption</span><span class="s3">?: </span><span class="s1">AutoEncryptionOptions</span><span class="s3">;</span>
<a name="l5037"><span class="ln">5037 </span></a>    <span class="s5">/** Allows a wrapping driver to amend the client metadata generated by the driver to include information about the wrapping driver */</span>
<a name="l5038"><span class="ln">5038 </span></a>    <span class="s1">driverInfo</span><span class="s3">?: </span><span class="s1">DriverInfo</span><span class="s3">;</span>
<a name="l5039"><span class="ln">5039 </span></a>    <span class="s5">/** Configures a Socks5 proxy host used for creating TCP connections. */</span>
<a name="l5040"><span class="ln">5040 </span></a>    <span class="s1">proxyHost</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5041"><span class="ln">5041 </span></a>    <span class="s5">/** Configures a Socks5 proxy port used for creating TCP connections. */</span>
<a name="l5042"><span class="ln">5042 </span></a>    <span class="s1">proxyPort</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l5043"><span class="ln">5043 </span></a>    <span class="s5">/** Configures a Socks5 proxy username when the proxy in proxyHost requires username/password authentication. */</span>
<a name="l5044"><span class="ln">5044 </span></a>    <span class="s1">proxyUsername</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5045"><span class="ln">5045 </span></a>    <span class="s5">/** Configures a Socks5 proxy password when the proxy in proxyHost requires username/password authentication. */</span>
<a name="l5046"><span class="ln">5046 </span></a>    <span class="s1">proxyPassword</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5047"><span class="ln">5047 </span></a>    <span class="s5">/** Instructs the driver monitors to use a specific monitoring mode */</span>
<a name="l5048"><span class="ln">5048 </span></a>    <span class="s1">serverMonitoringMode</span><span class="s3">?: </span><span class="s1">ServerMonitoringMode</span><span class="s3">;</span>
<a name="l5049"><span class="ln">5049 </span></a>    <span class="s0">/* Excluded from this release type: srvPoller */</span>
<a name="l5050"><span class="ln">5050 </span></a>    <span class="s0">/* Excluded from this release type: connectionType */</span>
<a name="l5051"><span class="ln">5051 </span></a>    <span class="s0">/* Excluded from this release type: mongodbLogPath */</span>
<a name="l5052"><span class="ln">5052 </span></a>    <span class="s0">/* Excluded from this release type: mongodbLogComponentSeverities */</span>
<a name="l5053"><span class="ln">5053 </span></a>    <span class="s0">/* Excluded from this release type: mongodbLogMaxDocumentLength */</span>
<a name="l5054"><span class="ln">5054 </span></a>    <span class="s0">/* Excluded from this release type: __index */</span>
<a name="l5055"><span class="ln">5055 </span></a><span class="s3">}</span>
<a name="l5056"><span class="ln">5056 </span></a>
<a name="l5057"><span class="ln">5057 </span></a><span class="s0">/* Excluded from this release type: MongoClientPrivate */</span>
<a name="l5058"><span class="ln">5058 </span></a>
<a name="l5059"><span class="ln">5059 </span></a><span class="s5">/**</span>
<a name="l5060"><span class="ln">5060 </span></a> <span class="s5">* An error generated when a feature that is not enabled or allowed for the current server</span>
<a name="l5061"><span class="ln">5061 </span></a> <span class="s5">* configuration is used</span>
<a name="l5062"><span class="ln">5062 </span></a> <span class="s5">*</span>
<a name="l5063"><span class="ln">5063 </span></a> <span class="s5">*</span>
<a name="l5064"><span class="ln">5064 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5065"><span class="ln">5065 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5066"><span class="ln">5066 </span></a> <span class="s5">*/</span>
<a name="l5067"><span class="ln">5067 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCompatibilityError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5068"><span class="ln">5068 </span></a>    <span class="s5">/**</span>
<a name="l5069"><span class="ln">5069 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5070"><span class="ln">5070 </span></a>     <span class="s5">*</span>
<a name="l5071"><span class="ln">5071 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5072"><span class="ln">5072 </span></a>     <span class="s5">*</span>
<a name="l5073"><span class="ln">5073 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5074"><span class="ln">5074 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5075"><span class="ln">5075 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5076"><span class="ln">5076 </span></a>     <span class="s5">*</span>
<a name="l5077"><span class="ln">5077 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5078"><span class="ln">5078 </span></a>     <span class="s5">**/</span>
<a name="l5079"><span class="ln">5079 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5080"><span class="ln">5080 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5081"><span class="ln">5081 </span></a><span class="s3">}</span>
<a name="l5082"><span class="ln">5082 </span></a>
<a name="l5083"><span class="ln">5083 </span></a><span class="s5">/**</span>
<a name="l5084"><span class="ln">5084 </span></a> <span class="s5">* A representation of the credentials used by MongoDB</span>
<a name="l5085"><span class="ln">5085 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5086"><span class="ln">5086 </span></a> <span class="s5">*/</span>
<a name="l5087"><span class="ln">5087 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCredentials </span><span class="s3">{</span>
<a name="l5088"><span class="ln">5088 </span></a>    <span class="s5">/** The username used for authentication */</span>
<a name="l5089"><span class="ln">5089 </span></a>    <span class="s1">readonly username</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5090"><span class="ln">5090 </span></a>    <span class="s5">/** The password used for authentication */</span>
<a name="l5091"><span class="ln">5091 </span></a>    <span class="s1">readonly password</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5092"><span class="ln">5092 </span></a>    <span class="s5">/** The database that the user should authenticate against */</span>
<a name="l5093"><span class="ln">5093 </span></a>    <span class="s1">readonly source</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5094"><span class="ln">5094 </span></a>    <span class="s5">/** The method used to authenticate */</span>
<a name="l5095"><span class="ln">5095 </span></a>    <span class="s1">readonly mechanism</span><span class="s3">: </span><span class="s1">AuthMechanism</span><span class="s3">;</span>
<a name="l5096"><span class="ln">5096 </span></a>    <span class="s5">/** Special properties used by some types of auth mechanisms */</span>
<a name="l5097"><span class="ln">5097 </span></a>    <span class="s1">readonly mechanismProperties</span><span class="s3">: </span><span class="s1">AuthMechanismProperties</span><span class="s3">;</span>
<a name="l5098"><span class="ln">5098 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">options</span><span class="s3">: </span><span class="s1">MongoCredentialsOptions</span><span class="s3">);</span>
<a name="l5099"><span class="ln">5099 </span></a>    <span class="s5">/** Determines if two MongoCredentials objects are equivalent */</span>
<a name="l5100"><span class="ln">5100 </span></a>    <span class="s1">equals</span><span class="s3">(</span><span class="s1">other</span><span class="s3">: </span><span class="s1">MongoCredentials</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5101"><span class="ln">5101 </span></a>    <span class="s5">/**</span>
<a name="l5102"><span class="ln">5102 </span></a>     <span class="s5">* If the authentication mechanism is set to &quot;default&quot;, resolves the authMechanism</span>
<a name="l5103"><span class="ln">5103 </span></a>     <span class="s5">* based on the server version and server supported sasl mechanisms.</span>
<a name="l5104"><span class="ln">5104 </span></a>     <span class="s5">*</span>
<a name="l5105"><span class="ln">5105 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">hello - A hello response from the server</span>
<a name="l5106"><span class="ln">5106 </span></a>     <span class="s5">*/</span>
<a name="l5107"><span class="ln">5107 </span></a>    <span class="s1">resolveAuthMechanism</span><span class="s3">(</span><span class="s1">hello</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">): </span><span class="s1">MongoCredentials</span><span class="s3">;</span>
<a name="l5108"><span class="ln">5108 </span></a>    <span class="s1">validate</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l5109"><span class="ln">5109 </span></a>    <span class="s2">static </span><span class="s1">merge</span><span class="s3">(</span><span class="s1">creds</span><span class="s3">: </span><span class="s1">MongoCredentials </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">, </span><span class="s1">options</span><span class="s3">: </span><span class="s1">Partial</span><span class="s3">&lt;</span><span class="s1">MongoCredentialsOptions</span><span class="s3">&gt;): </span><span class="s1">MongoCredentials</span><span class="s3">;</span>
<a name="l5110"><span class="ln">5110 </span></a><span class="s3">}</span>
<a name="l5111"><span class="ln">5111 </span></a>
<a name="l5112"><span class="ln">5112 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l5113"><span class="ln">5113 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">MongoCredentialsOptions </span><span class="s3">{</span>
<a name="l5114"><span class="ln">5114 </span></a>    <span class="s1">username</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5115"><span class="ln">5115 </span></a>    <span class="s1">password</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5116"><span class="ln">5116 </span></a>    <span class="s1">source</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5117"><span class="ln">5117 </span></a>    <span class="s1">db</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5118"><span class="ln">5118 </span></a>    <span class="s1">mechanism</span><span class="s3">?: </span><span class="s1">AuthMechanism</span><span class="s3">;</span>
<a name="l5119"><span class="ln">5119 </span></a>    <span class="s1">mechanismProperties</span><span class="s3">: </span><span class="s1">AuthMechanismProperties</span><span class="s3">;</span>
<a name="l5120"><span class="ln">5120 </span></a><span class="s3">}</span>
<a name="l5121"><span class="ln">5121 </span></a>
<a name="l5122"><span class="ln">5122 </span></a><span class="s5">/**</span>
<a name="l5123"><span class="ln">5123 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5124"><span class="ln">5124 </span></a> <span class="s5">* An error indicating that mongodb-client-encryption failed to auto-refresh Azure KMS credentials.</span>
<a name="l5125"><span class="ln">5125 </span></a> <span class="s5">*/</span>
<a name="l5126"><span class="ln">5126 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCryptAzureKMSRequestError </span><span class="s2">extends </span><span class="s1">MongoCryptError </span><span class="s3">{</span>
<a name="l5127"><span class="ln">5127 </span></a>    <span class="s5">/** The body of the http response that failed, if present. */</span>
<a name="l5128"><span class="ln">5128 </span></a>    <span class="s1">body</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l5129"><span class="ln">5129 </span></a>    <span class="s5">/**</span>
<a name="l5130"><span class="ln">5130 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5131"><span class="ln">5131 </span></a>     <span class="s5">*</span>
<a name="l5132"><span class="ln">5132 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5133"><span class="ln">5133 </span></a>     <span class="s5">*</span>
<a name="l5134"><span class="ln">5134 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5135"><span class="ln">5135 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5136"><span class="ln">5136 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5137"><span class="ln">5137 </span></a>     <span class="s5">*</span>
<a name="l5138"><span class="ln">5138 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5139"><span class="ln">5139 </span></a>     <span class="s5">**/</span>
<a name="l5140"><span class="ln">5140 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">body</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">);</span>
<a name="l5141"><span class="ln">5141 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5142"><span class="ln">5142 </span></a><span class="s3">}</span>
<a name="l5143"><span class="ln">5143 </span></a>
<a name="l5144"><span class="ln">5144 </span></a><span class="s5">/**</span>
<a name="l5145"><span class="ln">5145 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5146"><span class="ln">5146 </span></a> <span class="s5">* An error indicating that `ClientEncryption.createEncryptedCollection()` failed to create data keys</span>
<a name="l5147"><span class="ln">5147 </span></a> <span class="s5">*/</span>
<a name="l5148"><span class="ln">5148 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCryptCreateDataKeyError </span><span class="s2">extends </span><span class="s1">MongoCryptError </span><span class="s3">{</span>
<a name="l5149"><span class="ln">5149 </span></a>    <span class="s1">encryptedFields</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l5150"><span class="ln">5150 </span></a>    <span class="s5">/**</span>
<a name="l5151"><span class="ln">5151 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5152"><span class="ln">5152 </span></a>     <span class="s5">*</span>
<a name="l5153"><span class="ln">5153 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5154"><span class="ln">5154 </span></a>     <span class="s5">*</span>
<a name="l5155"><span class="ln">5155 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5156"><span class="ln">5156 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5157"><span class="ln">5157 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5158"><span class="ln">5158 </span></a>     <span class="s5">*</span>
<a name="l5159"><span class="ln">5159 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5160"><span class="ln">5160 </span></a>     <span class="s5">**/</span>
<a name="l5161"><span class="ln">5161 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">encryptedFields</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, { </span><span class="s1">cause </span><span class="s3">}: {</span>
<a name="l5162"><span class="ln">5162 </span></a>        <span class="s1">cause</span><span class="s3">: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5163"><span class="ln">5163 </span></a>    <span class="s3">});</span>
<a name="l5164"><span class="ln">5164 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5165"><span class="ln">5165 </span></a><span class="s3">}</span>
<a name="l5166"><span class="ln">5166 </span></a>
<a name="l5167"><span class="ln">5167 </span></a><span class="s5">/**</span>
<a name="l5168"><span class="ln">5168 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5169"><span class="ln">5169 </span></a> <span class="s5">* An error indicating that `ClientEncryption.createEncryptedCollection()` failed to create a collection</span>
<a name="l5170"><span class="ln">5170 </span></a> <span class="s5">*/</span>
<a name="l5171"><span class="ln">5171 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCryptCreateEncryptedCollectionError </span><span class="s2">extends </span><span class="s1">MongoCryptError </span><span class="s3">{</span>
<a name="l5172"><span class="ln">5172 </span></a>    <span class="s1">encryptedFields</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l5173"><span class="ln">5173 </span></a>    <span class="s5">/**</span>
<a name="l5174"><span class="ln">5174 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5175"><span class="ln">5175 </span></a>     <span class="s5">*</span>
<a name="l5176"><span class="ln">5176 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5177"><span class="ln">5177 </span></a>     <span class="s5">*</span>
<a name="l5178"><span class="ln">5178 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5179"><span class="ln">5179 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5180"><span class="ln">5180 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5181"><span class="ln">5181 </span></a>     <span class="s5">*</span>
<a name="l5182"><span class="ln">5182 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5183"><span class="ln">5183 </span></a>     <span class="s5">**/</span>
<a name="l5184"><span class="ln">5184 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">encryptedFields</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, { </span><span class="s1">cause </span><span class="s3">}: {</span>
<a name="l5185"><span class="ln">5185 </span></a>        <span class="s1">cause</span><span class="s3">: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5186"><span class="ln">5186 </span></a>    <span class="s3">});</span>
<a name="l5187"><span class="ln">5187 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5188"><span class="ln">5188 </span></a><span class="s3">}</span>
<a name="l5189"><span class="ln">5189 </span></a>
<a name="l5190"><span class="ln">5190 </span></a><span class="s0">/* Excluded from this release type: MongocryptdManager */</span>
<a name="l5191"><span class="ln">5191 </span></a>
<a name="l5192"><span class="ln">5192 </span></a><span class="s5">/**</span>
<a name="l5193"><span class="ln">5193 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5194"><span class="ln">5194 </span></a> <span class="s5">* An error indicating that something went wrong specifically with MongoDB Client Encryption</span>
<a name="l5195"><span class="ln">5195 </span></a> <span class="s5">*/</span>
<a name="l5196"><span class="ln">5196 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCryptError </span><span class="s2">extends </span><span class="s1">MongoError </span><span class="s3">{</span>
<a name="l5197"><span class="ln">5197 </span></a>    <span class="s5">/**</span>
<a name="l5198"><span class="ln">5198 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5199"><span class="ln">5199 </span></a>     <span class="s5">*</span>
<a name="l5200"><span class="ln">5200 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5201"><span class="ln">5201 </span></a>     <span class="s5">*</span>
<a name="l5202"><span class="ln">5202 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5203"><span class="ln">5203 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5204"><span class="ln">5204 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5205"><span class="ln">5205 </span></a>     <span class="s5">*</span>
<a name="l5206"><span class="ln">5206 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5207"><span class="ln">5207 </span></a>     <span class="s5">**/</span>
<a name="l5208"><span class="ln">5208 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: {</span>
<a name="l5209"><span class="ln">5209 </span></a>        <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5210"><span class="ln">5210 </span></a>    <span class="s3">});</span>
<a name="l5211"><span class="ln">5211 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5212"><span class="ln">5212 </span></a><span class="s3">}</span>
<a name="l5213"><span class="ln">5213 </span></a>
<a name="l5214"><span class="ln">5214 </span></a><span class="s5">/**</span>
<a name="l5215"><span class="ln">5215 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5216"><span class="ln">5216 </span></a> <span class="s5">*</span>
<a name="l5217"><span class="ln">5217 </span></a> <span class="s5">* An error indicating an invalid argument was provided to an encryption API.</span>
<a name="l5218"><span class="ln">5218 </span></a> <span class="s5">*/</span>
<a name="l5219"><span class="ln">5219 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCryptInvalidArgumentError </span><span class="s2">extends </span><span class="s1">MongoCryptError </span><span class="s3">{</span>
<a name="l5220"><span class="ln">5220 </span></a>    <span class="s5">/**</span>
<a name="l5221"><span class="ln">5221 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5222"><span class="ln">5222 </span></a>     <span class="s5">*</span>
<a name="l5223"><span class="ln">5223 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5224"><span class="ln">5224 </span></a>     <span class="s5">*</span>
<a name="l5225"><span class="ln">5225 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5226"><span class="ln">5226 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5227"><span class="ln">5227 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5228"><span class="ln">5228 </span></a>     <span class="s5">*</span>
<a name="l5229"><span class="ln">5229 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5230"><span class="ln">5230 </span></a>     <span class="s5">**/</span>
<a name="l5231"><span class="ln">5231 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5232"><span class="ln">5232 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5233"><span class="ln">5233 </span></a><span class="s3">}</span>
<a name="l5234"><span class="ln">5234 </span></a>
<a name="l5235"><span class="ln">5235 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l5236"><span class="ln">5236 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCryptKMSRequestNetworkTimeoutError </span><span class="s2">extends </span><span class="s1">MongoCryptError </span><span class="s3">{</span>
<a name="l5237"><span class="ln">5237 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5238"><span class="ln">5238 </span></a><span class="s3">}</span>
<a name="l5239"><span class="ln">5239 </span></a>
<a name="l5240"><span class="ln">5240 </span></a><span class="s5">/**</span>
<a name="l5241"><span class="ln">5241 </span></a> <span class="s5">* An error thrown when an attempt is made to read from a cursor that has been exhausted</span>
<a name="l5242"><span class="ln">5242 </span></a> <span class="s5">*</span>
<a name="l5243"><span class="ln">5243 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5244"><span class="ln">5244 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5245"><span class="ln">5245 </span></a> <span class="s5">*/</span>
<a name="l5246"><span class="ln">5246 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCursorExhaustedError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5247"><span class="ln">5247 </span></a>    <span class="s5">/**</span>
<a name="l5248"><span class="ln">5248 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5249"><span class="ln">5249 </span></a>     <span class="s5">*</span>
<a name="l5250"><span class="ln">5250 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5251"><span class="ln">5251 </span></a>     <span class="s5">*</span>
<a name="l5252"><span class="ln">5252 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5253"><span class="ln">5253 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5254"><span class="ln">5254 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5255"><span class="ln">5255 </span></a>     <span class="s5">*</span>
<a name="l5256"><span class="ln">5256 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5257"><span class="ln">5257 </span></a>     <span class="s5">**/</span>
<a name="l5258"><span class="ln">5258 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5259"><span class="ln">5259 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5260"><span class="ln">5260 </span></a><span class="s3">}</span>
<a name="l5261"><span class="ln">5261 </span></a>
<a name="l5262"><span class="ln">5262 </span></a><span class="s5">/**</span>
<a name="l5263"><span class="ln">5263 </span></a> <span class="s5">* An error thrown when the user attempts to add options to a cursor that has already been</span>
<a name="l5264"><span class="ln">5264 </span></a> <span class="s5">* initialized</span>
<a name="l5265"><span class="ln">5265 </span></a> <span class="s5">*</span>
<a name="l5266"><span class="ln">5266 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5267"><span class="ln">5267 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5268"><span class="ln">5268 </span></a> <span class="s5">*/</span>
<a name="l5269"><span class="ln">5269 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoCursorInUseError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5270"><span class="ln">5270 </span></a>    <span class="s5">/**</span>
<a name="l5271"><span class="ln">5271 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5272"><span class="ln">5272 </span></a>     <span class="s5">*</span>
<a name="l5273"><span class="ln">5273 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5274"><span class="ln">5274 </span></a>     <span class="s5">*</span>
<a name="l5275"><span class="ln">5275 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5276"><span class="ln">5276 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5277"><span class="ln">5277 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5278"><span class="ln">5278 </span></a>     <span class="s5">*</span>
<a name="l5279"><span class="ln">5279 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5280"><span class="ln">5280 </span></a>     <span class="s5">**/</span>
<a name="l5281"><span class="ln">5281 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5282"><span class="ln">5282 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5283"><span class="ln">5283 </span></a><span class="s3">}</span>
<a name="l5284"><span class="ln">5284 </span></a>
<a name="l5285"><span class="ln">5285 </span></a><span class="s5">/**</span>
<a name="l5286"><span class="ln">5286 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5287"><span class="ln">5287 </span></a> <span class="s5">*</span>
<a name="l5288"><span class="ln">5288 </span></a> <span class="s5">* A class representing a collection's namespace.  This class enforces (through Typescript) that</span>
<a name="l5289"><span class="ln">5289 </span></a> <span class="s5">* the `collection` portion of the namespace is defined and should only be</span>
<a name="l5290"><span class="ln">5290 </span></a> <span class="s5">* used in scenarios where this can be guaranteed.</span>
<a name="l5291"><span class="ln">5291 </span></a> <span class="s5">*/</span>
<a name="l5292"><span class="ln">5292 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoDBCollectionNamespace </span><span class="s2">extends </span><span class="s1">MongoDBNamespace </span><span class="s3">{</span>
<a name="l5293"><span class="ln">5293 </span></a>    <span class="s1">collection</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5294"><span class="ln">5294 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">db</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">collection</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5295"><span class="ln">5295 </span></a>    <span class="s2">static </span><span class="s1">fromString</span><span class="s3">(</span><span class="s1">namespace</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">MongoDBCollectionNamespace</span><span class="s3">;</span>
<a name="l5296"><span class="ln">5296 </span></a><span class="s3">}</span>
<a name="l5297"><span class="ln">5297 </span></a>
<a name="l5298"><span class="ln">5298 </span></a><span class="s0">/* Excluded from this release type: MongoDBLogWritable */</span>
<a name="l5299"><span class="ln">5299 </span></a>
<a name="l5300"><span class="ln">5300 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l5301"><span class="ln">5301 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoDBNamespace </span><span class="s3">{</span>
<a name="l5302"><span class="ln">5302 </span></a>    <span class="s1">db</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5303"><span class="ln">5303 </span></a>    <span class="s1">collection</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l5304"><span class="ln">5304 </span></a>    <span class="s5">/**</span>
<a name="l5305"><span class="ln">5305 </span></a>     <span class="s5">* Create a namespace object</span>
<a name="l5306"><span class="ln">5306 </span></a>     <span class="s5">*</span>
<a name="l5307"><span class="ln">5307 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">db - database name</span>
<a name="l5308"><span class="ln">5308 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">collection - collection name</span>
<a name="l5309"><span class="ln">5309 </span></a>     <span class="s5">*/</span>
<a name="l5310"><span class="ln">5310 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">db</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">collection</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">);</span>
<a name="l5311"><span class="ln">5311 </span></a>    <span class="s1">toString</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5312"><span class="ln">5312 </span></a>    <span class="s1">withCollection</span><span class="s3">(</span><span class="s1">collection</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">MongoDBCollectionNamespace</span><span class="s3">;</span>
<a name="l5313"><span class="ln">5313 </span></a>    <span class="s2">static </span><span class="s1">fromString</span><span class="s3">(</span><span class="s1">namespace</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">MongoDBNamespace</span><span class="s3">;</span>
<a name="l5314"><span class="ln">5314 </span></a><span class="s3">}</span>
<a name="l5315"><span class="ln">5315 </span></a>
<a name="l5316"><span class="ln">5316 </span></a><span class="s5">/**</span>
<a name="l5317"><span class="ln">5317 </span></a> <span class="s5">* An error generated when the driver fails to decompress</span>
<a name="l5318"><span class="ln">5318 </span></a> <span class="s5">* data received from the server.</span>
<a name="l5319"><span class="ln">5319 </span></a> <span class="s5">*</span>
<a name="l5320"><span class="ln">5320 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5321"><span class="ln">5321 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5322"><span class="ln">5322 </span></a> <span class="s5">*/</span>
<a name="l5323"><span class="ln">5323 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoDecompressionError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l5324"><span class="ln">5324 </span></a>    <span class="s5">/**</span>
<a name="l5325"><span class="ln">5325 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5326"><span class="ln">5326 </span></a>     <span class="s5">*</span>
<a name="l5327"><span class="ln">5327 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5328"><span class="ln">5328 </span></a>     <span class="s5">*</span>
<a name="l5329"><span class="ln">5329 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5330"><span class="ln">5330 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5331"><span class="ln">5331 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5332"><span class="ln">5332 </span></a>     <span class="s5">*</span>
<a name="l5333"><span class="ln">5333 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5334"><span class="ln">5334 </span></a>     <span class="s5">**/</span>
<a name="l5335"><span class="ln">5335 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5336"><span class="ln">5336 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5337"><span class="ln">5337 </span></a><span class="s3">}</span>
<a name="l5338"><span class="ln">5338 </span></a>
<a name="l5339"><span class="ln">5339 </span></a><span class="s5">/**</span>
<a name="l5340"><span class="ln">5340 </span></a> <span class="s5">* An error generated by the driver</span>
<a name="l5341"><span class="ln">5341 </span></a> <span class="s5">*</span>
<a name="l5342"><span class="ln">5342 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5343"><span class="ln">5343 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5344"><span class="ln">5344 </span></a> <span class="s5">*/</span>
<a name="l5345"><span class="ln">5345 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoDriverError </span><span class="s2">extends </span><span class="s1">MongoError </span><span class="s3">{</span>
<a name="l5346"><span class="ln">5346 </span></a>    <span class="s5">/**</span>
<a name="l5347"><span class="ln">5347 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5348"><span class="ln">5348 </span></a>     <span class="s5">*</span>
<a name="l5349"><span class="ln">5349 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5350"><span class="ln">5350 </span></a>     <span class="s5">*</span>
<a name="l5351"><span class="ln">5351 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5352"><span class="ln">5352 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5353"><span class="ln">5353 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5354"><span class="ln">5354 </span></a>     <span class="s5">*</span>
<a name="l5355"><span class="ln">5355 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5356"><span class="ln">5356 </span></a>     <span class="s5">**/</span>
<a name="l5357"><span class="ln">5357 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: {</span>
<a name="l5358"><span class="ln">5358 </span></a>        <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5359"><span class="ln">5359 </span></a>    <span class="s3">});</span>
<a name="l5360"><span class="ln">5360 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5361"><span class="ln">5361 </span></a><span class="s3">}</span>
<a name="l5362"><span class="ln">5362 </span></a>
<a name="l5363"><span class="ln">5363 </span></a><span class="s5">/**</span>
<a name="l5364"><span class="ln">5364 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5365"><span class="ln">5365 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5366"><span class="ln">5366 </span></a> <span class="s5">*</span>
<a name="l5367"><span class="ln">5367 </span></a> <span class="s5">* </span><span class="s6">@privateRemarks</span>
<a name="l5368"><span class="ln">5368 </span></a> <span class="s5">* mongodb-client-encryption has a dependency on this error, it uses the constructor with a string argument</span>
<a name="l5369"><span class="ln">5369 </span></a> <span class="s5">*/</span>
<a name="l5370"><span class="ln">5370 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoError </span><span class="s2">extends </span><span class="s1">Error </span><span class="s3">{</span>
<a name="l5371"><span class="ln">5371 </span></a>    <span class="s0">/* Excluded from this release type: [kErrorLabels] */</span>
<a name="l5372"><span class="ln">5372 </span></a>    <span class="s5">/**</span>
<a name="l5373"><span class="ln">5373 </span></a>     <span class="s5">* This is a number in MongoServerError and a string in MongoDriverError</span>
<a name="l5374"><span class="ln">5374 </span></a>     <span class="s5">* </span><span class="s6">@privateRemarks</span>
<a name="l5375"><span class="ln">5375 </span></a>     <span class="s5">* Define the type override on the subclasses when we can use the override keyword</span>
<a name="l5376"><span class="ln">5376 </span></a>     <span class="s5">*/</span>
<a name="l5377"><span class="ln">5377 </span></a>    <span class="s1">code</span><span class="s3">?: </span><span class="s1">number </span><span class="s3">| </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5378"><span class="ln">5378 </span></a>    <span class="s1">topologyVersion</span><span class="s3">?: </span><span class="s1">TopologyVersion</span><span class="s3">;</span>
<a name="l5379"><span class="ln">5379 </span></a>    <span class="s1">connectionGeneration</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l5380"><span class="ln">5380 </span></a>    <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5381"><span class="ln">5381 </span></a>    <span class="s5">/**</span>
<a name="l5382"><span class="ln">5382 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5383"><span class="ln">5383 </span></a>     <span class="s5">*</span>
<a name="l5384"><span class="ln">5384 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5385"><span class="ln">5385 </span></a>     <span class="s5">*</span>
<a name="l5386"><span class="ln">5386 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5387"><span class="ln">5387 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5388"><span class="ln">5388 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5389"><span class="ln">5389 </span></a>     <span class="s5">*</span>
<a name="l5390"><span class="ln">5390 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5391"><span class="ln">5391 </span></a>     <span class="s5">**/</span>
<a name="l5392"><span class="ln">5392 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: {</span>
<a name="l5393"><span class="ln">5393 </span></a>        <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5394"><span class="ln">5394 </span></a>    <span class="s3">});</span>
<a name="l5395"><span class="ln">5395 </span></a>    <span class="s0">/* Excluded from this release type: buildErrorMessage */</span>
<a name="l5396"><span class="ln">5396 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5397"><span class="ln">5397 </span></a>    <span class="s5">/** Legacy name for server error responses */</span>
<a name="l5398"><span class="ln">5398 </span></a>    <span class="s1">get errmsg</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5399"><span class="ln">5399 </span></a>    <span class="s5">/**</span>
<a name="l5400"><span class="ln">5400 </span></a>     <span class="s5">* Checks the error to see if it has an error label</span>
<a name="l5401"><span class="ln">5401 </span></a>     <span class="s5">*</span>
<a name="l5402"><span class="ln">5402 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">label - The error label to check for</span>
<a name="l5403"><span class="ln">5403 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">returns true if the error has the provided error label</span>
<a name="l5404"><span class="ln">5404 </span></a>     <span class="s5">*/</span>
<a name="l5405"><span class="ln">5405 </span></a>    <span class="s1">hasErrorLabel</span><span class="s3">(</span><span class="s1">label</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5406"><span class="ln">5406 </span></a>    <span class="s1">addErrorLabel</span><span class="s3">(</span><span class="s1">label</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l5407"><span class="ln">5407 </span></a>    <span class="s1">get errorLabels</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l5408"><span class="ln">5408 </span></a><span class="s3">}</span>
<a name="l5409"><span class="ln">5409 </span></a>
<a name="l5410"><span class="ln">5410 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l5411"><span class="ln">5411 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">MongoErrorLabel</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l5412"><span class="ln">5412 </span></a>    <span class="s1">readonly RetryableWriteError</span><span class="s3">: </span><span class="s4">&quot;RetryableWriteError&quot;</span><span class="s3">;</span>
<a name="l5413"><span class="ln">5413 </span></a>    <span class="s1">readonly TransientTransactionError</span><span class="s3">: </span><span class="s4">&quot;TransientTransactionError&quot;</span><span class="s3">;</span>
<a name="l5414"><span class="ln">5414 </span></a>    <span class="s1">readonly UnknownTransactionCommitResult</span><span class="s3">: </span><span class="s4">&quot;UnknownTransactionCommitResult&quot;</span><span class="s3">;</span>
<a name="l5415"><span class="ln">5415 </span></a>    <span class="s1">readonly ResumableChangeStreamError</span><span class="s3">: </span><span class="s4">&quot;ResumableChangeStreamError&quot;</span><span class="s3">;</span>
<a name="l5416"><span class="ln">5416 </span></a>    <span class="s1">readonly HandshakeError</span><span class="s3">: </span><span class="s4">&quot;HandshakeError&quot;</span><span class="s3">;</span>
<a name="l5417"><span class="ln">5417 </span></a>    <span class="s1">readonly ResetPool</span><span class="s3">: </span><span class="s4">&quot;ResetPool&quot;</span><span class="s3">;</span>
<a name="l5418"><span class="ln">5418 </span></a>    <span class="s1">readonly PoolRequstedRetry</span><span class="s3">: </span><span class="s4">&quot;PoolRequstedRetry&quot;</span><span class="s3">;</span>
<a name="l5419"><span class="ln">5419 </span></a>    <span class="s1">readonly InterruptInUseConnections</span><span class="s3">: </span><span class="s4">&quot;InterruptInUseConnections&quot;</span><span class="s3">;</span>
<a name="l5420"><span class="ln">5420 </span></a>    <span class="s1">readonly NoWritesPerformed</span><span class="s3">: </span><span class="s4">&quot;NoWritesPerformed&quot;</span><span class="s3">;</span>
<a name="l5421"><span class="ln">5421 </span></a><span class="s3">}&gt;;</span>
<a name="l5422"><span class="ln">5422 </span></a>
<a name="l5423"><span class="ln">5423 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l5424"><span class="ln">5424 </span></a><span class="s2">export </span><span class="s1">declare type MongoErrorLabel </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">MongoErrorLabel</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">MongoErrorLabel</span><span class="s3">];</span>
<a name="l5425"><span class="ln">5425 </span></a>
<a name="l5426"><span class="ln">5426 </span></a><span class="s5">/**</span>
<a name="l5427"><span class="ln">5427 </span></a> <span class="s5">* An error generated when the user attempts to operate</span>
<a name="l5428"><span class="ln">5428 </span></a> <span class="s5">* on a session that has expired or has been closed.</span>
<a name="l5429"><span class="ln">5429 </span></a> <span class="s5">*</span>
<a name="l5430"><span class="ln">5430 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5431"><span class="ln">5431 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5432"><span class="ln">5432 </span></a> <span class="s5">*/</span>
<a name="l5433"><span class="ln">5433 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoExpiredSessionError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5434"><span class="ln">5434 </span></a>    <span class="s5">/**</span>
<a name="l5435"><span class="ln">5435 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5436"><span class="ln">5436 </span></a>     <span class="s5">*</span>
<a name="l5437"><span class="ln">5437 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5438"><span class="ln">5438 </span></a>     <span class="s5">*</span>
<a name="l5439"><span class="ln">5439 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5440"><span class="ln">5440 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5441"><span class="ln">5441 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5442"><span class="ln">5442 </span></a>     <span class="s5">*</span>
<a name="l5443"><span class="ln">5443 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5444"><span class="ln">5444 </span></a>     <span class="s5">**/</span>
<a name="l5445"><span class="ln">5445 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5446"><span class="ln">5446 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5447"><span class="ln">5447 </span></a><span class="s3">}</span>
<a name="l5448"><span class="ln">5448 </span></a>
<a name="l5449"><span class="ln">5449 </span></a><span class="s5">/**</span>
<a name="l5450"><span class="ln">5450 </span></a> <span class="s5">* An error generated when a malformed or invalid chunk is</span>
<a name="l5451"><span class="ln">5451 </span></a> <span class="s5">* encountered when reading from a GridFSStream.</span>
<a name="l5452"><span class="ln">5452 </span></a> <span class="s5">*</span>
<a name="l5453"><span class="ln">5453 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5454"><span class="ln">5454 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5455"><span class="ln">5455 </span></a> <span class="s5">*/</span>
<a name="l5456"><span class="ln">5456 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoGridFSChunkError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l5457"><span class="ln">5457 </span></a>    <span class="s5">/**</span>
<a name="l5458"><span class="ln">5458 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5459"><span class="ln">5459 </span></a>     <span class="s5">*</span>
<a name="l5460"><span class="ln">5460 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5461"><span class="ln">5461 </span></a>     <span class="s5">*</span>
<a name="l5462"><span class="ln">5462 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5463"><span class="ln">5463 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5464"><span class="ln">5464 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5465"><span class="ln">5465 </span></a>     <span class="s5">*</span>
<a name="l5466"><span class="ln">5466 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5467"><span class="ln">5467 </span></a>     <span class="s5">**/</span>
<a name="l5468"><span class="ln">5468 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5469"><span class="ln">5469 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5470"><span class="ln">5470 </span></a><span class="s3">}</span>
<a name="l5471"><span class="ln">5471 </span></a>
<a name="l5472"><span class="ln">5472 </span></a><span class="s5">/** An error generated when a GridFSStream operation fails to execute.</span>
<a name="l5473"><span class="ln">5473 </span></a> <span class="s5">*</span>
<a name="l5474"><span class="ln">5474 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5475"><span class="ln">5475 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5476"><span class="ln">5476 </span></a> <span class="s5">*/</span>
<a name="l5477"><span class="ln">5477 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoGridFSStreamError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l5478"><span class="ln">5478 </span></a>    <span class="s5">/**</span>
<a name="l5479"><span class="ln">5479 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5480"><span class="ln">5480 </span></a>     <span class="s5">*</span>
<a name="l5481"><span class="ln">5481 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5482"><span class="ln">5482 </span></a>     <span class="s5">*</span>
<a name="l5483"><span class="ln">5483 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5484"><span class="ln">5484 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5485"><span class="ln">5485 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5486"><span class="ln">5486 </span></a>     <span class="s5">*</span>
<a name="l5487"><span class="ln">5487 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5488"><span class="ln">5488 </span></a>     <span class="s5">**/</span>
<a name="l5489"><span class="ln">5489 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5490"><span class="ln">5490 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5491"><span class="ln">5491 </span></a><span class="s3">}</span>
<a name="l5492"><span class="ln">5492 </span></a>
<a name="l5493"><span class="ln">5493 </span></a><span class="s5">/**</span>
<a name="l5494"><span class="ln">5494 </span></a> <span class="s5">* An error generated when the user supplies malformed or unexpected arguments</span>
<a name="l5495"><span class="ln">5495 </span></a> <span class="s5">* or when a required argument or field is not provided.</span>
<a name="l5496"><span class="ln">5496 </span></a> <span class="s5">*</span>
<a name="l5497"><span class="ln">5497 </span></a> <span class="s5">*</span>
<a name="l5498"><span class="ln">5498 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5499"><span class="ln">5499 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5500"><span class="ln">5500 </span></a> <span class="s5">*/</span>
<a name="l5501"><span class="ln">5501 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoInvalidArgumentError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5502"><span class="ln">5502 </span></a>    <span class="s5">/**</span>
<a name="l5503"><span class="ln">5503 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5504"><span class="ln">5504 </span></a>     <span class="s5">*</span>
<a name="l5505"><span class="ln">5505 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5506"><span class="ln">5506 </span></a>     <span class="s5">*</span>
<a name="l5507"><span class="ln">5507 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5508"><span class="ln">5508 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5509"><span class="ln">5509 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5510"><span class="ln">5510 </span></a>     <span class="s5">*</span>
<a name="l5511"><span class="ln">5511 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5512"><span class="ln">5512 </span></a>     <span class="s5">**/</span>
<a name="l5513"><span class="ln">5513 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5514"><span class="ln">5514 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5515"><span class="ln">5515 </span></a><span class="s3">}</span>
<a name="l5516"><span class="ln">5516 </span></a>
<a name="l5517"><span class="ln">5517 </span></a><span class="s5">/**</span>
<a name="l5518"><span class="ln">5518 </span></a> <span class="s5">* A error generated when the user attempts to authenticate</span>
<a name="l5519"><span class="ln">5519 </span></a> <span class="s5">* via Kerberos, but fails to connect to the Kerberos client.</span>
<a name="l5520"><span class="ln">5520 </span></a> <span class="s5">*</span>
<a name="l5521"><span class="ln">5521 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5522"><span class="ln">5522 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5523"><span class="ln">5523 </span></a> <span class="s5">*/</span>
<a name="l5524"><span class="ln">5524 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoKerberosError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l5525"><span class="ln">5525 </span></a>    <span class="s5">/**</span>
<a name="l5526"><span class="ln">5526 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5527"><span class="ln">5527 </span></a>     <span class="s5">*</span>
<a name="l5528"><span class="ln">5528 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5529"><span class="ln">5529 </span></a>     <span class="s5">*</span>
<a name="l5530"><span class="ln">5530 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5531"><span class="ln">5531 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5532"><span class="ln">5532 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5533"><span class="ln">5533 </span></a>     <span class="s5">*</span>
<a name="l5534"><span class="ln">5534 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5535"><span class="ln">5535 </span></a>     <span class="s5">**/</span>
<a name="l5536"><span class="ln">5536 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5537"><span class="ln">5537 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5538"><span class="ln">5538 </span></a><span class="s3">}</span>
<a name="l5539"><span class="ln">5539 </span></a>
<a name="l5540"><span class="ln">5540 </span></a><span class="s0">/* Excluded from this release type: MongoLoggableComponent */</span>
<a name="l5541"><span class="ln">5541 </span></a>
<a name="l5542"><span class="ln">5542 </span></a><span class="s0">/* Excluded from this release type: MongoLogger */</span>
<a name="l5543"><span class="ln">5543 </span></a>
<a name="l5544"><span class="ln">5544 </span></a><span class="s0">/* Excluded from this release type: MongoLoggerEnvOptions */</span>
<a name="l5545"><span class="ln">5545 </span></a>
<a name="l5546"><span class="ln">5546 </span></a><span class="s0">/* Excluded from this release type: MongoLoggerMongoClientOptions */</span>
<a name="l5547"><span class="ln">5547 </span></a>
<a name="l5548"><span class="ln">5548 </span></a><span class="s0">/* Excluded from this release type: MongoLoggerOptions */</span>
<a name="l5549"><span class="ln">5549 </span></a>
<a name="l5550"><span class="ln">5550 </span></a><span class="s5">/**</span>
<a name="l5551"><span class="ln">5551 </span></a> <span class="s5">* An error generated when the user fails to provide authentication credentials before attempting</span>
<a name="l5552"><span class="ln">5552 </span></a> <span class="s5">* to connect to a mongo server instance.</span>
<a name="l5553"><span class="ln">5553 </span></a> <span class="s5">*</span>
<a name="l5554"><span class="ln">5554 </span></a> <span class="s5">*</span>
<a name="l5555"><span class="ln">5555 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5556"><span class="ln">5556 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5557"><span class="ln">5557 </span></a> <span class="s5">*/</span>
<a name="l5558"><span class="ln">5558 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoMissingCredentialsError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5559"><span class="ln">5559 </span></a>    <span class="s5">/**</span>
<a name="l5560"><span class="ln">5560 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5561"><span class="ln">5561 </span></a>     <span class="s5">*</span>
<a name="l5562"><span class="ln">5562 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5563"><span class="ln">5563 </span></a>     <span class="s5">*</span>
<a name="l5564"><span class="ln">5564 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5565"><span class="ln">5565 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5566"><span class="ln">5566 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5567"><span class="ln">5567 </span></a>     <span class="s5">*</span>
<a name="l5568"><span class="ln">5568 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5569"><span class="ln">5569 </span></a>     <span class="s5">**/</span>
<a name="l5570"><span class="ln">5570 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5571"><span class="ln">5571 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5572"><span class="ln">5572 </span></a><span class="s3">}</span>
<a name="l5573"><span class="ln">5573 </span></a>
<a name="l5574"><span class="ln">5574 </span></a><span class="s5">/**</span>
<a name="l5575"><span class="ln">5575 </span></a> <span class="s5">* An error generated when a required module or dependency is not present in the local environment</span>
<a name="l5576"><span class="ln">5576 </span></a> <span class="s5">*</span>
<a name="l5577"><span class="ln">5577 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5578"><span class="ln">5578 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5579"><span class="ln">5579 </span></a> <span class="s5">*/</span>
<a name="l5580"><span class="ln">5580 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoMissingDependencyError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5581"><span class="ln">5581 </span></a>    <span class="s5">/**</span>
<a name="l5582"><span class="ln">5582 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5583"><span class="ln">5583 </span></a>     <span class="s5">*</span>
<a name="l5584"><span class="ln">5584 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5585"><span class="ln">5585 </span></a>     <span class="s5">*</span>
<a name="l5586"><span class="ln">5586 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5587"><span class="ln">5587 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5588"><span class="ln">5588 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5589"><span class="ln">5589 </span></a>     <span class="s5">*</span>
<a name="l5590"><span class="ln">5590 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5591"><span class="ln">5591 </span></a>     <span class="s5">**/</span>
<a name="l5592"><span class="ln">5592 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: {</span>
<a name="l5593"><span class="ln">5593 </span></a>        <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5594"><span class="ln">5594 </span></a>    <span class="s3">});</span>
<a name="l5595"><span class="ln">5595 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5596"><span class="ln">5596 </span></a><span class="s3">}</span>
<a name="l5597"><span class="ln">5597 </span></a>
<a name="l5598"><span class="ln">5598 </span></a><span class="s5">/**</span>
<a name="l5599"><span class="ln">5599 </span></a> <span class="s5">* An error indicating an issue with the network, including TCP errors and timeouts.</span>
<a name="l5600"><span class="ln">5600 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5601"><span class="ln">5601 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5602"><span class="ln">5602 </span></a> <span class="s5">*/</span>
<a name="l5603"><span class="ln">5603 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoNetworkError </span><span class="s2">extends </span><span class="s1">MongoError </span><span class="s3">{</span>
<a name="l5604"><span class="ln">5604 </span></a>    <span class="s0">/* Excluded from this release type: [kBeforeHandshake] */</span>
<a name="l5605"><span class="ln">5605 </span></a>    <span class="s5">/**</span>
<a name="l5606"><span class="ln">5606 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5607"><span class="ln">5607 </span></a>     <span class="s5">*</span>
<a name="l5608"><span class="ln">5608 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5609"><span class="ln">5609 </span></a>     <span class="s5">*</span>
<a name="l5610"><span class="ln">5610 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5611"><span class="ln">5611 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5612"><span class="ln">5612 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5613"><span class="ln">5613 </span></a>     <span class="s5">*</span>
<a name="l5614"><span class="ln">5614 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5615"><span class="ln">5615 </span></a>     <span class="s5">**/</span>
<a name="l5616"><span class="ln">5616 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">MongoNetworkErrorOptions</span><span class="s3">);</span>
<a name="l5617"><span class="ln">5617 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5618"><span class="ln">5618 </span></a><span class="s3">}</span>
<a name="l5619"><span class="ln">5619 </span></a>
<a name="l5620"><span class="ln">5620 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l5621"><span class="ln">5621 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">MongoNetworkErrorOptions </span><span class="s3">{</span>
<a name="l5622"><span class="ln">5622 </span></a>    <span class="s5">/** Indicates the timeout happened before a connection handshake completed */</span>
<a name="l5623"><span class="ln">5623 </span></a>    <span class="s1">beforeHandshake</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5624"><span class="ln">5624 </span></a>    <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5625"><span class="ln">5625 </span></a><span class="s3">}</span>
<a name="l5626"><span class="ln">5626 </span></a>
<a name="l5627"><span class="ln">5627 </span></a><span class="s5">/**</span>
<a name="l5628"><span class="ln">5628 </span></a> <span class="s5">* An error indicating a network timeout occurred</span>
<a name="l5629"><span class="ln">5629 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5630"><span class="ln">5630 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5631"><span class="ln">5631 </span></a> <span class="s5">*</span>
<a name="l5632"><span class="ln">5632 </span></a> <span class="s5">* </span><span class="s6">@privateRemarks</span>
<a name="l5633"><span class="ln">5633 </span></a> <span class="s5">* mongodb-client-encryption has a dependency on this error with an instanceof check</span>
<a name="l5634"><span class="ln">5634 </span></a> <span class="s5">*/</span>
<a name="l5635"><span class="ln">5635 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoNetworkTimeoutError </span><span class="s2">extends </span><span class="s1">MongoNetworkError </span><span class="s3">{</span>
<a name="l5636"><span class="ln">5636 </span></a>    <span class="s5">/**</span>
<a name="l5637"><span class="ln">5637 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5638"><span class="ln">5638 </span></a>     <span class="s5">*</span>
<a name="l5639"><span class="ln">5639 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5640"><span class="ln">5640 </span></a>     <span class="s5">*</span>
<a name="l5641"><span class="ln">5641 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5642"><span class="ln">5642 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5643"><span class="ln">5643 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5644"><span class="ln">5644 </span></a>     <span class="s5">*</span>
<a name="l5645"><span class="ln">5645 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5646"><span class="ln">5646 </span></a>     <span class="s5">**/</span>
<a name="l5647"><span class="ln">5647 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">MongoNetworkErrorOptions</span><span class="s3">);</span>
<a name="l5648"><span class="ln">5648 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5649"><span class="ln">5649 </span></a><span class="s3">}</span>
<a name="l5650"><span class="ln">5650 </span></a>
<a name="l5651"><span class="ln">5651 </span></a><span class="s5">/**</span>
<a name="l5652"><span class="ln">5652 </span></a> <span class="s5">* An error thrown when the user attempts to operate on a database or collection through a MongoClient</span>
<a name="l5653"><span class="ln">5653 </span></a> <span class="s5">* that has not yet successfully called the &quot;connect&quot; method</span>
<a name="l5654"><span class="ln">5654 </span></a> <span class="s5">*</span>
<a name="l5655"><span class="ln">5655 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5656"><span class="ln">5656 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5657"><span class="ln">5657 </span></a> <span class="s5">*/</span>
<a name="l5658"><span class="ln">5658 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoNotConnectedError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5659"><span class="ln">5659 </span></a>    <span class="s5">/**</span>
<a name="l5660"><span class="ln">5660 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5661"><span class="ln">5661 </span></a>     <span class="s5">*</span>
<a name="l5662"><span class="ln">5662 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5663"><span class="ln">5663 </span></a>     <span class="s5">*</span>
<a name="l5664"><span class="ln">5664 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5665"><span class="ln">5665 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5666"><span class="ln">5666 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5667"><span class="ln">5667 </span></a>     <span class="s5">*</span>
<a name="l5668"><span class="ln">5668 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5669"><span class="ln">5669 </span></a>     <span class="s5">**/</span>
<a name="l5670"><span class="ln">5670 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5671"><span class="ln">5671 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5672"><span class="ln">5672 </span></a><span class="s3">}</span>
<a name="l5673"><span class="ln">5673 </span></a>
<a name="l5674"><span class="ln">5674 </span></a><span class="s5">/**</span>
<a name="l5675"><span class="ln">5675 </span></a> <span class="s5">* Parsed Mongo Client Options.</span>
<a name="l5676"><span class="ln">5676 </span></a> <span class="s5">*</span>
<a name="l5677"><span class="ln">5677 </span></a> <span class="s5">* User supplied options are documented by `MongoClientOptions`.</span>
<a name="l5678"><span class="ln">5678 </span></a> <span class="s5">*</span>
<a name="l5679"><span class="ln">5679 </span></a> <span class="s5">* **NOTE:** The client's options parsing is subject to change to support new features.</span>
<a name="l5680"><span class="ln">5680 </span></a> <span class="s5">* This type is provided to aid with inspection of options after parsing, it should not be relied upon programmatically.</span>
<a name="l5681"><span class="ln">5681 </span></a> <span class="s5">*</span>
<a name="l5682"><span class="ln">5682 </span></a> <span class="s5">* Options are sourced from:</span>
<a name="l5683"><span class="ln">5683 </span></a> <span class="s5">* - connection string</span>
<a name="l5684"><span class="ln">5684 </span></a> <span class="s5">* - options object passed to the MongoClient constructor</span>
<a name="l5685"><span class="ln">5685 </span></a> <span class="s5">* - file system (ex. tls settings)</span>
<a name="l5686"><span class="ln">5686 </span></a> <span class="s5">* - environment variables</span>
<a name="l5687"><span class="ln">5687 </span></a> <span class="s5">* - DNS SRV records and TXT records</span>
<a name="l5688"><span class="ln">5688 </span></a> <span class="s5">*</span>
<a name="l5689"><span class="ln">5689 </span></a> <span class="s5">* Not all options may be present after client construction as some are obtained from asynchronous operations.</span>
<a name="l5690"><span class="ln">5690 </span></a> <span class="s5">*</span>
<a name="l5691"><span class="ln">5691 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5692"><span class="ln">5692 </span></a> <span class="s5">*/</span>
<a name="l5693"><span class="ln">5693 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">MongoOptions </span><span class="s2">extends </span><span class="s1">Required</span><span class="s3">&lt;</span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">MongoClientOptions</span><span class="s3">, </span><span class="s4">'autoEncryption' </span><span class="s3">| </span><span class="s4">'connectTimeoutMS' </span><span class="s3">| </span><span class="s4">'directConnection' </span><span class="s3">| </span><span class="s4">'driverInfo' </span><span class="s3">| </span><span class="s4">'forceServerObjectId' </span><span class="s3">| </span><span class="s4">'minHeartbeatFrequencyMS' </span><span class="s3">| </span><span class="s4">'heartbeatFrequencyMS' </span><span class="s3">| </span><span class="s4">'localThresholdMS' </span><span class="s3">| </span><span class="s4">'maxConnecting' </span><span class="s3">| </span><span class="s4">'maxIdleTimeMS' </span><span class="s3">| </span><span class="s4">'maxPoolSize' </span><span class="s3">| </span><span class="s4">'minPoolSize' </span><span class="s3">| </span><span class="s4">'monitorCommands' </span><span class="s3">| </span><span class="s4">'noDelay' </span><span class="s3">| </span><span class="s4">'pkFactory' </span><span class="s3">| </span><span class="s4">'raw' </span><span class="s3">| </span><span class="s4">'replicaSet' </span><span class="s3">| </span><span class="s4">'retryReads' </span><span class="s3">| </span><span class="s4">'retryWrites' </span><span class="s3">| </span><span class="s4">'serverSelectionTimeoutMS' </span><span class="s3">| </span><span class="s4">'socketTimeoutMS' </span><span class="s3">| </span><span class="s4">'srvMaxHosts' </span><span class="s3">| </span><span class="s4">'srvServiceName' </span><span class="s3">| </span><span class="s4">'tlsAllowInvalidCertificates' </span><span class="s3">| </span><span class="s4">'tlsAllowInvalidHostnames' </span><span class="s3">| </span><span class="s4">'tlsInsecure' </span><span class="s3">| </span><span class="s4">'waitQueueTimeoutMS' </span><span class="s3">| </span><span class="s4">'zlibCompressionLevel'</span><span class="s3">&gt;&gt;, </span><span class="s1">SupportedNodeConnectionOptions </span><span class="s3">{</span>
<a name="l5694"><span class="ln">5694 </span></a>    <span class="s1">appName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5695"><span class="ln">5695 </span></a>    <span class="s1">hosts</span><span class="s3">: </span><span class="s1">HostAddress</span><span class="s3">[];</span>
<a name="l5696"><span class="ln">5696 </span></a>    <span class="s1">srvHost</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5697"><span class="ln">5697 </span></a>    <span class="s1">credentials</span><span class="s3">?: </span><span class="s1">MongoCredentials</span><span class="s3">;</span>
<a name="l5698"><span class="ln">5698 </span></a>    <span class="s1">readPreference</span><span class="s3">: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l5699"><span class="ln">5699 </span></a>    <span class="s1">readConcern</span><span class="s3">: </span><span class="s1">ReadConcern</span><span class="s3">;</span>
<a name="l5700"><span class="ln">5700 </span></a>    <span class="s1">loadBalanced</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5701"><span class="ln">5701 </span></a>    <span class="s1">serverApi</span><span class="s3">: </span><span class="s1">ServerApi</span><span class="s3">;</span>
<a name="l5702"><span class="ln">5702 </span></a>    <span class="s1">compressors</span><span class="s3">: </span><span class="s1">CompressorName</span><span class="s3">[];</span>
<a name="l5703"><span class="ln">5703 </span></a>    <span class="s1">writeConcern</span><span class="s3">: </span><span class="s1">WriteConcern</span><span class="s3">;</span>
<a name="l5704"><span class="ln">5704 </span></a>    <span class="s1">dbName</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5705"><span class="ln">5705 </span></a>    <span class="s1">metadata</span><span class="s3">: </span><span class="s1">ClientMetadata</span><span class="s3">;</span>
<a name="l5706"><span class="ln">5706 </span></a>    <span class="s0">/* Excluded from this release type: autoEncrypter */</span>
<a name="l5707"><span class="ln">5707 </span></a>    <span class="s1">proxyHost</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5708"><span class="ln">5708 </span></a>    <span class="s1">proxyPort</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l5709"><span class="ln">5709 </span></a>    <span class="s1">proxyUsername</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5710"><span class="ln">5710 </span></a>    <span class="s1">proxyPassword</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5711"><span class="ln">5711 </span></a>    <span class="s1">serverMonitoringMode</span><span class="s3">: </span><span class="s1">ServerMonitoringMode</span><span class="s3">;</span>
<a name="l5712"><span class="ln">5712 </span></a>    <span class="s0">/* Excluded from this release type: connectionType */</span>
<a name="l5713"><span class="ln">5713 </span></a>    <span class="s0">/* Excluded from this release type: encrypter */</span>
<a name="l5714"><span class="ln">5714 </span></a>    <span class="s0">/* Excluded from this release type: userSpecifiedAuthSource */</span>
<a name="l5715"><span class="ln">5715 </span></a>    <span class="s0">/* Excluded from this release type: userSpecifiedReplicaSet */</span>
<a name="l5716"><span class="ln">5716 </span></a>    <span class="s5">/**</span>
<a name="l5717"><span class="ln">5717 </span></a>     <span class="s5">* # NOTE ABOUT TLS Options</span>
<a name="l5718"><span class="ln">5718 </span></a>     <span class="s5">*</span>
<a name="l5719"><span class="ln">5719 </span></a>     <span class="s5">* If `tls` is provided as an option, it is equivalent to setting the `ssl` option.</span>
<a name="l5720"><span class="ln">5720 </span></a>     <span class="s5">*</span>
<a name="l5721"><span class="ln">5721 </span></a>     <span class="s5">* NodeJS native TLS options are passed through to the socket and retain their original types.</span>
<a name="l5722"><span class="ln">5722 </span></a>     <span class="s5">*</span>
<a name="l5723"><span class="ln">5723 </span></a>     <span class="s5">* ### Additional options:</span>
<a name="l5724"><span class="ln">5724 </span></a>     <span class="s5">*</span>
<a name="l5725"><span class="ln">5725 </span></a>     <span class="s5">* | nodejs native option  | driver spec equivalent option name            | driver option type |</span>
<a name="l5726"><span class="ln">5726 </span></a>     <span class="s5">* |:----------------------|:----------------------------------------------|:-------------------|</span>
<a name="l5727"><span class="ln">5727 </span></a>     <span class="s5">* | `ca`                  | `tlsCAFile`                                   | `string`           |</span>
<a name="l5728"><span class="ln">5728 </span></a>     <span class="s5">* | `crl`                 | `tlsCRLFile`                                  | `string`           |</span>
<a name="l5729"><span class="ln">5729 </span></a>     <span class="s5">* | `cert`                | `tlsCertificateKeyFile`                       | `string`           |</span>
<a name="l5730"><span class="ln">5730 </span></a>     <span class="s5">* | `key`                 | `tlsCertificateKeyFile`                       | `string`           |</span>
<a name="l5731"><span class="ln">5731 </span></a>     <span class="s5">* | `passphrase`          | `tlsCertificateKeyFilePassword`               | `string`           |</span>
<a name="l5732"><span class="ln">5732 </span></a>     <span class="s5">* | `rejectUnauthorized`  | `tlsAllowInvalidCertificates`                 | `boolean`          |</span>
<a name="l5733"><span class="ln">5733 </span></a>     <span class="s5">* | `checkServerIdentity` | `tlsAllowInvalidHostnames`                    | `boolean`          |</span>
<a name="l5734"><span class="ln">5734 </span></a>     <span class="s5">* | see note below        | `tlsInsecure`                                 | `boolean`          |</span>
<a name="l5735"><span class="ln">5735 </span></a>     <span class="s5">*</span>
<a name="l5736"><span class="ln">5736 </span></a>     <span class="s5">* If `tlsInsecure` is set to `true`, then it will set the node native options `checkServerIdentity`</span>
<a name="l5737"><span class="ln">5737 </span></a>     <span class="s5">* to a no-op and `rejectUnauthorized` to `false`.</span>
<a name="l5738"><span class="ln">5738 </span></a>     <span class="s5">*</span>
<a name="l5739"><span class="ln">5739 </span></a>     <span class="s5">* If `tlsInsecure` is set to `false`, then it will set the node native options `checkServerIdentity`</span>
<a name="l5740"><span class="ln">5740 </span></a>     <span class="s5">* to a no-op and `rejectUnauthorized` to the inverse value of `tlsAllowInvalidCertificates`. If</span>
<a name="l5741"><span class="ln">5741 </span></a>     <span class="s5">* `tlsAllowInvalidCertificates` is not set, then `rejectUnauthorized` will be set to `true`.</span>
<a name="l5742"><span class="ln">5742 </span></a>     <span class="s5">*</span>
<a name="l5743"><span class="ln">5743 </span></a>     <span class="s5">* ### Note on `tlsCAFile`, `tlsCertificateKeyFile` and `tlsCRLFile`</span>
<a name="l5744"><span class="ln">5744 </span></a>     <span class="s5">*</span>
<a name="l5745"><span class="ln">5745 </span></a>     <span class="s5">* The files specified by the paths passed in to the `tlsCAFile`, `tlsCertificateKeyFile` and `tlsCRLFile`</span>
<a name="l5746"><span class="ln">5746 </span></a>     <span class="s5">* fields are read lazily on the first call to `MongoClient.connect`. Once these files have been read and</span>
<a name="l5747"><span class="ln">5747 </span></a>     <span class="s5">* the `ca`, `cert`, `crl` and `key` fields are populated, they will not be read again on subsequent calls to</span>
<a name="l5748"><span class="ln">5748 </span></a>     <span class="s5">* `MongoClient.connect`. As a result, until the first call to `MongoClient.connect`, the `ca`,</span>
<a name="l5749"><span class="ln">5749 </span></a>     <span class="s5">* `cert`, `crl` and `key` fields will be undefined.</span>
<a name="l5750"><span class="ln">5750 </span></a>     <span class="s5">*/</span>
<a name="l5751"><span class="ln">5751 </span></a>    <span class="s1">tls</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l5752"><span class="ln">5752 </span></a>    <span class="s1">tlsCAFile</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5753"><span class="ln">5753 </span></a>    <span class="s1">tlsCRLFile</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5754"><span class="ln">5754 </span></a>    <span class="s1">tlsCertificateKeyFile</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5755"><span class="ln">5755 </span></a>    <span class="s0">/* Excluded from this release type: __index */</span>
<a name="l5756"><span class="ln">5756 </span></a>    <span class="s0">/* Excluded from this release type: mongoLoggerOptions */</span>
<a name="l5757"><span class="ln">5757 </span></a>    <span class="s0">/* Excluded from this release type: mongodbLogPath */</span>
<a name="l5758"><span class="ln">5758 </span></a><span class="s3">}</span>
<a name="l5759"><span class="ln">5759 </span></a>
<a name="l5760"><span class="ln">5760 </span></a><span class="s5">/**</span>
<a name="l5761"><span class="ln">5761 </span></a> <span class="s5">* An error used when attempting to parse a value (like a connection string)</span>
<a name="l5762"><span class="ln">5762 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5763"><span class="ln">5763 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5764"><span class="ln">5764 </span></a> <span class="s5">*/</span>
<a name="l5765"><span class="ln">5765 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoParseError </span><span class="s2">extends </span><span class="s1">MongoDriverError </span><span class="s3">{</span>
<a name="l5766"><span class="ln">5766 </span></a>    <span class="s5">/**</span>
<a name="l5767"><span class="ln">5767 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5768"><span class="ln">5768 </span></a>     <span class="s5">*</span>
<a name="l5769"><span class="ln">5769 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5770"><span class="ln">5770 </span></a>     <span class="s5">*</span>
<a name="l5771"><span class="ln">5771 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5772"><span class="ln">5772 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5773"><span class="ln">5773 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5774"><span class="ln">5774 </span></a>     <span class="s5">*</span>
<a name="l5775"><span class="ln">5775 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5776"><span class="ln">5776 </span></a>     <span class="s5">**/</span>
<a name="l5777"><span class="ln">5777 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5778"><span class="ln">5778 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5779"><span class="ln">5779 </span></a><span class="s3">}</span>
<a name="l5780"><span class="ln">5780 </span></a>
<a name="l5781"><span class="ln">5781 </span></a><span class="s5">/**</span>
<a name="l5782"><span class="ln">5782 </span></a> <span class="s5">* An error generated when the driver encounters unexpected input</span>
<a name="l5783"><span class="ln">5783 </span></a> <span class="s5">* or reaches an unexpected/invalid internal state</span>
<a name="l5784"><span class="ln">5784 </span></a> <span class="s5">*</span>
<a name="l5785"><span class="ln">5785 </span></a> <span class="s5">* </span><span class="s6">@privateRemarks</span>
<a name="l5786"><span class="ln">5786 </span></a> <span class="s5">* Should **never** be directly instantiated.</span>
<a name="l5787"><span class="ln">5787 </span></a> <span class="s5">*</span>
<a name="l5788"><span class="ln">5788 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5789"><span class="ln">5789 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5790"><span class="ln">5790 </span></a> <span class="s5">*/</span>
<a name="l5791"><span class="ln">5791 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoRuntimeError </span><span class="s2">extends </span><span class="s1">MongoDriverError </span><span class="s3">{</span>
<a name="l5792"><span class="ln">5792 </span></a>    <span class="s5">/**</span>
<a name="l5793"><span class="ln">5793 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5794"><span class="ln">5794 </span></a>     <span class="s5">*</span>
<a name="l5795"><span class="ln">5795 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5796"><span class="ln">5796 </span></a>     <span class="s5">*</span>
<a name="l5797"><span class="ln">5797 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5798"><span class="ln">5798 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5799"><span class="ln">5799 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5800"><span class="ln">5800 </span></a>     <span class="s5">*</span>
<a name="l5801"><span class="ln">5801 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5802"><span class="ln">5802 </span></a>     <span class="s5">**/</span>
<a name="l5803"><span class="ln">5803 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: {</span>
<a name="l5804"><span class="ln">5804 </span></a>        <span class="s1">cause</span><span class="s3">?: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l5805"><span class="ln">5805 </span></a>    <span class="s3">});</span>
<a name="l5806"><span class="ln">5806 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5807"><span class="ln">5807 </span></a><span class="s3">}</span>
<a name="l5808"><span class="ln">5808 </span></a>
<a name="l5809"><span class="ln">5809 </span></a><span class="s5">/**</span>
<a name="l5810"><span class="ln">5810 </span></a> <span class="s5">* An error generated when an attempt is made to operate</span>
<a name="l5811"><span class="ln">5811 </span></a> <span class="s5">* on a closed/closing server.</span>
<a name="l5812"><span class="ln">5812 </span></a> <span class="s5">*</span>
<a name="l5813"><span class="ln">5813 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5814"><span class="ln">5814 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5815"><span class="ln">5815 </span></a> <span class="s5">*/</span>
<a name="l5816"><span class="ln">5816 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoServerClosedError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5817"><span class="ln">5817 </span></a>    <span class="s5">/**</span>
<a name="l5818"><span class="ln">5818 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5819"><span class="ln">5819 </span></a>     <span class="s5">*</span>
<a name="l5820"><span class="ln">5820 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5821"><span class="ln">5821 </span></a>     <span class="s5">*</span>
<a name="l5822"><span class="ln">5822 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5823"><span class="ln">5823 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5824"><span class="ln">5824 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5825"><span class="ln">5825 </span></a>     <span class="s5">*</span>
<a name="l5826"><span class="ln">5826 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5827"><span class="ln">5827 </span></a>     <span class="s5">**/</span>
<a name="l5828"><span class="ln">5828 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5829"><span class="ln">5829 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5830"><span class="ln">5830 </span></a><span class="s3">}</span>
<a name="l5831"><span class="ln">5831 </span></a>
<a name="l5832"><span class="ln">5832 </span></a><span class="s5">/**</span>
<a name="l5833"><span class="ln">5833 </span></a> <span class="s5">* An error coming from the mongo server</span>
<a name="l5834"><span class="ln">5834 </span></a> <span class="s5">*</span>
<a name="l5835"><span class="ln">5835 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5836"><span class="ln">5836 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5837"><span class="ln">5837 </span></a> <span class="s5">*/</span>
<a name="l5838"><span class="ln">5838 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoServerError </span><span class="s2">extends </span><span class="s1">MongoError </span><span class="s3">{</span>
<a name="l5839"><span class="ln">5839 </span></a>    <span class="s1">codeName</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5840"><span class="ln">5840 </span></a>    <span class="s1">writeConcernError</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l5841"><span class="ln">5841 </span></a>    <span class="s1">errInfo</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l5842"><span class="ln">5842 </span></a>    <span class="s1">ok</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l5843"><span class="ln">5843 </span></a>    <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l5844"><span class="ln">5844 </span></a>    <span class="s5">/**</span>
<a name="l5845"><span class="ln">5845 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5846"><span class="ln">5846 </span></a>     <span class="s5">*</span>
<a name="l5847"><span class="ln">5847 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5848"><span class="ln">5848 </span></a>     <span class="s5">*</span>
<a name="l5849"><span class="ln">5849 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5850"><span class="ln">5850 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5851"><span class="ln">5851 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5852"><span class="ln">5852 </span></a>     <span class="s5">*</span>
<a name="l5853"><span class="ln">5853 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5854"><span class="ln">5854 </span></a>     <span class="s5">**/</span>
<a name="l5855"><span class="ln">5855 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">ErrorDescription</span><span class="s3">);</span>
<a name="l5856"><span class="ln">5856 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5857"><span class="ln">5857 </span></a><span class="s3">}</span>
<a name="l5858"><span class="ln">5858 </span></a>
<a name="l5859"><span class="ln">5859 </span></a><span class="s5">/**</span>
<a name="l5860"><span class="ln">5860 </span></a> <span class="s5">* An error signifying a client-side server selection error</span>
<a name="l5861"><span class="ln">5861 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5862"><span class="ln">5862 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5863"><span class="ln">5863 </span></a> <span class="s5">*/</span>
<a name="l5864"><span class="ln">5864 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoServerSelectionError </span><span class="s2">extends </span><span class="s1">MongoSystemError </span><span class="s3">{</span>
<a name="l5865"><span class="ln">5865 </span></a>    <span class="s5">/**</span>
<a name="l5866"><span class="ln">5866 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5867"><span class="ln">5867 </span></a>     <span class="s5">*</span>
<a name="l5868"><span class="ln">5868 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5869"><span class="ln">5869 </span></a>     <span class="s5">*</span>
<a name="l5870"><span class="ln">5870 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5871"><span class="ln">5871 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5872"><span class="ln">5872 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5873"><span class="ln">5873 </span></a>     <span class="s5">*</span>
<a name="l5874"><span class="ln">5874 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5875"><span class="ln">5875 </span></a>     <span class="s5">**/</span>
<a name="l5876"><span class="ln">5876 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">reason</span><span class="s3">: </span><span class="s1">TopologyDescription</span><span class="s3">);</span>
<a name="l5877"><span class="ln">5877 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5878"><span class="ln">5878 </span></a><span class="s3">}</span>
<a name="l5879"><span class="ln">5879 </span></a>
<a name="l5880"><span class="ln">5880 </span></a><span class="s5">/**</span>
<a name="l5881"><span class="ln">5881 </span></a> <span class="s5">* An error signifying a general system issue</span>
<a name="l5882"><span class="ln">5882 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5883"><span class="ln">5883 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5884"><span class="ln">5884 </span></a> <span class="s5">*/</span>
<a name="l5885"><span class="ln">5885 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoSystemError </span><span class="s2">extends </span><span class="s1">MongoError </span><span class="s3">{</span>
<a name="l5886"><span class="ln">5886 </span></a>    <span class="s5">/** An optional reason context, such as an error saved during flow of monitoring and selecting servers */</span>
<a name="l5887"><span class="ln">5887 </span></a>    <span class="s1">reason</span><span class="s3">?: </span><span class="s1">TopologyDescription</span><span class="s3">;</span>
<a name="l5888"><span class="ln">5888 </span></a>    <span class="s5">/**</span>
<a name="l5889"><span class="ln">5889 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5890"><span class="ln">5890 </span></a>     <span class="s5">*</span>
<a name="l5891"><span class="ln">5891 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5892"><span class="ln">5892 </span></a>     <span class="s5">*</span>
<a name="l5893"><span class="ln">5893 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5894"><span class="ln">5894 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5895"><span class="ln">5895 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5896"><span class="ln">5896 </span></a>     <span class="s5">*</span>
<a name="l5897"><span class="ln">5897 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5898"><span class="ln">5898 </span></a>     <span class="s5">**/</span>
<a name="l5899"><span class="ln">5899 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">reason</span><span class="s3">: </span><span class="s1">TopologyDescription</span><span class="s3">);</span>
<a name="l5900"><span class="ln">5900 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5901"><span class="ln">5901 </span></a><span class="s3">}</span>
<a name="l5902"><span class="ln">5902 </span></a>
<a name="l5903"><span class="ln">5903 </span></a><span class="s5">/**</span>
<a name="l5904"><span class="ln">5904 </span></a> <span class="s5">* An error thrown when the user calls a function or method not supported on a tailable cursor</span>
<a name="l5905"><span class="ln">5905 </span></a> <span class="s5">*</span>
<a name="l5906"><span class="ln">5906 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5907"><span class="ln">5907 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5908"><span class="ln">5908 </span></a> <span class="s5">*/</span>
<a name="l5909"><span class="ln">5909 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoTailableCursorError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5910"><span class="ln">5910 </span></a>    <span class="s5">/**</span>
<a name="l5911"><span class="ln">5911 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5912"><span class="ln">5912 </span></a>     <span class="s5">*</span>
<a name="l5913"><span class="ln">5913 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5914"><span class="ln">5914 </span></a>     <span class="s5">*</span>
<a name="l5915"><span class="ln">5915 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5916"><span class="ln">5916 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5917"><span class="ln">5917 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5918"><span class="ln">5918 </span></a>     <span class="s5">*</span>
<a name="l5919"><span class="ln">5919 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5920"><span class="ln">5920 </span></a>     <span class="s5">**/</span>
<a name="l5921"><span class="ln">5921 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5922"><span class="ln">5922 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5923"><span class="ln">5923 </span></a><span class="s3">}</span>
<a name="l5924"><span class="ln">5924 </span></a>
<a name="l5925"><span class="ln">5925 </span></a><span class="s5">/**</span>
<a name="l5926"><span class="ln">5926 </span></a> <span class="s5">* An error generated when an attempt is made to operate on a</span>
<a name="l5927"><span class="ln">5927 </span></a> <span class="s5">* dropped, or otherwise unavailable, database.</span>
<a name="l5928"><span class="ln">5928 </span></a> <span class="s5">*</span>
<a name="l5929"><span class="ln">5929 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5930"><span class="ln">5930 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5931"><span class="ln">5931 </span></a> <span class="s5">*/</span>
<a name="l5932"><span class="ln">5932 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoTopologyClosedError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5933"><span class="ln">5933 </span></a>    <span class="s5">/**</span>
<a name="l5934"><span class="ln">5934 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5935"><span class="ln">5935 </span></a>     <span class="s5">*</span>
<a name="l5936"><span class="ln">5936 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5937"><span class="ln">5937 </span></a>     <span class="s5">*</span>
<a name="l5938"><span class="ln">5938 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5939"><span class="ln">5939 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5940"><span class="ln">5940 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5941"><span class="ln">5941 </span></a>     <span class="s5">*</span>
<a name="l5942"><span class="ln">5942 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5943"><span class="ln">5943 </span></a>     <span class="s5">**/</span>
<a name="l5944"><span class="ln">5944 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5945"><span class="ln">5945 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5946"><span class="ln">5946 </span></a><span class="s3">}</span>
<a name="l5947"><span class="ln">5947 </span></a>
<a name="l5948"><span class="ln">5948 </span></a><span class="s5">/**</span>
<a name="l5949"><span class="ln">5949 </span></a> <span class="s5">* An error generated when the user makes a mistake in the usage of transactions.</span>
<a name="l5950"><span class="ln">5950 </span></a> <span class="s5">* (e.g. attempting to commit a transaction with a readPreference other than primary)</span>
<a name="l5951"><span class="ln">5951 </span></a> <span class="s5">*</span>
<a name="l5952"><span class="ln">5952 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5953"><span class="ln">5953 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5954"><span class="ln">5954 </span></a> <span class="s5">*/</span>
<a name="l5955"><span class="ln">5955 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoTransactionError </span><span class="s2">extends </span><span class="s1">MongoAPIError </span><span class="s3">{</span>
<a name="l5956"><span class="ln">5956 </span></a>    <span class="s5">/**</span>
<a name="l5957"><span class="ln">5957 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5958"><span class="ln">5958 </span></a>     <span class="s5">*</span>
<a name="l5959"><span class="ln">5959 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5960"><span class="ln">5960 </span></a>     <span class="s5">*</span>
<a name="l5961"><span class="ln">5961 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5962"><span class="ln">5962 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5963"><span class="ln">5963 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5964"><span class="ln">5964 </span></a>     <span class="s5">*</span>
<a name="l5965"><span class="ln">5965 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5966"><span class="ln">5966 </span></a>     <span class="s5">**/</span>
<a name="l5967"><span class="ln">5967 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l5968"><span class="ln">5968 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l5969"><span class="ln">5969 </span></a><span class="s3">}</span>
<a name="l5970"><span class="ln">5970 </span></a>
<a name="l5971"><span class="ln">5971 </span></a><span class="s5">/**</span>
<a name="l5972"><span class="ln">5972 </span></a> <span class="s5">* An error generated when a **parsable** unexpected response comes from the server.</span>
<a name="l5973"><span class="ln">5973 </span></a> <span class="s5">* This is generally an error where the driver in a state expecting a certain behavior to occur in</span>
<a name="l5974"><span class="ln">5974 </span></a> <span class="s5">* the next message from MongoDB but it receives something else.</span>
<a name="l5975"><span class="ln">5975 </span></a> <span class="s5">* This error **does not** represent an issue with wire message formatting.</span>
<a name="l5976"><span class="ln">5976 </span></a> <span class="s5">*</span>
<a name="l5977"><span class="ln">5977 </span></a> <span class="s5">* #### Example</span>
<a name="l5978"><span class="ln">5978 </span></a> <span class="s5">* When an operation fails, it is the driver's job to retry it. It must perform serverSelection</span>
<a name="l5979"><span class="ln">5979 </span></a> <span class="s5">* again to make sure that it attempts the operation against a server in a good state. If server</span>
<a name="l5980"><span class="ln">5980 </span></a> <span class="s5">* selection returns a server that does not support retryable operations, this error is used.</span>
<a name="l5981"><span class="ln">5981 </span></a> <span class="s5">* This scenario is unlikely as retryable support would also have been determined on the first attempt</span>
<a name="l5982"><span class="ln">5982 </span></a> <span class="s5">* but it is possible the state change could report a selectable server that does not support retries.</span>
<a name="l5983"><span class="ln">5983 </span></a> <span class="s5">*</span>
<a name="l5984"><span class="ln">5984 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l5985"><span class="ln">5985 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l5986"><span class="ln">5986 </span></a> <span class="s5">*/</span>
<a name="l5987"><span class="ln">5987 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoUnexpectedServerResponseError </span><span class="s2">extends </span><span class="s1">MongoRuntimeError </span><span class="s3">{</span>
<a name="l5988"><span class="ln">5988 </span></a>    <span class="s5">/**</span>
<a name="l5989"><span class="ln">5989 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l5990"><span class="ln">5990 </span></a>     <span class="s5">*</span>
<a name="l5991"><span class="ln">5991 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l5992"><span class="ln">5992 </span></a>     <span class="s5">*</span>
<a name="l5993"><span class="ln">5993 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l5994"><span class="ln">5994 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l5995"><span class="ln">5995 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l5996"><span class="ln">5996 </span></a>     <span class="s5">*</span>
<a name="l5997"><span class="ln">5997 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l5998"><span class="ln">5998 </span></a>     <span class="s5">**/</span>
<a name="l5999"><span class="ln">5999 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">string</span><span class="s3">);</span>
<a name="l6000"><span class="ln">6000 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6001"><span class="ln">6001 </span></a><span class="s3">}</span>
<a name="l6002"><span class="ln">6002 </span></a>
<a name="l6003"><span class="ln">6003 </span></a><span class="s5">/**</span>
<a name="l6004"><span class="ln">6004 </span></a> <span class="s5">* An error thrown when the server reports a writeConcernError</span>
<a name="l6005"><span class="ln">6005 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6006"><span class="ln">6006 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l6007"><span class="ln">6007 </span></a> <span class="s5">*/</span>
<a name="l6008"><span class="ln">6008 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">MongoWriteConcernError </span><span class="s2">extends </span><span class="s1">MongoServerError </span><span class="s3">{</span>
<a name="l6009"><span class="ln">6009 </span></a>    <span class="s5">/** The result document (provided if ok: 1) */</span>
<a name="l6010"><span class="ln">6010 </span></a>    <span class="s1">result</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6011"><span class="ln">6011 </span></a>    <span class="s5">/**</span>
<a name="l6012"><span class="ln">6012 </span></a>     <span class="s5">* **Do not use this constructor!**</span>
<a name="l6013"><span class="ln">6013 </span></a>     <span class="s5">*</span>
<a name="l6014"><span class="ln">6014 </span></a>     <span class="s5">* Meant for internal use only.</span>
<a name="l6015"><span class="ln">6015 </span></a>     <span class="s5">*</span>
<a name="l6016"><span class="ln">6016 </span></a>     <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l6017"><span class="ln">6017 </span></a>     <span class="s5">* This class is only meant to be constructed within the driver. This constructor is</span>
<a name="l6018"><span class="ln">6018 </span></a>     <span class="s5">* not subject to semantic versioning compatibility guarantees and may change at any time.</span>
<a name="l6019"><span class="ln">6019 </span></a>     <span class="s5">*</span>
<a name="l6020"><span class="ln">6020 </span></a>     <span class="s5">* </span><span class="s6">@public</span>
<a name="l6021"><span class="ln">6021 </span></a>     <span class="s5">**/</span>
<a name="l6022"><span class="ln">6022 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">message</span><span class="s3">: </span><span class="s1">ErrorDescription</span><span class="s3">, </span><span class="s1">result</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">);</span>
<a name="l6023"><span class="ln">6023 </span></a>    <span class="s1">get name</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6024"><span class="ln">6024 </span></a><span class="s3">}</span>
<a name="l6025"><span class="ln">6025 </span></a>
<a name="l6026"><span class="ln">6026 </span></a><span class="s0">/* Excluded from this release type: Monitor */</span>
<a name="l6027"><span class="ln">6027 </span></a>
<a name="l6028"><span class="ln">6028 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6029"><span class="ln">6029 </span></a><span class="s2">export </span><span class="s1">declare type MonitorEvents </span><span class="s3">= {</span>
<a name="l6030"><span class="ln">6030 </span></a>    <span class="s1">serverHeartbeatStarted</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerHeartbeatStartedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6031"><span class="ln">6031 </span></a>    <span class="s1">serverHeartbeatSucceeded</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerHeartbeatSucceededEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6032"><span class="ln">6032 </span></a>    <span class="s1">serverHeartbeatFailed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerHeartbeatFailedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6033"><span class="ln">6033 </span></a>    <span class="s1">resetServer</span><span class="s3">(</span><span class="s1">error</span><span class="s3">?: </span><span class="s1">MongoError</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6034"><span class="ln">6034 </span></a>    <span class="s1">resetConnectionPool</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6035"><span class="ln">6035 </span></a>    <span class="s1">close</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6036"><span class="ln">6036 </span></a><span class="s3">} &amp; </span><span class="s1">EventEmitterWithState</span><span class="s3">;</span>
<a name="l6037"><span class="ln">6037 </span></a>
<a name="l6038"><span class="ln">6038 </span></a><span class="s0">/* Excluded from this release type: MonitorInterval */</span>
<a name="l6039"><span class="ln">6039 </span></a>
<a name="l6040"><span class="ln">6040 </span></a><span class="s0">/* Excluded from this release type: MonitorIntervalOptions */</span>
<a name="l6041"><span class="ln">6041 </span></a>
<a name="l6042"><span class="ln">6042 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6043"><span class="ln">6043 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">MonitorOptions </span><span class="s2">extends </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">ConnectionOptions</span><span class="s3">, </span><span class="s4">'id' </span><span class="s3">| </span><span class="s4">'generation' </span><span class="s3">| </span><span class="s4">'hostAddress'</span><span class="s3">&gt; {</span>
<a name="l6044"><span class="ln">6044 </span></a>    <span class="s1">connectTimeoutMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6045"><span class="ln">6045 </span></a>    <span class="s1">heartbeatFrequencyMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6046"><span class="ln">6046 </span></a>    <span class="s1">minHeartbeatFrequencyMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6047"><span class="ln">6047 </span></a>    <span class="s1">serverMonitoringMode</span><span class="s3">: </span><span class="s1">ServerMonitoringMode</span><span class="s3">;</span>
<a name="l6048"><span class="ln">6048 </span></a><span class="s3">}</span>
<a name="l6049"><span class="ln">6049 </span></a>
<a name="l6050"><span class="ln">6050 </span></a><span class="s0">/* Excluded from this release type: MonitorPrivate */</span>
<a name="l6051"><span class="ln">6051 </span></a>
<a name="l6052"><span class="ln">6052 </span></a><span class="s5">/**</span>
<a name="l6053"><span class="ln">6053 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6054"><span class="ln">6054 </span></a> <span class="s5">* returns tuple of strings (keys to be joined on '.') that represent every path into a schema</span>
<a name="l6055"><span class="ln">6055 </span></a> <span class="s5">* https://www.mongodb.com/docs/manual/tutorial/query-embedded-documents/</span>
<a name="l6056"><span class="ln">6056 </span></a> <span class="s5">*</span>
<a name="l6057"><span class="ln">6057 </span></a> <span class="s5">* </span><span class="s6">@remarks</span>
<a name="l6058"><span class="ln">6058 </span></a> <span class="s5">* Through testing we determined that a depth of 8 is safe for the typescript compiler</span>
<a name="l6059"><span class="ln">6059 </span></a> <span class="s5">* and provides reasonable compilation times. This number is otherwise not special and</span>
<a name="l6060"><span class="ln">6060 </span></a> <span class="s5">* should be changed if issues are found with this level of checking. Beyond this</span>
<a name="l6061"><span class="ln">6061 </span></a> <span class="s5">* depth any helpers that make use of NestedPaths should devolve to not asserting any</span>
<a name="l6062"><span class="ln">6062 </span></a> <span class="s5">* type safety on the input.</span>
<a name="l6063"><span class="ln">6063 </span></a> <span class="s5">*/</span>
<a name="l6064"><span class="ln">6064 </span></a><span class="s2">export </span><span class="s1">declare type NestedPaths</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">, </span><span class="s1">Depth </span><span class="s2">extends </span><span class="s1">number</span><span class="s3">[]&gt; = </span><span class="s1">Depth</span><span class="s3">[</span><span class="s4">'length'</span><span class="s3">] </span><span class="s2">extends </span><span class="s7">8 </span><span class="s3">? [] : </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">string </span><span class="s3">| </span><span class="s1">number </span><span class="s3">| </span><span class="s1">bigint </span><span class="s3">| </span><span class="s1">boolean </span><span class="s3">| </span><span class="s1">Date </span><span class="s3">| </span><span class="s1">RegExp </span><span class="s3">| </span><span class="s1">Buffer </span><span class="s3">| </span><span class="s1">Uint8Array </span><span class="s3">| ((</span><span class="s1">...args</span><span class="s3">: </span><span class="s1">any</span><span class="s3">[]) =&gt; </span><span class="s1">any</span><span class="s3">) | {</span>
<a name="l6065"><span class="ln">6065 </span></a>    <span class="s1">_bsontype</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6066"><span class="ln">6066 </span></a><span class="s3">} ? [] : </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">infer ArrayType</span><span class="s3">&gt; ? [] | [</span><span class="s1">number</span><span class="s3">, </span><span class="s1">...NestedPaths</span><span class="s3">&lt;</span><span class="s1">ArrayType</span><span class="s3">, [</span><span class="s1">...Depth</span><span class="s3">, </span><span class="s7">1</span><span class="s3">]&gt;] : </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">Map</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">any</span><span class="s3">&gt; ? [</span><span class="s1">string</span><span class="s3">] : </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">object </span><span class="s3">? {</span>
<a name="l6067"><span class="ln">6067 </span></a>    <span class="s3">[</span><span class="s1">Key </span><span class="s2">in </span><span class="s1">Extract</span><span class="s3">&lt;</span><span class="s1">keyof Type</span><span class="s3">, </span><span class="s1">string</span><span class="s3">&gt;]: </span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Key</span><span class="s3">] </span><span class="s2">extends </span><span class="s1">Type </span><span class="s3">? [</span><span class="s1">Key</span><span class="s3">] : </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Key</span><span class="s3">] ? [</span><span class="s1">Key</span><span class="s3">] : </span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Key</span><span class="s3">] </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">infer ArrayType</span><span class="s3">&gt; ? </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">ArrayType </span><span class="s3">? [</span><span class="s1">Key</span><span class="s3">] : </span><span class="s1">ArrayType </span><span class="s2">extends </span><span class="s1">Type </span><span class="s3">? [</span><span class="s1">Key</span><span class="s3">] : [</span>
<a name="l6068"><span class="ln">6068 </span></a>    <span class="s1">Key</span><span class="s3">,</span>
<a name="l6069"><span class="ln">6069 </span></a>    <span class="s1">...NestedPaths</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Key</span><span class="s3">], [</span><span class="s1">...Depth</span><span class="s3">, </span><span class="s7">1</span><span class="s3">]&gt;</span>
<a name="l6070"><span class="ln">6070 </span></a>    <span class="s3">] : </span><span class="s0">// child is not structured the same as the parent</span>
<a name="l6071"><span class="ln">6071 </span></a>    <span class="s3">[</span>
<a name="l6072"><span class="ln">6072 </span></a>    <span class="s1">Key</span><span class="s3">,</span>
<a name="l6073"><span class="ln">6073 </span></a>    <span class="s1">...NestedPaths</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Key</span><span class="s3">], [</span><span class="s1">...Depth</span><span class="s3">, </span><span class="s7">1</span><span class="s3">]&gt;</span>
<a name="l6074"><span class="ln">6074 </span></a>    <span class="s3">] | [</span><span class="s1">Key</span><span class="s3">];</span>
<a name="l6075"><span class="ln">6075 </span></a><span class="s3">}[</span><span class="s1">Extract</span><span class="s3">&lt;</span><span class="s1">keyof Type</span><span class="s3">, </span><span class="s1">string</span><span class="s3">&gt;] : [];</span>
<a name="l6076"><span class="ln">6076 </span></a>
<a name="l6077"><span class="ln">6077 </span></a><span class="s5">/**</span>
<a name="l6078"><span class="ln">6078 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6079"><span class="ln">6079 </span></a> <span class="s5">* returns keys (strings) for every path into a schema with a value of type</span>
<a name="l6080"><span class="ln">6080 </span></a> <span class="s5">* https://www.mongodb.com/docs/manual/tutorial/query-embedded-documents/</span>
<a name="l6081"><span class="ln">6081 </span></a> <span class="s5">*/</span>
<a name="l6082"><span class="ln">6082 </span></a><span class="s2">export </span><span class="s1">declare type NestedPathsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Type</span><span class="s3">&gt; = </span><span class="s1">KeysOfAType</span><span class="s3">&lt;{</span>
<a name="l6083"><span class="ln">6083 </span></a>    <span class="s3">[</span><span class="s1">Property </span><span class="s2">in </span><span class="s1">Join</span><span class="s3">&lt;</span><span class="s1">NestedPaths</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, []&gt;, </span><span class="s4">'.'</span><span class="s3">&gt;]: </span><span class="s1">PropertyType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Property</span><span class="s3">&gt;;</span>
<a name="l6084"><span class="ln">6084 </span></a><span class="s3">}, </span><span class="s1">Type</span><span class="s3">&gt;;</span>
<a name="l6085"><span class="ln">6085 </span></a>
<a name="l6086"><span class="ln">6086 </span></a><span class="s5">/**</span>
<a name="l6087"><span class="ln">6087 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6088"><span class="ln">6088 </span></a> <span class="s5">* A type that extends Document but forbids anything that &quot;looks like&quot; an object id.</span>
<a name="l6089"><span class="ln">6089 </span></a> <span class="s5">*/</span>
<a name="l6090"><span class="ln">6090 </span></a><span class="s2">export </span><span class="s1">declare type NonObjectIdLikeDocument </span><span class="s3">= {</span>
<a name="l6091"><span class="ln">6091 </span></a>    <span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">keyof ObjectIdLike</span><span class="s3">]?: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l6092"><span class="ln">6092 </span></a><span class="s3">} &amp; </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6093"><span class="ln">6093 </span></a>
<a name="l6094"><span class="ln">6094 </span></a><span class="s5">/** It avoids using fields with not acceptable types @public */</span>
<a name="l6095"><span class="ln">6095 </span></a><span class="s2">export </span><span class="s1">declare type NotAcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">FieldType</span><span class="s3">&gt; = {</span>
<a name="l6096"><span class="ln">6096 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">KeysOfOtherType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">FieldType</span><span class="s3">&gt;]?: </span><span class="s1">never</span><span class="s3">;</span>
<a name="l6097"><span class="ln">6097 </span></a><span class="s3">};</span>
<a name="l6098"><span class="ln">6098 </span></a>
<a name="l6099"><span class="ln">6099 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6100"><span class="ln">6100 </span></a><span class="s2">export </span><span class="s1">declare type NumericType </span><span class="s3">= </span><span class="s1">IntegerType </span><span class="s3">| </span><span class="s1">Decimal128 </span><span class="s3">| </span><span class="s1">Double</span><span class="s3">;</span>
<a name="l6101"><span class="ln">6101 </span></a>
<a name="l6102"><span class="ln">6102 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">ObjectId </span><span class="s3">}</span>
<a name="l6103"><span class="ln">6103 </span></a>
<a name="l6104"><span class="ln">6104 </span></a><span class="s5">/**</span>
<a name="l6105"><span class="ln">6105 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6106"><span class="ln">6106 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l6107"><span class="ln">6107 </span></a> <span class="s5">*/</span>
<a name="l6108"><span class="ln">6108 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">OIDCCallbackContext </span><span class="s3">{</span>
<a name="l6109"><span class="ln">6109 </span></a>    <span class="s1">refreshToken</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6110"><span class="ln">6110 </span></a>    <span class="s1">timeoutSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6111"><span class="ln">6111 </span></a>    <span class="s1">timeoutContext</span><span class="s3">?: </span><span class="s1">AbortSignal</span><span class="s3">;</span>
<a name="l6112"><span class="ln">6112 </span></a>    <span class="s1">version</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6113"><span class="ln">6113 </span></a><span class="s3">}</span>
<a name="l6114"><span class="ln">6114 </span></a>
<a name="l6115"><span class="ln">6115 </span></a><span class="s5">/**</span>
<a name="l6116"><span class="ln">6116 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6117"><span class="ln">6117 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l6118"><span class="ln">6118 </span></a> <span class="s5">*/</span>
<a name="l6119"><span class="ln">6119 </span></a><span class="s2">export </span><span class="s1">declare type OIDCRefreshFunction </span><span class="s3">= (</span><span class="s1">info</span><span class="s3">: </span><span class="s1">IdPServerInfo</span><span class="s3">, </span><span class="s1">context</span><span class="s3">: </span><span class="s1">OIDCCallbackContext</span><span class="s3">) =&gt; </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">IdPServerResponse</span><span class="s3">&gt;;</span>
<a name="l6120"><span class="ln">6120 </span></a>
<a name="l6121"><span class="ln">6121 </span></a><span class="s5">/**</span>
<a name="l6122"><span class="ln">6122 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6123"><span class="ln">6123 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l6124"><span class="ln">6124 </span></a> <span class="s5">*/</span>
<a name="l6125"><span class="ln">6125 </span></a><span class="s2">export </span><span class="s1">declare type OIDCRequestFunction </span><span class="s3">= (</span><span class="s1">info</span><span class="s3">: </span><span class="s1">IdPServerInfo</span><span class="s3">, </span><span class="s1">context</span><span class="s3">: </span><span class="s1">OIDCCallbackContext</span><span class="s3">) =&gt; </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">IdPServerResponse</span><span class="s3">&gt;;</span>
<a name="l6126"><span class="ln">6126 </span></a>
<a name="l6127"><span class="ln">6127 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6128"><span class="ln">6128 </span></a><span class="s2">export </span><span class="s1">declare type OneOrMore</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt; = </span><span class="s1">T </span><span class="s3">| </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l6129"><span class="ln">6129 </span></a>
<a name="l6130"><span class="ln">6130 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6131"><span class="ln">6131 </span></a><span class="s2">export </span><span class="s1">declare type OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">FieldType </span><span class="s3">= </span><span class="s1">any</span><span class="s3">, </span><span class="s1">AssignableType </span><span class="s3">= </span><span class="s1">FieldType</span><span class="s3">&gt; = </span><span class="s1">IsAny</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">keyof TSchema</span><span class="s3">], </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">FieldType</span><span class="s3">&gt;, </span><span class="s1">AcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">FieldType</span><span class="s3">, </span><span class="s1">AssignableType</span><span class="s3">&gt; &amp; </span><span class="s1">NotAcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">FieldType</span><span class="s3">&gt; &amp; </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">AssignableType</span><span class="s3">&gt;&gt;;</span>
<a name="l6132"><span class="ln">6132 </span></a>
<a name="l6133"><span class="ln">6133 </span></a><span class="s0">/* Excluded from this release type: OpCompressedRequest */</span>
<a name="l6134"><span class="ln">6134 </span></a>
<a name="l6135"><span class="ln">6135 </span></a><span class="s0">/* Excluded from this release type: OperationDescription */</span>
<a name="l6136"><span class="ln">6136 </span></a>
<a name="l6137"><span class="ln">6137 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6138"><span class="ln">6138 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">OperationOptions </span><span class="s2">extends </span><span class="s1">BSONSerializeOptions </span><span class="s3">{</span>
<a name="l6139"><span class="ln">6139 </span></a>    <span class="s5">/** Specify ClientSession for this command */</span>
<a name="l6140"><span class="ln">6140 </span></a>    <span class="s1">session</span><span class="s3">?: </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l6141"><span class="ln">6141 </span></a>    <span class="s1">willRetryWrite</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6142"><span class="ln">6142 </span></a>    <span class="s5">/** The preferred read preference (ReadPreference.primary, ReadPreference.primary_preferred, ReadPreference.secondary, ReadPreference.secondary_preferred, ReadPreference.nearest). */</span>
<a name="l6143"><span class="ln">6143 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l6144"><span class="ln">6144 </span></a>    <span class="s0">/* Excluded from this release type: bypassPinningCheck */</span>
<a name="l6145"><span class="ln">6145 </span></a>    <span class="s1">omitReadPreference</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6146"><span class="ln">6146 </span></a><span class="s3">}</span>
<a name="l6147"><span class="ln">6147 </span></a>
<a name="l6148"><span class="ln">6148 </span></a><span class="s0">/* Excluded from this release type: OperationParent */</span>
<a name="l6149"><span class="ln">6149 </span></a>
<a name="l6150"><span class="ln">6150 </span></a><span class="s5">/**</span>
<a name="l6151"><span class="ln">6151 </span></a> <span class="s5">* Represents a specific point in time on a server. Can be retrieved by using `db.command()`</span>
<a name="l6152"><span class="ln">6152 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6153"><span class="ln">6153 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/method/db.runCommand/#response</span>
<a name="l6154"><span class="ln">6154 </span></a> <span class="s5">*/</span>
<a name="l6155"><span class="ln">6155 </span></a><span class="s2">export </span><span class="s1">declare type OperationTime </span><span class="s3">= </span><span class="s1">Timestamp</span><span class="s3">;</span>
<a name="l6156"><span class="ln">6156 </span></a>
<a name="l6157"><span class="ln">6157 </span></a><span class="s0">/* Excluded from this release type: OpMsgOptions */</span>
<a name="l6158"><span class="ln">6158 </span></a>
<a name="l6159"><span class="ln">6159 </span></a><span class="s0">/* Excluded from this release type: OpMsgRequest */</span>
<a name="l6160"><span class="ln">6160 </span></a>
<a name="l6161"><span class="ln">6161 </span></a><span class="s0">/* Excluded from this release type: OpMsgResponse */</span>
<a name="l6162"><span class="ln">6162 </span></a>
<a name="l6163"><span class="ln">6163 </span></a><span class="s0">/* Excluded from this release type: OpQueryOptions */</span>
<a name="l6164"><span class="ln">6164 </span></a>
<a name="l6165"><span class="ln">6165 </span></a><span class="s0">/* Excluded from this release type: OpQueryRequest */</span>
<a name="l6166"><span class="ln">6166 </span></a>
<a name="l6167"><span class="ln">6167 </span></a><span class="s0">/* Excluded from this release type: OpQueryResponse */</span>
<a name="l6168"><span class="ln">6168 </span></a>
<a name="l6169"><span class="ln">6169 </span></a><span class="s0">/* Excluded from this release type: OpResponseOptions */</span>
<a name="l6170"><span class="ln">6170 </span></a>
<a name="l6171"><span class="ln">6171 </span></a><span class="s5">/**</span>
<a name="l6172"><span class="ln">6172 </span></a> <span class="s5">* Add an optional _id field to an object shaped type</span>
<a name="l6173"><span class="ln">6173 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6174"><span class="ln">6174 </span></a> <span class="s5">*/</span>
<a name="l6175"><span class="ln">6175 </span></a><span class="s2">export </span><span class="s1">declare type OptionalId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">EnhancedOmit</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s4">'_id'</span><span class="s3">&gt; &amp; {</span>
<a name="l6176"><span class="ln">6176 </span></a>    <span class="s1">_id</span><span class="s3">?: </span><span class="s1">InferIdType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6177"><span class="ln">6177 </span></a><span class="s3">};</span>
<a name="l6178"><span class="ln">6178 </span></a>
<a name="l6179"><span class="ln">6179 </span></a><span class="s5">/**</span>
<a name="l6180"><span class="ln">6180 </span></a> <span class="s5">* Adds an optional _id field to an object shaped type, unless the _id field is required on that type.</span>
<a name="l6181"><span class="ln">6181 </span></a> <span class="s5">* In the case _id is required, this method continues to require_id.</span>
<a name="l6182"><span class="ln">6182 </span></a> <span class="s5">*</span>
<a name="l6183"><span class="ln">6183 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6184"><span class="ln">6184 </span></a> <span class="s5">*</span>
<a name="l6185"><span class="ln">6185 </span></a> <span class="s5">* </span><span class="s6">@privateRemarks</span>
<a name="l6186"><span class="ln">6186 </span></a> <span class="s5">* `ObjectId extends TSchema['_id']` is a confusing ordering at first glance. Rather than ask</span>
<a name="l6187"><span class="ln">6187 </span></a> <span class="s5">* `TSchema['_id'] extends ObjectId` which translated to &quot;Is the _id property ObjectId?&quot;</span>
<a name="l6188"><span class="ln">6188 </span></a> <span class="s5">* we instead ask &quot;Does ObjectId look like (have the same shape) as the _id?&quot;</span>
<a name="l6189"><span class="ln">6189 </span></a> <span class="s5">*/</span>
<a name="l6190"><span class="ln">6190 </span></a><span class="s2">export </span><span class="s1">declare type OptionalUnlessRequiredId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s3">{</span>
<a name="l6191"><span class="ln">6191 </span></a>    <span class="s1">_id</span><span class="s3">: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6192"><span class="ln">6192 </span></a><span class="s3">} ? </span><span class="s1">TSchema </span><span class="s3">: </span><span class="s1">OptionalId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6193"><span class="ln">6193 </span></a>
<a name="l6194"><span class="ln">6194 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6195"><span class="ln">6195 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">OrderedBulkOperation </span><span class="s2">extends </span><span class="s1">BulkOperationBase </span><span class="s3">{</span>
<a name="l6196"><span class="ln">6196 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6197"><span class="ln">6197 </span></a>    <span class="s1">addToOperationsList</span><span class="s3">(</span><span class="s1">batchType</span><span class="s3">: </span><span class="s1">BatchType</span><span class="s3">, </span><span class="s1">document</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">UpdateStatement </span><span class="s3">| </span><span class="s1">DeleteStatement</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l6198"><span class="ln">6198 </span></a><span class="s3">}</span>
<a name="l6199"><span class="ln">6199 </span></a>
<a name="l6200"><span class="ln">6200 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6201"><span class="ln">6201 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">PkFactory </span><span class="s3">{</span>
<a name="l6202"><span class="ln">6202 </span></a>    <span class="s1">createPk</span><span class="s3">(): </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6203"><span class="ln">6203 </span></a><span class="s3">}</span>
<a name="l6204"><span class="ln">6204 </span></a>
<a name="l6205"><span class="ln">6205 </span></a><span class="s0">/* Excluded from this release type: PoolState */</span>
<a name="l6206"><span class="ln">6206 </span></a>
<a name="l6207"><span class="ln">6207 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6208"><span class="ln">6208 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ProfilingLevel</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6209"><span class="ln">6209 </span></a>    <span class="s1">readonly off</span><span class="s3">: </span><span class="s4">&quot;off&quot;</span><span class="s3">;</span>
<a name="l6210"><span class="ln">6210 </span></a>    <span class="s1">readonly slowOnly</span><span class="s3">: </span><span class="s4">&quot;slow_only&quot;</span><span class="s3">;</span>
<a name="l6211"><span class="ln">6211 </span></a>    <span class="s1">readonly all</span><span class="s3">: </span><span class="s4">&quot;all&quot;</span><span class="s3">;</span>
<a name="l6212"><span class="ln">6212 </span></a><span class="s3">}&gt;;</span>
<a name="l6213"><span class="ln">6213 </span></a>
<a name="l6214"><span class="ln">6214 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6215"><span class="ln">6215 </span></a><span class="s2">export </span><span class="s1">declare type ProfilingLevel </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">ProfilingLevel</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">ProfilingLevel</span><span class="s3">];</span>
<a name="l6216"><span class="ln">6216 </span></a>
<a name="l6217"><span class="ln">6217 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6218"><span class="ln">6218 </span></a><span class="s2">export </span><span class="s1">declare type ProfilingLevelOptions </span><span class="s3">= </span><span class="s1">CommandOperationOptions</span><span class="s3">;</span>
<a name="l6219"><span class="ln">6219 </span></a>
<a name="l6220"><span class="ln">6220 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6221"><span class="ln">6221 </span></a><span class="s2">export </span><span class="s1">declare type PropertyType</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">, </span><span class="s1">Property </span><span class="s2">extends </span><span class="s1">string</span><span class="s3">&gt; = </span><span class="s1">string </span><span class="s2">extends </span><span class="s1">Property </span><span class="s3">? </span><span class="s1">unknown </span><span class="s3">: </span><span class="s1">Property </span><span class="s2">extends </span><span class="s1">keyof Type </span><span class="s3">? </span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Property</span><span class="s3">] : </span><span class="s1">Property </span><span class="s2">extends </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">number</span><span class="s3">}</span><span class="s4">` </span><span class="s3">? </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">infer ArrayType</span><span class="s3">&gt; ? </span><span class="s1">ArrayType </span><span class="s3">: </span><span class="s1">unknown </span><span class="s3">: </span><span class="s1">Property </span><span class="s2">extends </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">infer Key</span><span class="s3">}</span><span class="s4">.</span><span class="s1">$</span><span class="s3">{</span><span class="s1">infer Rest</span><span class="s3">}</span><span class="s4">` </span><span class="s3">? </span><span class="s1">Key </span><span class="s2">extends </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">number</span><span class="s3">}</span><span class="s4">` </span><span class="s3">? </span><span class="s1">Type </span><span class="s2">extends </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">infer ArrayType</span><span class="s3">&gt; ? </span><span class="s1">PropertyType</span><span class="s3">&lt;</span><span class="s1">ArrayType</span><span class="s3">, </span><span class="s1">Rest</span><span class="s3">&gt; : </span><span class="s1">unknown </span><span class="s3">: </span><span class="s1">Key </span><span class="s2">extends </span><span class="s1">keyof Type </span><span class="s3">? </span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Key</span><span class="s3">] </span><span class="s2">extends </span><span class="s1">Map</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">infer MapType</span><span class="s3">&gt; ? </span><span class="s1">MapType </span><span class="s3">: </span><span class="s1">PropertyType</span><span class="s3">&lt;</span><span class="s1">Type</span><span class="s3">[</span><span class="s1">Key</span><span class="s3">], </span><span class="s1">Rest</span><span class="s3">&gt; : </span><span class="s1">unknown </span><span class="s3">: </span><span class="s1">unknown</span><span class="s3">;</span>
<a name="l6222"><span class="ln">6222 </span></a>
<a name="l6223"><span class="ln">6223 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6224"><span class="ln">6224 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ProxyOptions </span><span class="s3">{</span>
<a name="l6225"><span class="ln">6225 </span></a>    <span class="s1">proxyHost</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6226"><span class="ln">6226 </span></a>    <span class="s1">proxyPort</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6227"><span class="ln">6227 </span></a>    <span class="s1">proxyUsername</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6228"><span class="ln">6228 </span></a>    <span class="s1">proxyPassword</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6229"><span class="ln">6229 </span></a><span class="s3">}</span>
<a name="l6230"><span class="ln">6230 </span></a>
<a name="l6231"><span class="ln">6231 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6232"><span class="ln">6232 </span></a><span class="s2">export </span><span class="s1">declare type PullAllOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = ({</span>
<a name="l6233"><span class="ln">6233 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">KeysOfAType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;&gt;]?: </span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">];</span>
<a name="l6234"><span class="ln">6234 </span></a><span class="s3">} &amp; </span><span class="s1">NotAcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;&gt;) &amp; {</span>
<a name="l6235"><span class="ln">6235 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;;</span>
<a name="l6236"><span class="ln">6236 </span></a><span class="s3">};</span>
<a name="l6237"><span class="ln">6237 </span></a>
<a name="l6238"><span class="ln">6238 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6239"><span class="ln">6239 </span></a><span class="s2">export </span><span class="s1">declare type PullOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = ({</span>
<a name="l6240"><span class="ln">6240 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">KeysOfAType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;&gt;]?: </span><span class="s1">Partial</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt;&gt; | </span><span class="s1">FilterOperations</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt;&gt;;</span>
<a name="l6241"><span class="ln">6241 </span></a><span class="s3">} &amp; </span><span class="s1">NotAcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;&gt;) &amp; {</span>
<a name="l6242"><span class="ln">6242 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">FilterOperators</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt; | </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6243"><span class="ln">6243 </span></a><span class="s3">};</span>
<a name="l6244"><span class="ln">6244 </span></a>
<a name="l6245"><span class="ln">6245 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6246"><span class="ln">6246 </span></a><span class="s2">export </span><span class="s1">declare type PushOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = ({</span>
<a name="l6247"><span class="ln">6247 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">KeysOfAType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;&gt;]?: </span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt; | </span><span class="s1">ArrayOperator</span><span class="s3">&lt;</span><span class="s1">Array</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt;&gt;&gt;;</span>
<a name="l6248"><span class="ln">6248 </span></a><span class="s3">} &amp; </span><span class="s1">NotAcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;&gt;) &amp; {</span>
<a name="l6249"><span class="ln">6249 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">ArrayOperator</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt; | </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6250"><span class="ln">6250 </span></a><span class="s3">};</span>
<a name="l6251"><span class="ln">6251 </span></a>
<a name="l6252"><span class="ln">6252 </span></a><span class="s5">/**</span>
<a name="l6253"><span class="ln">6253 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6254"><span class="ln">6254 </span></a> <span class="s5">* RangeOptions specifies index options for a Queryable Encryption field supporting &quot;rangePreview&quot; queries.</span>
<a name="l6255"><span class="ln">6255 </span></a> <span class="s5">* min, max, sparsity, and range must match the values set in the encryptedFields of the destination collection.</span>
<a name="l6256"><span class="ln">6256 </span></a> <span class="s5">* For double and decimal128, min/max/precision must all be set, or all be unset.</span>
<a name="l6257"><span class="ln">6257 </span></a> <span class="s5">*/</span>
<a name="l6258"><span class="ln">6258 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">RangeOptions </span><span class="s3">{</span>
<a name="l6259"><span class="ln">6259 </span></a>    <span class="s1">min</span><span class="s3">?: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6260"><span class="ln">6260 </span></a>    <span class="s1">max</span><span class="s3">?: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6261"><span class="ln">6261 </span></a>    <span class="s1">sparsity</span><span class="s3">: </span><span class="s1">Long</span><span class="s3">;</span>
<a name="l6262"><span class="ln">6262 </span></a>    <span class="s1">precision</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6263"><span class="ln">6263 </span></a><span class="s3">}</span>
<a name="l6264"><span class="ln">6264 </span></a>
<a name="l6265"><span class="ln">6265 </span></a><span class="s0">/* Excluded from this release type: read */</span>
<a name="l6266"><span class="ln">6266 </span></a>
<a name="l6267"><span class="ln">6267 </span></a><span class="s5">/**</span>
<a name="l6268"><span class="ln">6268 </span></a> <span class="s5">* The MongoDB ReadConcern, which allows for control of the consistency and isolation properties</span>
<a name="l6269"><span class="ln">6269 </span></a> <span class="s5">* of the data read from replica sets and replica set shards.</span>
<a name="l6270"><span class="ln">6270 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6271"><span class="ln">6271 </span></a> <span class="s5">*</span>
<a name="l6272"><span class="ln">6272 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/read-concern/index.html</span>
<a name="l6273"><span class="ln">6273 </span></a> <span class="s5">*/</span>
<a name="l6274"><span class="ln">6274 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ReadConcern </span><span class="s3">{</span>
<a name="l6275"><span class="ln">6275 </span></a>    <span class="s1">level</span><span class="s3">: </span><span class="s1">ReadConcernLevel </span><span class="s3">| </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6276"><span class="ln">6276 </span></a>    <span class="s5">/** Constructs a ReadConcern from the read concern level.*/</span>
<a name="l6277"><span class="ln">6277 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">level</span><span class="s3">: </span><span class="s1">ReadConcernLevel</span><span class="s3">);</span>
<a name="l6278"><span class="ln">6278 </span></a>    <span class="s5">/**</span>
<a name="l6279"><span class="ln">6279 </span></a>     <span class="s5">* Construct a ReadConcern given an options object.</span>
<a name="l6280"><span class="ln">6280 </span></a>     <span class="s5">*</span>
<a name="l6281"><span class="ln">6281 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - The options object from which to extract the write concern.</span>
<a name="l6282"><span class="ln">6282 </span></a>     <span class="s5">*/</span>
<a name="l6283"><span class="ln">6283 </span></a>    <span class="s2">static </span><span class="s1">fromOptions</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: {</span>
<a name="l6284"><span class="ln">6284 </span></a>        <span class="s1">readConcern</span><span class="s3">?: </span><span class="s1">ReadConcernLike</span><span class="s3">;</span>
<a name="l6285"><span class="ln">6285 </span></a>        <span class="s1">level</span><span class="s3">?: </span><span class="s1">ReadConcernLevel</span><span class="s3">;</span>
<a name="l6286"><span class="ln">6286 </span></a>    <span class="s3">}): </span><span class="s1">ReadConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l6287"><span class="ln">6287 </span></a>    <span class="s2">static </span><span class="s1">get MAJORITY</span><span class="s3">(): </span><span class="s4">'majority'</span><span class="s3">;</span>
<a name="l6288"><span class="ln">6288 </span></a>    <span class="s2">static </span><span class="s1">get AVAILABLE</span><span class="s3">(): </span><span class="s4">'available'</span><span class="s3">;</span>
<a name="l6289"><span class="ln">6289 </span></a>    <span class="s2">static </span><span class="s1">get LINEARIZABLE</span><span class="s3">(): </span><span class="s4">'linearizable'</span><span class="s3">;</span>
<a name="l6290"><span class="ln">6290 </span></a>    <span class="s2">static </span><span class="s1">get SNAPSHOT</span><span class="s3">(): </span><span class="s4">'snapshot'</span><span class="s3">;</span>
<a name="l6291"><span class="ln">6291 </span></a>    <span class="s1">toJSON</span><span class="s3">(): </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6292"><span class="ln">6292 </span></a><span class="s3">}</span>
<a name="l6293"><span class="ln">6293 </span></a>
<a name="l6294"><span class="ln">6294 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6295"><span class="ln">6295 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ReadConcernLevel</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6296"><span class="ln">6296 </span></a>    <span class="s1">readonly local</span><span class="s3">: </span><span class="s4">&quot;local&quot;</span><span class="s3">;</span>
<a name="l6297"><span class="ln">6297 </span></a>    <span class="s1">readonly majority</span><span class="s3">: </span><span class="s4">&quot;majority&quot;</span><span class="s3">;</span>
<a name="l6298"><span class="ln">6298 </span></a>    <span class="s1">readonly linearizable</span><span class="s3">: </span><span class="s4">&quot;linearizable&quot;</span><span class="s3">;</span>
<a name="l6299"><span class="ln">6299 </span></a>    <span class="s1">readonly available</span><span class="s3">: </span><span class="s4">&quot;available&quot;</span><span class="s3">;</span>
<a name="l6300"><span class="ln">6300 </span></a>    <span class="s1">readonly snapshot</span><span class="s3">: </span><span class="s4">&quot;snapshot&quot;</span><span class="s3">;</span>
<a name="l6301"><span class="ln">6301 </span></a><span class="s3">}&gt;;</span>
<a name="l6302"><span class="ln">6302 </span></a>
<a name="l6303"><span class="ln">6303 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6304"><span class="ln">6304 </span></a><span class="s2">export </span><span class="s1">declare type ReadConcernLevel </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">ReadConcernLevel</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">ReadConcernLevel</span><span class="s3">];</span>
<a name="l6305"><span class="ln">6305 </span></a>
<a name="l6306"><span class="ln">6306 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6307"><span class="ln">6307 </span></a><span class="s2">export </span><span class="s1">declare type ReadConcernLike </span><span class="s3">= </span><span class="s1">ReadConcern </span><span class="s3">| {</span>
<a name="l6308"><span class="ln">6308 </span></a>    <span class="s1">level</span><span class="s3">: </span><span class="s1">ReadConcernLevel</span><span class="s3">;</span>
<a name="l6309"><span class="ln">6309 </span></a><span class="s3">} | </span><span class="s1">ReadConcernLevel</span><span class="s3">;</span>
<a name="l6310"><span class="ln">6310 </span></a>
<a name="l6311"><span class="ln">6311 </span></a><span class="s0">/* Excluded from this release type: readMany */</span>
<a name="l6312"><span class="ln">6312 </span></a>
<a name="l6313"><span class="ln">6313 </span></a><span class="s5">/**</span>
<a name="l6314"><span class="ln">6314 </span></a> <span class="s5">* The **ReadPreference** class is a class that represents a MongoDB ReadPreference and is</span>
<a name="l6315"><span class="ln">6315 </span></a> <span class="s5">* used to construct connections.</span>
<a name="l6316"><span class="ln">6316 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6317"><span class="ln">6317 </span></a> <span class="s5">*</span>
<a name="l6318"><span class="ln">6318 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/core/read-preference/</span>
<a name="l6319"><span class="ln">6319 </span></a> <span class="s5">*/</span>
<a name="l6320"><span class="ln">6320 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ReadPreference </span><span class="s3">{</span>
<a name="l6321"><span class="ln">6321 </span></a>    <span class="s1">mode</span><span class="s3">: </span><span class="s1">ReadPreferenceMode</span><span class="s3">;</span>
<a name="l6322"><span class="ln">6322 </span></a>    <span class="s1">tags</span><span class="s3">?: </span><span class="s1">TagSet</span><span class="s3">[];</span>
<a name="l6323"><span class="ln">6323 </span></a>    <span class="s1">hedge</span><span class="s3">?: </span><span class="s1">HedgeOptions</span><span class="s3">;</span>
<a name="l6324"><span class="ln">6324 </span></a>    <span class="s1">maxStalenessSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6325"><span class="ln">6325 </span></a>    <span class="s1">minWireVersion</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6326"><span class="ln">6326 </span></a>    <span class="s2">static </span><span class="s1">PRIMARY</span><span class="s3">: </span><span class="s4">&quot;primary&quot;</span><span class="s3">;</span>
<a name="l6327"><span class="ln">6327 </span></a>    <span class="s2">static </span><span class="s1">PRIMARY_PREFERRED</span><span class="s3">: </span><span class="s4">&quot;primaryPreferred&quot;</span><span class="s3">;</span>
<a name="l6328"><span class="ln">6328 </span></a>    <span class="s2">static </span><span class="s1">SECONDARY</span><span class="s3">: </span><span class="s4">&quot;secondary&quot;</span><span class="s3">;</span>
<a name="l6329"><span class="ln">6329 </span></a>    <span class="s2">static </span><span class="s1">SECONDARY_PREFERRED</span><span class="s3">: </span><span class="s4">&quot;secondaryPreferred&quot;</span><span class="s3">;</span>
<a name="l6330"><span class="ln">6330 </span></a>    <span class="s2">static </span><span class="s1">NEAREST</span><span class="s3">: </span><span class="s4">&quot;nearest&quot;</span><span class="s3">;</span>
<a name="l6331"><span class="ln">6331 </span></a>    <span class="s2">static </span><span class="s1">primary</span><span class="s3">: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l6332"><span class="ln">6332 </span></a>    <span class="s2">static </span><span class="s1">primaryPreferred</span><span class="s3">: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l6333"><span class="ln">6333 </span></a>    <span class="s2">static </span><span class="s1">secondary</span><span class="s3">: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l6334"><span class="ln">6334 </span></a>    <span class="s2">static </span><span class="s1">secondaryPreferred</span><span class="s3">: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l6335"><span class="ln">6335 </span></a>    <span class="s2">static </span><span class="s1">nearest</span><span class="s3">: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l6336"><span class="ln">6336 </span></a>    <span class="s5">/**</span>
<a name="l6337"><span class="ln">6337 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">mode - A string describing the read preference mode (primary|primaryPreferred|secondary|secondaryPreferred|nearest)</span>
<a name="l6338"><span class="ln">6338 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">tags - A tag set used to target reads to members with the specified tag(s). tagSet is not available if using read preference mode primary.</span>
<a name="l6339"><span class="ln">6339 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - Additional read preference options</span>
<a name="l6340"><span class="ln">6340 </span></a>     <span class="s5">*/</span>
<a name="l6341"><span class="ln">6341 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">mode</span><span class="s3">: </span><span class="s1">ReadPreferenceMode</span><span class="s3">, </span><span class="s1">tags</span><span class="s3">?: </span><span class="s1">TagSet</span><span class="s3">[], </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ReadPreferenceOptions</span><span class="s3">);</span>
<a name="l6342"><span class="ln">6342 </span></a>    <span class="s1">get preference</span><span class="s3">(): </span><span class="s1">ReadPreferenceMode</span><span class="s3">;</span>
<a name="l6343"><span class="ln">6343 </span></a>    <span class="s2">static </span><span class="s1">fromString</span><span class="s3">(</span><span class="s1">mode</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l6344"><span class="ln">6344 </span></a>    <span class="s5">/**</span>
<a name="l6345"><span class="ln">6345 </span></a>     <span class="s5">* Construct a ReadPreference given an options object.</span>
<a name="l6346"><span class="ln">6346 </span></a>     <span class="s5">*</span>
<a name="l6347"><span class="ln">6347 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">options - The options object from which to extract the read preference.</span>
<a name="l6348"><span class="ln">6348 </span></a>     <span class="s5">*/</span>
<a name="l6349"><span class="ln">6349 </span></a>    <span class="s2">static </span><span class="s1">fromOptions</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">ReadPreferenceFromOptions</span><span class="s3">): </span><span class="s1">ReadPreference </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l6350"><span class="ln">6350 </span></a>    <span class="s5">/**</span>
<a name="l6351"><span class="ln">6351 </span></a>     <span class="s5">* Replaces options.readPreference with a ReadPreference instance</span>
<a name="l6352"><span class="ln">6352 </span></a>     <span class="s5">*/</span>
<a name="l6353"><span class="ln">6353 </span></a>    <span class="s2">static </span><span class="s1">translate</span><span class="s3">(</span><span class="s1">options</span><span class="s3">: </span><span class="s1">ReadPreferenceLikeOptions</span><span class="s3">): </span><span class="s1">ReadPreferenceLikeOptions</span><span class="s3">;</span>
<a name="l6354"><span class="ln">6354 </span></a>    <span class="s5">/**</span>
<a name="l6355"><span class="ln">6355 </span></a>     <span class="s5">* Validate if a mode is legal</span>
<a name="l6356"><span class="ln">6356 </span></a>     <span class="s5">*</span>
<a name="l6357"><span class="ln">6357 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">mode - The string representing the read preference mode.</span>
<a name="l6358"><span class="ln">6358 </span></a>     <span class="s5">*/</span>
<a name="l6359"><span class="ln">6359 </span></a>    <span class="s2">static </span><span class="s1">isValid</span><span class="s3">(</span><span class="s1">mode</span><span class="s3">: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6360"><span class="ln">6360 </span></a>    <span class="s5">/**</span>
<a name="l6361"><span class="ln">6361 </span></a>     <span class="s5">* Validate if a mode is legal</span>
<a name="l6362"><span class="ln">6362 </span></a>     <span class="s5">*</span>
<a name="l6363"><span class="ln">6363 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">mode - The string representing the read preference mode.</span>
<a name="l6364"><span class="ln">6364 </span></a>     <span class="s5">*/</span>
<a name="l6365"><span class="ln">6365 </span></a>    <span class="s1">isValid</span><span class="s3">(</span><span class="s1">mode</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6366"><span class="ln">6366 </span></a>    <span class="s5">/**</span>
<a name="l6367"><span class="ln">6367 </span></a>     <span class="s5">* Indicates that this readPreference needs the &quot;SecondaryOk&quot; bit when sent over the wire</span>
<a name="l6368"><span class="ln">6368 </span></a>     <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/mongodb-wire-protocol/#op-query</span>
<a name="l6369"><span class="ln">6369 </span></a>     <span class="s5">*/</span>
<a name="l6370"><span class="ln">6370 </span></a>    <span class="s1">secondaryOk</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6371"><span class="ln">6371 </span></a>    <span class="s5">/**</span>
<a name="l6372"><span class="ln">6372 </span></a>     <span class="s5">* Check if the two ReadPreferences are equivalent</span>
<a name="l6373"><span class="ln">6373 </span></a>     <span class="s5">*</span>
<a name="l6374"><span class="ln">6374 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">readPreference - The read preference with which to check equality</span>
<a name="l6375"><span class="ln">6375 </span></a>     <span class="s5">*/</span>
<a name="l6376"><span class="ln">6376 </span></a>    <span class="s1">equals</span><span class="s3">(</span><span class="s1">readPreference</span><span class="s3">: </span><span class="s1">ReadPreference</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6377"><span class="ln">6377 </span></a>    <span class="s5">/** Return JSON representation */</span>
<a name="l6378"><span class="ln">6378 </span></a>    <span class="s1">toJSON</span><span class="s3">(): </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6379"><span class="ln">6379 </span></a><span class="s3">}</span>
<a name="l6380"><span class="ln">6380 </span></a>
<a name="l6381"><span class="ln">6381 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6382"><span class="ln">6382 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ReadPreferenceFromOptions </span><span class="s2">extends </span><span class="s1">ReadPreferenceLikeOptions </span><span class="s3">{</span>
<a name="l6383"><span class="ln">6383 </span></a>    <span class="s1">session</span><span class="s3">?: </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l6384"><span class="ln">6384 </span></a>    <span class="s1">readPreferenceTags</span><span class="s3">?: </span><span class="s1">TagSet</span><span class="s3">[];</span>
<a name="l6385"><span class="ln">6385 </span></a>    <span class="s1">hedge</span><span class="s3">?: </span><span class="s1">HedgeOptions</span><span class="s3">;</span>
<a name="l6386"><span class="ln">6386 </span></a><span class="s3">}</span>
<a name="l6387"><span class="ln">6387 </span></a>
<a name="l6388"><span class="ln">6388 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6389"><span class="ln">6389 </span></a><span class="s2">export </span><span class="s1">declare type ReadPreferenceLike </span><span class="s3">= </span><span class="s1">ReadPreference </span><span class="s3">| </span><span class="s1">ReadPreferenceMode</span><span class="s3">;</span>
<a name="l6390"><span class="ln">6390 </span></a>
<a name="l6391"><span class="ln">6391 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6392"><span class="ln">6392 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ReadPreferenceLikeOptions </span><span class="s2">extends </span><span class="s1">ReadPreferenceOptions </span><span class="s3">{</span>
<a name="l6393"><span class="ln">6393 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike </span><span class="s3">| {</span>
<a name="l6394"><span class="ln">6394 </span></a>        <span class="s1">mode</span><span class="s3">?: </span><span class="s1">ReadPreferenceMode</span><span class="s3">;</span>
<a name="l6395"><span class="ln">6395 </span></a>        <span class="s1">preference</span><span class="s3">?: </span><span class="s1">ReadPreferenceMode</span><span class="s3">;</span>
<a name="l6396"><span class="ln">6396 </span></a>        <span class="s1">tags</span><span class="s3">?: </span><span class="s1">TagSet</span><span class="s3">[];</span>
<a name="l6397"><span class="ln">6397 </span></a>        <span class="s1">maxStalenessSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6398"><span class="ln">6398 </span></a>    <span class="s3">};</span>
<a name="l6399"><span class="ln">6399 </span></a><span class="s3">}</span>
<a name="l6400"><span class="ln">6400 </span></a>
<a name="l6401"><span class="ln">6401 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6402"><span class="ln">6402 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ReadPreferenceMode</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6403"><span class="ln">6403 </span></a>    <span class="s1">readonly primary</span><span class="s3">: </span><span class="s4">&quot;primary&quot;</span><span class="s3">;</span>
<a name="l6404"><span class="ln">6404 </span></a>    <span class="s1">readonly primaryPreferred</span><span class="s3">: </span><span class="s4">&quot;primaryPreferred&quot;</span><span class="s3">;</span>
<a name="l6405"><span class="ln">6405 </span></a>    <span class="s1">readonly secondary</span><span class="s3">: </span><span class="s4">&quot;secondary&quot;</span><span class="s3">;</span>
<a name="l6406"><span class="ln">6406 </span></a>    <span class="s1">readonly secondaryPreferred</span><span class="s3">: </span><span class="s4">&quot;secondaryPreferred&quot;</span><span class="s3">;</span>
<a name="l6407"><span class="ln">6407 </span></a>    <span class="s1">readonly nearest</span><span class="s3">: </span><span class="s4">&quot;nearest&quot;</span><span class="s3">;</span>
<a name="l6408"><span class="ln">6408 </span></a><span class="s3">}&gt;;</span>
<a name="l6409"><span class="ln">6409 </span></a>
<a name="l6410"><span class="ln">6410 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6411"><span class="ln">6411 </span></a><span class="s2">export </span><span class="s1">declare type ReadPreferenceMode </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">ReadPreferenceMode</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">ReadPreferenceMode</span><span class="s3">];</span>
<a name="l6412"><span class="ln">6412 </span></a>
<a name="l6413"><span class="ln">6413 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6414"><span class="ln">6414 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ReadPreferenceOptions </span><span class="s3">{</span>
<a name="l6415"><span class="ln">6415 </span></a>    <span class="s5">/** Max secondary read staleness in seconds, Minimum value is 90 seconds.*/</span>
<a name="l6416"><span class="ln">6416 </span></a>    <span class="s1">maxStalenessSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6417"><span class="ln">6417 </span></a>    <span class="s5">/** Server mode in which the same query is dispatched in parallel to multiple replica set members. */</span>
<a name="l6418"><span class="ln">6418 </span></a>    <span class="s1">hedge</span><span class="s3">?: </span><span class="s1">HedgeOptions</span><span class="s3">;</span>
<a name="l6419"><span class="ln">6419 </span></a><span class="s3">}</span>
<a name="l6420"><span class="ln">6420 </span></a>
<a name="l6421"><span class="ln">6421 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6422"><span class="ln">6422 </span></a><span class="s2">export </span><span class="s1">declare type RegExpOrString</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt; = </span><span class="s1">T </span><span class="s2">extends </span><span class="s1">string </span><span class="s3">? </span><span class="s1">BSONRegExp </span><span class="s3">| </span><span class="s1">RegExp </span><span class="s3">| </span><span class="s1">T </span><span class="s3">: </span><span class="s1">T</span><span class="s3">;</span>
<a name="l6423"><span class="ln">6423 </span></a>
<a name="l6424"><span class="ln">6424 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6425"><span class="ln">6425 </span></a><span class="s2">export </span><span class="s1">declare type RemoveUserOptions </span><span class="s3">= </span><span class="s1">CommandOperationOptions</span><span class="s3">;</span>
<a name="l6426"><span class="ln">6426 </span></a>
<a name="l6427"><span class="ln">6427 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6428"><span class="ln">6428 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">RenameOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l6429"><span class="ln">6429 </span></a>    <span class="s5">/** Drop the target name collection if it previously exists. */</span>
<a name="l6430"><span class="ln">6430 </span></a>    <span class="s1">dropTarget</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6431"><span class="ln">6431 </span></a>    <span class="s5">/** Unclear */</span>
<a name="l6432"><span class="ln">6432 </span></a>    <span class="s1">new_collection</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6433"><span class="ln">6433 </span></a><span class="s3">}</span>
<a name="l6434"><span class="ln">6434 </span></a>
<a name="l6435"><span class="ln">6435 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6436"><span class="ln">6436 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ReplaceOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l6437"><span class="ln">6437 </span></a>    <span class="s5">/** The filter to limit the replaced document. */</span>
<a name="l6438"><span class="ln">6438 </span></a>    <span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6439"><span class="ln">6439 </span></a>    <span class="s5">/** The document with which to replace the matched document. */</span>
<a name="l6440"><span class="ln">6440 </span></a>    <span class="s1">replacement</span><span class="s3">: </span><span class="s1">WithoutId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6441"><span class="ln">6441 </span></a>    <span class="s5">/** Specifies a collation. */</span>
<a name="l6442"><span class="ln">6442 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l6443"><span class="ln">6443 </span></a>    <span class="s5">/** The index to use. If specified, then the query system will only consider plans using the hinted index. */</span>
<a name="l6444"><span class="ln">6444 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l6445"><span class="ln">6445 </span></a>    <span class="s5">/** When true, creates a new document if no document matches the query. */</span>
<a name="l6446"><span class="ln">6446 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6447"><span class="ln">6447 </span></a><span class="s3">}</span>
<a name="l6448"><span class="ln">6448 </span></a>
<a name="l6449"><span class="ln">6449 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6450"><span class="ln">6450 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ReplaceOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l6451"><span class="ln">6451 </span></a>    <span class="s5">/** If true, allows the write to opt-out of document level validation */</span>
<a name="l6452"><span class="ln">6452 </span></a>    <span class="s1">bypassDocumentValidation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6453"><span class="ln">6453 </span></a>    <span class="s5">/** Specifies a collation */</span>
<a name="l6454"><span class="ln">6454 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l6455"><span class="ln">6455 </span></a>    <span class="s5">/** Specify that the update query should only consider plans using the hinted index */</span>
<a name="l6456"><span class="ln">6456 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6457"><span class="ln">6457 </span></a>    <span class="s5">/** When true, creates a new document if no document matches the query */</span>
<a name="l6458"><span class="ln">6458 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6459"><span class="ln">6459 </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l6460"><span class="ln">6460 </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6461"><span class="ln">6461 </span></a><span class="s3">}</span>
<a name="l6462"><span class="ln">6462 </span></a>
<a name="l6463"><span class="ln">6463 </span></a><span class="s5">/**</span>
<a name="l6464"><span class="ln">6464 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6465"><span class="ln">6465 </span></a> <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Please use the ChangeStreamCursorOptions type instead.</span>
<a name="l6466"><span class="ln">6466 </span></a> <span class="s5">*/</span>
<a name="l6467"><span class="ln">6467 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ResumeOptions </span><span class="s3">{</span>
<a name="l6468"><span class="ln">6468 </span></a>    <span class="s1">startAtOperationTime</span><span class="s3">?: </span><span class="s1">Timestamp</span><span class="s3">;</span>
<a name="l6469"><span class="ln">6469 </span></a>    <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6470"><span class="ln">6470 </span></a>    <span class="s1">maxAwaitTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6471"><span class="ln">6471 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l6472"><span class="ln">6472 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreference</span><span class="s3">;</span>
<a name="l6473"><span class="ln">6473 </span></a>    <span class="s1">resumeAfter</span><span class="s3">?: </span><span class="s1">ResumeToken</span><span class="s3">;</span>
<a name="l6474"><span class="ln">6474 </span></a>    <span class="s1">startAfter</span><span class="s3">?: </span><span class="s1">ResumeToken</span><span class="s3">;</span>
<a name="l6475"><span class="ln">6475 </span></a>    <span class="s1">fullDocument</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6476"><span class="ln">6476 </span></a><span class="s3">}</span>
<a name="l6477"><span class="ln">6477 </span></a>
<a name="l6478"><span class="ln">6478 </span></a><span class="s5">/**</span>
<a name="l6479"><span class="ln">6479 </span></a> <span class="s5">* Represents the logical starting point for a new ChangeStream or resuming a ChangeStream on the server.</span>
<a name="l6480"><span class="ln">6480 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/changeStreams/#std-label-change-stream-resume</span>
<a name="l6481"><span class="ln">6481 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6482"><span class="ln">6482 </span></a> <span class="s5">*/</span>
<a name="l6483"><span class="ln">6483 </span></a><span class="s2">export </span><span class="s1">declare type ResumeToken </span><span class="s3">= </span><span class="s1">unknown</span><span class="s3">;</span>
<a name="l6484"><span class="ln">6484 </span></a>
<a name="l6485"><span class="ln">6485 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6486"><span class="ln">6486 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ReturnDocument</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6487"><span class="ln">6487 </span></a>    <span class="s1">readonly BEFORE</span><span class="s3">: </span><span class="s4">&quot;before&quot;</span><span class="s3">;</span>
<a name="l6488"><span class="ln">6488 </span></a>    <span class="s1">readonly AFTER</span><span class="s3">: </span><span class="s4">&quot;after&quot;</span><span class="s3">;</span>
<a name="l6489"><span class="ln">6489 </span></a><span class="s3">}&gt;;</span>
<a name="l6490"><span class="ln">6490 </span></a>
<a name="l6491"><span class="ln">6491 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6492"><span class="ln">6492 </span></a><span class="s2">export </span><span class="s1">declare type ReturnDocument </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">ReturnDocument</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">ReturnDocument</span><span class="s3">];</span>
<a name="l6493"><span class="ln">6493 </span></a>
<a name="l6494"><span class="ln">6494 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6495"><span class="ln">6495 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">RootFilterOperators</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">{</span>
<a name="l6496"><span class="ln">6496 </span></a>    <span class="s1">$and</span><span class="s3">?: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[];</span>
<a name="l6497"><span class="ln">6497 </span></a>    <span class="s1">$nor</span><span class="s3">?: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[];</span>
<a name="l6498"><span class="ln">6498 </span></a>    <span class="s1">$or</span><span class="s3">?: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[];</span>
<a name="l6499"><span class="ln">6499 </span></a>    <span class="s1">$text</span><span class="s3">?: {</span>
<a name="l6500"><span class="ln">6500 </span></a>        <span class="s1">$search</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6501"><span class="ln">6501 </span></a>        <span class="s1">$language</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6502"><span class="ln">6502 </span></a>        <span class="s1">$caseSensitive</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6503"><span class="ln">6503 </span></a>        <span class="s1">$diacriticSensitive</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6504"><span class="ln">6504 </span></a>    <span class="s3">};</span>
<a name="l6505"><span class="ln">6505 </span></a>    <span class="s1">$where</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| ((</span><span class="s2">this</span><span class="s3">: </span><span class="s1">TSchema</span><span class="s3">) =&gt; </span><span class="s1">boolean</span><span class="s3">);</span>
<a name="l6506"><span class="ln">6506 </span></a>    <span class="s1">$comment</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6507"><span class="ln">6507 </span></a><span class="s3">}</span>
<a name="l6508"><span class="ln">6508 </span></a>
<a name="l6509"><span class="ln">6509 </span></a><span class="s0">/* Excluded from this release type: RTTPinger */</span>
<a name="l6510"><span class="ln">6510 </span></a>
<a name="l6511"><span class="ln">6511 </span></a><span class="s0">/* Excluded from this release type: RTTPingerOptions */</span>
<a name="l6512"><span class="ln">6512 </span></a>
<a name="l6513"><span class="ln">6513 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6514"><span class="ln">6514 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">RunCommandCursor </span><span class="s2">extends </span><span class="s1">AbstractCursor </span><span class="s3">{</span>
<a name="l6515"><span class="ln">6515 </span></a>    <span class="s1">readonly command</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;</span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">any</span><span class="s3">&gt;&gt;;</span>
<a name="l6516"><span class="ln">6516 </span></a>    <span class="s1">readonly getMoreOptions</span><span class="s3">: {</span>
<a name="l6517"><span class="ln">6517 </span></a>        <span class="s1">comment</span><span class="s3">?: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6518"><span class="ln">6518 </span></a>        <span class="s1">maxAwaitTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6519"><span class="ln">6519 </span></a>        <span class="s1">batchSize</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6520"><span class="ln">6520 </span></a>    <span class="s3">};</span>
<a name="l6521"><span class="ln">6521 </span></a>    <span class="s5">/**</span>
<a name="l6522"><span class="ln">6522 </span></a>     <span class="s5">* Controls the `getMore.comment` field</span>
<a name="l6523"><span class="ln">6523 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">comment - any BSON value</span>
<a name="l6524"><span class="ln">6524 </span></a>     <span class="s5">*/</span>
<a name="l6525"><span class="ln">6525 </span></a>    <span class="s1">setComment</span><span class="s3">(</span><span class="s1">comment</span><span class="s3">: </span><span class="s1">any</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l6526"><span class="ln">6526 </span></a>    <span class="s5">/**</span>
<a name="l6527"><span class="ln">6527 </span></a>     <span class="s5">* Controls the `getMore.maxTimeMS` field. Only valid when cursor is tailable await</span>
<a name="l6528"><span class="ln">6528 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">maxTimeMS - the number of milliseconds to wait for new data</span>
<a name="l6529"><span class="ln">6529 </span></a>     <span class="s5">*/</span>
<a name="l6530"><span class="ln">6530 </span></a>    <span class="s1">setMaxTimeMS</span><span class="s3">(</span><span class="s1">maxTimeMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l6531"><span class="ln">6531 </span></a>    <span class="s5">/**</span>
<a name="l6532"><span class="ln">6532 </span></a>     <span class="s5">* Controls the `getMore.batchSize` field</span>
<a name="l6533"><span class="ln">6533 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">maxTimeMS - the number documents to return in the `nextBatch`</span>
<a name="l6534"><span class="ln">6534 </span></a>     <span class="s5">*/</span>
<a name="l6535"><span class="ln">6535 </span></a>    <span class="s1">setBatchSize</span><span class="s3">(</span><span class="s1">batchSize</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l6536"><span class="ln">6536 </span></a>    <span class="s5">/** Unsupported for RunCommandCursor */</span>
<a name="l6537"><span class="ln">6537 </span></a>    <span class="s1">clone</span><span class="s3">(): </span><span class="s1">never</span><span class="s3">;</span>
<a name="l6538"><span class="ln">6538 </span></a>    <span class="s5">/** Unsupported for RunCommandCursor: readConcern must be configured directly on command document */</span>
<a name="l6539"><span class="ln">6539 </span></a>    <span class="s1">withReadConcern</span><span class="s3">(</span><span class="s1">_</span><span class="s3">: </span><span class="s1">ReadConcernLike</span><span class="s3">): </span><span class="s1">never</span><span class="s3">;</span>
<a name="l6540"><span class="ln">6540 </span></a>    <span class="s5">/** Unsupported for RunCommandCursor: various cursor flags must be configured directly on command document */</span>
<a name="l6541"><span class="ln">6541 </span></a>    <span class="s1">addCursorFlag</span><span class="s3">(</span><span class="s1">_</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">__</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">): </span><span class="s1">never</span><span class="s3">;</span>
<a name="l6542"><span class="ln">6542 </span></a>    <span class="s5">/** Unsupported for RunCommandCursor: maxTimeMS must be configured directly on command document */</span>
<a name="l6543"><span class="ln">6543 </span></a>    <span class="s1">maxTimeMS</span><span class="s3">(</span><span class="s1">_</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s1">never</span><span class="s3">;</span>
<a name="l6544"><span class="ln">6544 </span></a>    <span class="s5">/** Unsupported for RunCommandCursor: batchSize must be configured directly on command document */</span>
<a name="l6545"><span class="ln">6545 </span></a>    <span class="s1">batchSize</span><span class="s3">(</span><span class="s1">_</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s1">never</span><span class="s3">;</span>
<a name="l6546"><span class="ln">6546 </span></a>    <span class="s0">/* Excluded from this release type: db */</span>
<a name="l6547"><span class="ln">6547 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6548"><span class="ln">6548 </span></a>    <span class="s0">/* Excluded from this release type: _initialize */</span>
<a name="l6549"><span class="ln">6549 </span></a>    <span class="s0">/* Excluded from this release type: getMore */</span>
<a name="l6550"><span class="ln">6550 </span></a><span class="s3">}</span>
<a name="l6551"><span class="ln">6551 </span></a>
<a name="l6552"><span class="ln">6552 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6553"><span class="ln">6553 </span></a><span class="s2">export </span><span class="s1">declare type RunCommandOptions </span><span class="s3">= {</span>
<a name="l6554"><span class="ln">6554 </span></a>    <span class="s5">/** Specify ClientSession for this command */</span>
<a name="l6555"><span class="ln">6555 </span></a>    <span class="s1">session</span><span class="s3">?: </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l6556"><span class="ln">6556 </span></a>    <span class="s5">/** The read preference */</span>
<a name="l6557"><span class="ln">6557 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l6558"><span class="ln">6558 </span></a><span class="s3">} &amp; </span><span class="s1">BSONSerializeOptions</span><span class="s3">;</span>
<a name="l6559"><span class="ln">6559 </span></a>
<a name="l6560"><span class="ln">6560 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6561"><span class="ln">6561 </span></a><span class="s2">export </span><span class="s1">declare type RunCursorCommandOptions </span><span class="s3">= {</span>
<a name="l6562"><span class="ln">6562 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l6563"><span class="ln">6563 </span></a>    <span class="s1">session</span><span class="s3">?: </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l6564"><span class="ln">6564 </span></a><span class="s3">} &amp; </span><span class="s1">BSONSerializeOptions</span><span class="s3">;</span>
<a name="l6565"><span class="ln">6565 </span></a>
<a name="l6566"><span class="ln">6566 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6567"><span class="ln">6567 </span></a><span class="s2">export </span><span class="s1">declare type SchemaMember</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">, </span><span class="s1">V</span><span class="s3">&gt; = {</span>
<a name="l6568"><span class="ln">6568 </span></a>    <span class="s3">[</span><span class="s1">P </span><span class="s2">in </span><span class="s1">keyof T</span><span class="s3">]?: </span><span class="s1">V</span><span class="s3">;</span>
<a name="l6569"><span class="ln">6569 </span></a><span class="s3">} | {</span>
<a name="l6570"><span class="ln">6570 </span></a>    <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">V</span><span class="s3">;</span>
<a name="l6571"><span class="ln">6571 </span></a><span class="s3">};</span>
<a name="l6572"><span class="ln">6572 </span></a>
<a name="l6573"><span class="ln">6573 </span></a><span class="s5">/**</span>
<a name="l6574"><span class="ln">6574 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6575"><span class="ln">6575 </span></a> <span class="s5">*/</span>
<a name="l6576"><span class="ln">6576 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">SearchIndexDescription </span><span class="s3">{</span>
<a name="l6577"><span class="ln">6577 </span></a>    <span class="s5">/** The name of the index. */</span>
<a name="l6578"><span class="ln">6578 </span></a>    <span class="s1">name</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6579"><span class="ln">6579 </span></a>    <span class="s5">/** The index definition. */</span>
<a name="l6580"><span class="ln">6580 </span></a>    <span class="s1">definition</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6581"><span class="ln">6581 </span></a><span class="s3">}</span>
<a name="l6582"><span class="ln">6582 </span></a>
<a name="l6583"><span class="ln">6583 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6584"><span class="ln">6584 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">SelectServerOptions </span><span class="s3">{</span>
<a name="l6585"><span class="ln">6585 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l6586"><span class="ln">6586 </span></a>    <span class="s5">/** How long to block for server selection before throwing an error */</span>
<a name="l6587"><span class="ln">6587 </span></a>    <span class="s1">serverSelectionTimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6588"><span class="ln">6588 </span></a>    <span class="s1">session</span><span class="s3">?: </span><span class="s1">ClientSession</span><span class="s3">;</span>
<a name="l6589"><span class="ln">6589 </span></a><span class="s3">}</span>
<a name="l6590"><span class="ln">6590 </span></a>
<a name="l6591"><span class="ln">6591 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">serialize </span><span class="s3">}</span>
<a name="l6592"><span class="ln">6592 </span></a>
<a name="l6593"><span class="ln">6593 </span></a><span class="s0">/* Excluded from this release type: Server */</span>
<a name="l6594"><span class="ln">6594 </span></a>
<a name="l6595"><span class="ln">6595 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6596"><span class="ln">6596 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ServerApi </span><span class="s3">{</span>
<a name="l6597"><span class="ln">6597 </span></a>    <span class="s1">version</span><span class="s3">: </span><span class="s1">ServerApiVersion</span><span class="s3">;</span>
<a name="l6598"><span class="ln">6598 </span></a>    <span class="s1">strict</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6599"><span class="ln">6599 </span></a>    <span class="s1">deprecationErrors</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6600"><span class="ln">6600 </span></a><span class="s3">}</span>
<a name="l6601"><span class="ln">6601 </span></a>
<a name="l6602"><span class="ln">6602 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6603"><span class="ln">6603 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ServerApiVersion</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6604"><span class="ln">6604 </span></a>    <span class="s1">readonly v1</span><span class="s3">: </span><span class="s4">&quot;1&quot;</span><span class="s3">;</span>
<a name="l6605"><span class="ln">6605 </span></a><span class="s3">}&gt;;</span>
<a name="l6606"><span class="ln">6606 </span></a>
<a name="l6607"><span class="ln">6607 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6608"><span class="ln">6608 </span></a><span class="s2">export </span><span class="s1">declare type ServerApiVersion </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">ServerApiVersion</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">ServerApiVersion</span><span class="s3">];</span>
<a name="l6609"><span class="ln">6609 </span></a>
<a name="l6610"><span class="ln">6610 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6611"><span class="ln">6611 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerCapabilities </span><span class="s3">{</span>
<a name="l6612"><span class="ln">6612 </span></a>    <span class="s1">maxWireVersion</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6613"><span class="ln">6613 </span></a>    <span class="s1">minWireVersion</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6614"><span class="ln">6614 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">hello</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">);</span>
<a name="l6615"><span class="ln">6615 </span></a>    <span class="s1">get hasAggregationCursor</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6616"><span class="ln">6616 </span></a>    <span class="s1">get hasWriteCommands</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6617"><span class="ln">6617 </span></a>    <span class="s1">get hasTextSearch</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6618"><span class="ln">6618 </span></a>    <span class="s1">get hasAuthCommands</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6619"><span class="ln">6619 </span></a>    <span class="s1">get hasListCollectionsCommand</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6620"><span class="ln">6620 </span></a>    <span class="s1">get hasListIndexesCommand</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6621"><span class="ln">6621 </span></a>    <span class="s1">get supportsSnapshotReads</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6622"><span class="ln">6622 </span></a>    <span class="s1">get commandsTakeWriteConcern</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6623"><span class="ln">6623 </span></a>    <span class="s1">get commandsTakeCollation</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6624"><span class="ln">6624 </span></a><span class="s3">}</span>
<a name="l6625"><span class="ln">6625 </span></a>
<a name="l6626"><span class="ln">6626 </span></a><span class="s5">/**</span>
<a name="l6627"><span class="ln">6627 </span></a> <span class="s5">* Emitted when server is closed.</span>
<a name="l6628"><span class="ln">6628 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6629"><span class="ln">6629 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l6630"><span class="ln">6630 </span></a> <span class="s5">*/</span>
<a name="l6631"><span class="ln">6631 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerClosedEvent </span><span class="s3">{</span>
<a name="l6632"><span class="ln">6632 </span></a>    <span class="s5">/** A unique identifier for the topology */</span>
<a name="l6633"><span class="ln">6633 </span></a>    <span class="s1">topologyId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6634"><span class="ln">6634 </span></a>    <span class="s5">/** The address (host/port pair) of the server */</span>
<a name="l6635"><span class="ln">6635 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6636"><span class="ln">6636 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6637"><span class="ln">6637 </span></a><span class="s3">}</span>
<a name="l6638"><span class="ln">6638 </span></a>
<a name="l6639"><span class="ln">6639 </span></a><span class="s5">/**</span>
<a name="l6640"><span class="ln">6640 </span></a> <span class="s5">* The client's view of a single server, based on the most recent hello outcome.</span>
<a name="l6641"><span class="ln">6641 </span></a> <span class="s5">*</span>
<a name="l6642"><span class="ln">6642 </span></a> <span class="s5">* Internal type, not meant to be directly instantiated</span>
<a name="l6643"><span class="ln">6643 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6644"><span class="ln">6644 </span></a> <span class="s5">*/</span>
<a name="l6645"><span class="ln">6645 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerDescription </span><span class="s3">{</span>
<a name="l6646"><span class="ln">6646 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6647"><span class="ln">6647 </span></a>    <span class="s1">type</span><span class="s3">: </span><span class="s1">ServerType</span><span class="s3">;</span>
<a name="l6648"><span class="ln">6648 </span></a>    <span class="s1">hosts</span><span class="s3">: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l6649"><span class="ln">6649 </span></a>    <span class="s1">passives</span><span class="s3">: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l6650"><span class="ln">6650 </span></a>    <span class="s1">arbiters</span><span class="s3">: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l6651"><span class="ln">6651 </span></a>    <span class="s1">tags</span><span class="s3">: </span><span class="s1">TagSet</span><span class="s3">;</span>
<a name="l6652"><span class="ln">6652 </span></a>    <span class="s1">error</span><span class="s3">: </span><span class="s1">MongoError </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6653"><span class="ln">6653 </span></a>    <span class="s1">topologyVersion</span><span class="s3">: </span><span class="s1">TopologyVersion </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6654"><span class="ln">6654 </span></a>    <span class="s1">minWireVersion</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6655"><span class="ln">6655 </span></a>    <span class="s1">maxWireVersion</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6656"><span class="ln">6656 </span></a>    <span class="s1">roundTripTime</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6657"><span class="ln">6657 </span></a>    <span class="s1">lastUpdateTime</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6658"><span class="ln">6658 </span></a>    <span class="s1">lastWriteDate</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6659"><span class="ln">6659 </span></a>    <span class="s1">me</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6660"><span class="ln">6660 </span></a>    <span class="s1">primary</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6661"><span class="ln">6661 </span></a>    <span class="s1">setName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6662"><span class="ln">6662 </span></a>    <span class="s1">setVersion</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6663"><span class="ln">6663 </span></a>    <span class="s1">electionId</span><span class="s3">: </span><span class="s1">ObjectId </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6664"><span class="ln">6664 </span></a>    <span class="s1">logicalSessionTimeoutMinutes</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l6665"><span class="ln">6665 </span></a>    <span class="s1">$clusterTime</span><span class="s3">?: </span><span class="s1">ClusterTime</span><span class="s3">;</span>
<a name="l6666"><span class="ln">6666 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6667"><span class="ln">6667 </span></a>    <span class="s1">get hostAddress</span><span class="s3">(): </span><span class="s1">HostAddress</span><span class="s3">;</span>
<a name="l6668"><span class="ln">6668 </span></a>    <span class="s1">get allHosts</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l6669"><span class="ln">6669 </span></a>    <span class="s5">/** Is this server available for reads*/</span>
<a name="l6670"><span class="ln">6670 </span></a>    <span class="s1">get isReadable</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6671"><span class="ln">6671 </span></a>    <span class="s5">/** Is this server data bearing */</span>
<a name="l6672"><span class="ln">6672 </span></a>    <span class="s1">get isDataBearing</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6673"><span class="ln">6673 </span></a>    <span class="s5">/** Is this server available for writes */</span>
<a name="l6674"><span class="ln">6674 </span></a>    <span class="s1">get isWritable</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6675"><span class="ln">6675 </span></a>    <span class="s1">get host</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6676"><span class="ln">6676 </span></a>    <span class="s1">get port</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6677"><span class="ln">6677 </span></a>    <span class="s5">/**</span>
<a name="l6678"><span class="ln">6678 </span></a>     <span class="s5">* Determines if another `ServerDescription` is equal to this one per the rules defined</span>
<a name="l6679"><span class="ln">6679 </span></a>     <span class="s5">* in the {</span><span class="s6">@link </span><span class="s5">https://github.com/mongodb/specifications/blob/master/source/server-discovery-and-monitoring/server-discovery-and-monitoring.rst#serverdescription|SDAM spec}</span>
<a name="l6680"><span class="ln">6680 </span></a>     <span class="s5">*/</span>
<a name="l6681"><span class="ln">6681 </span></a>    <span class="s1">equals</span><span class="s3">(</span><span class="s1">other</span><span class="s3">?: </span><span class="s1">ServerDescription </span><span class="s3">| </span><span class="s2">null</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6682"><span class="ln">6682 </span></a><span class="s3">}</span>
<a name="l6683"><span class="ln">6683 </span></a>
<a name="l6684"><span class="ln">6684 </span></a><span class="s5">/**</span>
<a name="l6685"><span class="ln">6685 </span></a> <span class="s5">* Emitted when server description changes, but does NOT include changes to the RTT.</span>
<a name="l6686"><span class="ln">6686 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6687"><span class="ln">6687 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l6688"><span class="ln">6688 </span></a> <span class="s5">*/</span>
<a name="l6689"><span class="ln">6689 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerDescriptionChangedEvent </span><span class="s3">{</span>
<a name="l6690"><span class="ln">6690 </span></a>    <span class="s5">/** A unique identifier for the topology */</span>
<a name="l6691"><span class="ln">6691 </span></a>    <span class="s1">topologyId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6692"><span class="ln">6692 </span></a>    <span class="s5">/** The address (host/port pair) of the server */</span>
<a name="l6693"><span class="ln">6693 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6694"><span class="ln">6694 </span></a>    <span class="s5">/** The previous server description */</span>
<a name="l6695"><span class="ln">6695 </span></a>    <span class="s1">previousDescription</span><span class="s3">: </span><span class="s1">ServerDescription</span><span class="s3">;</span>
<a name="l6696"><span class="ln">6696 </span></a>    <span class="s5">/** The new server description */</span>
<a name="l6697"><span class="ln">6697 </span></a>    <span class="s1">newDescription</span><span class="s3">: </span><span class="s1">ServerDescription</span><span class="s3">;</span>
<a name="l6698"><span class="ln">6698 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6699"><span class="ln">6699 </span></a><span class="s3">}</span>
<a name="l6700"><span class="ln">6700 </span></a>
<a name="l6701"><span class="ln">6701 </span></a><span class="s0">/* Excluded from this release type: ServerDescriptionOptions */</span>
<a name="l6702"><span class="ln">6702 </span></a>
<a name="l6703"><span class="ln">6703 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6704"><span class="ln">6704 </span></a><span class="s2">export </span><span class="s1">declare type ServerEvents </span><span class="s3">= {</span>
<a name="l6705"><span class="ln">6705 </span></a>    <span class="s1">serverHeartbeatStarted</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerHeartbeatStartedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6706"><span class="ln">6706 </span></a>    <span class="s1">serverHeartbeatSucceeded</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerHeartbeatSucceededEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6707"><span class="ln">6707 </span></a>    <span class="s1">serverHeartbeatFailed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerHeartbeatFailedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6708"><span class="ln">6708 </span></a>    <span class="s0">/* Excluded from this release type: connect */</span>
<a name="l6709"><span class="ln">6709 </span></a>    <span class="s1">descriptionReceived</span><span class="s3">(</span><span class="s1">description</span><span class="s3">: </span><span class="s1">ServerDescription</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6710"><span class="ln">6710 </span></a>    <span class="s1">closed</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6711"><span class="ln">6711 </span></a>    <span class="s1">ended</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6712"><span class="ln">6712 </span></a><span class="s3">} &amp; </span><span class="s1">ConnectionPoolEvents </span><span class="s3">&amp; </span><span class="s1">EventEmitterWithState</span><span class="s3">;</span>
<a name="l6713"><span class="ln">6713 </span></a>
<a name="l6714"><span class="ln">6714 </span></a><span class="s5">/**</span>
<a name="l6715"><span class="ln">6715 </span></a> <span class="s5">* Emitted when the server monitors hello fails, either with an ok: 0 or a socket exception.</span>
<a name="l6716"><span class="ln">6716 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6717"><span class="ln">6717 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l6718"><span class="ln">6718 </span></a> <span class="s5">*/</span>
<a name="l6719"><span class="ln">6719 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerHeartbeatFailedEvent </span><span class="s3">{</span>
<a name="l6720"><span class="ln">6720 </span></a>    <span class="s5">/** The connection id for the command */</span>
<a name="l6721"><span class="ln">6721 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6722"><span class="ln">6722 </span></a>    <span class="s5">/** The execution time of the event in ms */</span>
<a name="l6723"><span class="ln">6723 </span></a>    <span class="s1">duration</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6724"><span class="ln">6724 </span></a>    <span class="s5">/** The command failure */</span>
<a name="l6725"><span class="ln">6725 </span></a>    <span class="s1">failure</span><span class="s3">: </span><span class="s1">Error</span><span class="s3">;</span>
<a name="l6726"><span class="ln">6726 </span></a>    <span class="s5">/** Is true when using the streaming protocol. */</span>
<a name="l6727"><span class="ln">6727 </span></a>    <span class="s1">awaited</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6728"><span class="ln">6728 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6729"><span class="ln">6729 </span></a><span class="s3">}</span>
<a name="l6730"><span class="ln">6730 </span></a>
<a name="l6731"><span class="ln">6731 </span></a><span class="s5">/**</span>
<a name="l6732"><span class="ln">6732 </span></a> <span class="s5">* Emitted when the server monitors hello command is started - immediately before</span>
<a name="l6733"><span class="ln">6733 </span></a> <span class="s5">* the hello command is serialized into raw BSON and written to the socket.</span>
<a name="l6734"><span class="ln">6734 </span></a> <span class="s5">*</span>
<a name="l6735"><span class="ln">6735 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6736"><span class="ln">6736 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l6737"><span class="ln">6737 </span></a> <span class="s5">*/</span>
<a name="l6738"><span class="ln">6738 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerHeartbeatStartedEvent </span><span class="s3">{</span>
<a name="l6739"><span class="ln">6739 </span></a>    <span class="s5">/** The connection id for the command */</span>
<a name="l6740"><span class="ln">6740 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6741"><span class="ln">6741 </span></a>    <span class="s5">/** Is true when using the streaming protocol. */</span>
<a name="l6742"><span class="ln">6742 </span></a>    <span class="s1">awaited</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6743"><span class="ln">6743 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6744"><span class="ln">6744 </span></a><span class="s3">}</span>
<a name="l6745"><span class="ln">6745 </span></a>
<a name="l6746"><span class="ln">6746 </span></a><span class="s5">/**</span>
<a name="l6747"><span class="ln">6747 </span></a> <span class="s5">* Emitted when the server monitors hello succeeds.</span>
<a name="l6748"><span class="ln">6748 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6749"><span class="ln">6749 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l6750"><span class="ln">6750 </span></a> <span class="s5">*/</span>
<a name="l6751"><span class="ln">6751 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerHeartbeatSucceededEvent </span><span class="s3">{</span>
<a name="l6752"><span class="ln">6752 </span></a>    <span class="s5">/** The connection id for the command */</span>
<a name="l6753"><span class="ln">6753 </span></a>    <span class="s1">connectionId</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6754"><span class="ln">6754 </span></a>    <span class="s5">/** The execution time of the event in ms */</span>
<a name="l6755"><span class="ln">6755 </span></a>    <span class="s1">duration</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6756"><span class="ln">6756 </span></a>    <span class="s5">/** The command reply */</span>
<a name="l6757"><span class="ln">6757 </span></a>    <span class="s1">reply</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6758"><span class="ln">6758 </span></a>    <span class="s5">/** Is true when using the streaming protocol. */</span>
<a name="l6759"><span class="ln">6759 </span></a>    <span class="s1">awaited</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6760"><span class="ln">6760 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6761"><span class="ln">6761 </span></a><span class="s3">}</span>
<a name="l6762"><span class="ln">6762 </span></a>
<a name="l6763"><span class="ln">6763 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6764"><span class="ln">6764 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ServerMonitoringMode</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6765"><span class="ln">6765 </span></a>    <span class="s1">readonly auto</span><span class="s3">: </span><span class="s4">&quot;auto&quot;</span><span class="s3">;</span>
<a name="l6766"><span class="ln">6766 </span></a>    <span class="s1">readonly poll</span><span class="s3">: </span><span class="s4">&quot;poll&quot;</span><span class="s3">;</span>
<a name="l6767"><span class="ln">6767 </span></a>    <span class="s1">readonly stream</span><span class="s3">: </span><span class="s4">&quot;stream&quot;</span><span class="s3">;</span>
<a name="l6768"><span class="ln">6768 </span></a><span class="s3">}&gt;;</span>
<a name="l6769"><span class="ln">6769 </span></a>
<a name="l6770"><span class="ln">6770 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6771"><span class="ln">6771 </span></a><span class="s2">export </span><span class="s1">declare type ServerMonitoringMode </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">ServerMonitoringMode</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">ServerMonitoringMode</span><span class="s3">];</span>
<a name="l6772"><span class="ln">6772 </span></a>
<a name="l6773"><span class="ln">6773 </span></a><span class="s5">/**</span>
<a name="l6774"><span class="ln">6774 </span></a> <span class="s5">* Emitted when server is initialized.</span>
<a name="l6775"><span class="ln">6775 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6776"><span class="ln">6776 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l6777"><span class="ln">6777 </span></a> <span class="s5">*/</span>
<a name="l6778"><span class="ln">6778 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerOpeningEvent </span><span class="s3">{</span>
<a name="l6779"><span class="ln">6779 </span></a>    <span class="s5">/** A unique identifier for the topology */</span>
<a name="l6780"><span class="ln">6780 </span></a>    <span class="s1">topologyId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6781"><span class="ln">6781 </span></a>    <span class="s5">/** The address (host/port pair) of the server */</span>
<a name="l6782"><span class="ln">6782 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6783"><span class="ln">6783 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6784"><span class="ln">6784 </span></a><span class="s3">}</span>
<a name="l6785"><span class="ln">6785 </span></a>
<a name="l6786"><span class="ln">6786 </span></a><span class="s0">/* Excluded from this release type: ServerOptions */</span>
<a name="l6787"><span class="ln">6787 </span></a>
<a name="l6788"><span class="ln">6788 </span></a><span class="s0">/* Excluded from this release type: ServerPrivate */</span>
<a name="l6789"><span class="ln">6789 </span></a>
<a name="l6790"><span class="ln">6790 </span></a><span class="s0">/* Excluded from this release type: ServerSelectionCallback */</span>
<a name="l6791"><span class="ln">6791 </span></a>
<a name="l6792"><span class="ln">6792 </span></a><span class="s0">/* Excluded from this release type: ServerSelectionRequest */</span>
<a name="l6793"><span class="ln">6793 </span></a>
<a name="l6794"><span class="ln">6794 </span></a><span class="s0">/* Excluded from this release type: ServerSelector */</span>
<a name="l6795"><span class="ln">6795 </span></a>
<a name="l6796"><span class="ln">6796 </span></a><span class="s5">/**</span>
<a name="l6797"><span class="ln">6797 </span></a> <span class="s5">* Reflects the existence of a session on the server. Can be reused by the session pool.</span>
<a name="l6798"><span class="ln">6798 </span></a> <span class="s5">* WARNING: not meant to be instantiated directly. For internal use only.</span>
<a name="l6799"><span class="ln">6799 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6800"><span class="ln">6800 </span></a> <span class="s5">*/</span>
<a name="l6801"><span class="ln">6801 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">ServerSession </span><span class="s3">{</span>
<a name="l6802"><span class="ln">6802 </span></a>    <span class="s1">id</span><span class="s3">: </span><span class="s1">ServerSessionId</span><span class="s3">;</span>
<a name="l6803"><span class="ln">6803 </span></a>    <span class="s1">lastUse</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6804"><span class="ln">6804 </span></a>    <span class="s1">txnNumber</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6805"><span class="ln">6805 </span></a>    <span class="s1">isDirty</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6806"><span class="ln">6806 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l6807"><span class="ln">6807 </span></a>    <span class="s5">/**</span>
<a name="l6808"><span class="ln">6808 </span></a>     <span class="s5">* Determines if the server session has timed out.</span>
<a name="l6809"><span class="ln">6809 </span></a>     <span class="s5">*</span>
<a name="l6810"><span class="ln">6810 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">sessionTimeoutMinutes - The server's &quot;logicalSessionTimeoutMinutes&quot;</span>
<a name="l6811"><span class="ln">6811 </span></a>     <span class="s5">*/</span>
<a name="l6812"><span class="ln">6812 </span></a>    <span class="s1">hasTimedOut</span><span class="s3">(</span><span class="s1">sessionTimeoutMinutes</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6813"><span class="ln">6813 </span></a>    <span class="s0">/* Excluded from this release type: clone */</span>
<a name="l6814"><span class="ln">6814 </span></a><span class="s3">}</span>
<a name="l6815"><span class="ln">6815 </span></a>
<a name="l6816"><span class="ln">6816 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6817"><span class="ln">6817 </span></a><span class="s2">export </span><span class="s1">declare type ServerSessionId </span><span class="s3">= {</span>
<a name="l6818"><span class="ln">6818 </span></a>    <span class="s1">id</span><span class="s3">: </span><span class="s1">Binary</span><span class="s3">;</span>
<a name="l6819"><span class="ln">6819 </span></a><span class="s3">};</span>
<a name="l6820"><span class="ln">6820 </span></a>
<a name="l6821"><span class="ln">6821 </span></a><span class="s0">/* Excluded from this release type: ServerSessionPool */</span>
<a name="l6822"><span class="ln">6822 </span></a>
<a name="l6823"><span class="ln">6823 </span></a><span class="s5">/**</span>
<a name="l6824"><span class="ln">6824 </span></a> <span class="s5">* An enumeration of server types we know about</span>
<a name="l6825"><span class="ln">6825 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6826"><span class="ln">6826 </span></a> <span class="s5">*/</span>
<a name="l6827"><span class="ln">6827 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">ServerType</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6828"><span class="ln">6828 </span></a>    <span class="s1">readonly Standalone</span><span class="s3">: </span><span class="s4">&quot;Standalone&quot;</span><span class="s3">;</span>
<a name="l6829"><span class="ln">6829 </span></a>    <span class="s1">readonly Mongos</span><span class="s3">: </span><span class="s4">&quot;Mongos&quot;</span><span class="s3">;</span>
<a name="l6830"><span class="ln">6830 </span></a>    <span class="s1">readonly PossiblePrimary</span><span class="s3">: </span><span class="s4">&quot;PossiblePrimary&quot;</span><span class="s3">;</span>
<a name="l6831"><span class="ln">6831 </span></a>    <span class="s1">readonly RSPrimary</span><span class="s3">: </span><span class="s4">&quot;RSPrimary&quot;</span><span class="s3">;</span>
<a name="l6832"><span class="ln">6832 </span></a>    <span class="s1">readonly RSSecondary</span><span class="s3">: </span><span class="s4">&quot;RSSecondary&quot;</span><span class="s3">;</span>
<a name="l6833"><span class="ln">6833 </span></a>    <span class="s1">readonly RSArbiter</span><span class="s3">: </span><span class="s4">&quot;RSArbiter&quot;</span><span class="s3">;</span>
<a name="l6834"><span class="ln">6834 </span></a>    <span class="s1">readonly RSOther</span><span class="s3">: </span><span class="s4">&quot;RSOther&quot;</span><span class="s3">;</span>
<a name="l6835"><span class="ln">6835 </span></a>    <span class="s1">readonly RSGhost</span><span class="s3">: </span><span class="s4">&quot;RSGhost&quot;</span><span class="s3">;</span>
<a name="l6836"><span class="ln">6836 </span></a>    <span class="s1">readonly Unknown</span><span class="s3">: </span><span class="s4">&quot;Unknown&quot;</span><span class="s3">;</span>
<a name="l6837"><span class="ln">6837 </span></a>    <span class="s1">readonly LoadBalancer</span><span class="s3">: </span><span class="s4">&quot;LoadBalancer&quot;</span><span class="s3">;</span>
<a name="l6838"><span class="ln">6838 </span></a><span class="s3">}&gt;;</span>
<a name="l6839"><span class="ln">6839 </span></a>
<a name="l6840"><span class="ln">6840 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6841"><span class="ln">6841 </span></a><span class="s2">export </span><span class="s1">declare type ServerType </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">ServerType</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">ServerType</span><span class="s3">];</span>
<a name="l6842"><span class="ln">6842 </span></a>
<a name="l6843"><span class="ln">6843 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6844"><span class="ln">6844 </span></a><span class="s2">export </span><span class="s1">declare type SetFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = ({</span>
<a name="l6845"><span class="ln">6845 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key </span><span class="s2">in </span><span class="s1">KeysOfAType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt; | </span><span class="s1">undefined</span><span class="s3">&gt;]?: </span><span class="s1">OptionalId</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt;&gt; | </span><span class="s1">AddToSetOperators</span><span class="s3">&lt;</span><span class="s1">Array</span><span class="s3">&lt;</span><span class="s1">OptionalId</span><span class="s3">&lt;</span><span class="s1">Flatten</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]&gt;&gt;&gt;&gt;;</span>
<a name="l6846"><span class="ln">6846 </span></a><span class="s3">} &amp; </span><span class="s1">NotAcceptedFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt; | </span><span class="s1">undefined</span><span class="s3">&gt;) &amp; {</span>
<a name="l6847"><span class="ln">6847 </span></a>    <span class="s1">readonly </span><span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">AddToSetOperators</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt; | </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6848"><span class="ln">6848 </span></a><span class="s3">};</span>
<a name="l6849"><span class="ln">6849 </span></a>
<a name="l6850"><span class="ln">6850 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6851"><span class="ln">6851 </span></a><span class="s2">export </span><span class="s1">declare type SetProfilingLevelOptions </span><span class="s3">= </span><span class="s1">CommandOperationOptions</span><span class="s3">;</span>
<a name="l6852"><span class="ln">6852 </span></a>
<a name="l6853"><span class="ln">6853 </span></a><span class="s0">/* Excluded from this release type: SeverityLevel */</span>
<a name="l6854"><span class="ln">6854 </span></a>
<a name="l6855"><span class="ln">6855 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6856"><span class="ln">6856 </span></a><span class="s2">export </span><span class="s1">declare type Sort </span><span class="s3">= </span><span class="s1">string </span><span class="s3">| </span><span class="s1">Exclude</span><span class="s3">&lt;</span><span class="s1">SortDirection</span><span class="s3">, {</span>
<a name="l6857"><span class="ln">6857 </span></a>    <span class="s1">$meta</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6858"><span class="ln">6858 </span></a><span class="s3">}&gt; | </span><span class="s1">string</span><span class="s3">[] | {</span>
<a name="l6859"><span class="ln">6859 </span></a>    <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">SortDirection</span><span class="s3">;</span>
<a name="l6860"><span class="ln">6860 </span></a><span class="s3">} | </span><span class="s1">Map</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">SortDirection</span><span class="s3">&gt; | [</span><span class="s1">string</span><span class="s3">, </span><span class="s1">SortDirection</span><span class="s3">][] | [</span><span class="s1">string</span><span class="s3">, </span><span class="s1">SortDirection</span><span class="s3">];</span>
<a name="l6861"><span class="ln">6861 </span></a>
<a name="l6862"><span class="ln">6862 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6863"><span class="ln">6863 </span></a><span class="s2">export </span><span class="s1">declare type SortDirection </span><span class="s3">= </span><span class="s7">1 </span><span class="s3">| -</span><span class="s7">1 </span><span class="s3">| </span><span class="s4">'asc' </span><span class="s3">| </span><span class="s4">'desc' </span><span class="s3">| </span><span class="s4">'ascending' </span><span class="s3">| </span><span class="s4">'descending' </span><span class="s3">| {</span>
<a name="l6864"><span class="ln">6864 </span></a>    <span class="s1">$meta</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6865"><span class="ln">6865 </span></a><span class="s3">};</span>
<a name="l6866"><span class="ln">6866 </span></a>
<a name="l6867"><span class="ln">6867 </span></a><span class="s0">/* Excluded from this release type: SortDirectionForCmd */</span>
<a name="l6868"><span class="ln">6868 </span></a>
<a name="l6869"><span class="ln">6869 </span></a><span class="s0">/* Excluded from this release type: SortForCmd */</span>
<a name="l6870"><span class="ln">6870 </span></a>
<a name="l6871"><span class="ln">6871 </span></a><span class="s0">/* Excluded from this release type: SrvPoller */</span>
<a name="l6872"><span class="ln">6872 </span></a>
<a name="l6873"><span class="ln">6873 </span></a><span class="s0">/* Excluded from this release type: SrvPollerEvents */</span>
<a name="l6874"><span class="ln">6874 </span></a>
<a name="l6875"><span class="ln">6875 </span></a><span class="s0">/* Excluded from this release type: SrvPollerOptions */</span>
<a name="l6876"><span class="ln">6876 </span></a>
<a name="l6877"><span class="ln">6877 </span></a><span class="s0">/* Excluded from this release type: SrvPollingEvent */</span>
<a name="l6878"><span class="ln">6878 </span></a>
<a name="l6879"><span class="ln">6879 </span></a><span class="s0">/* Excluded from this release type: StateMachineExecutable */</span>
<a name="l6880"><span class="ln">6880 </span></a>
<a name="l6881"><span class="ln">6881 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6882"><span class="ln">6882 </span></a><span class="s2">export </span><span class="s1">declare type Stream </span><span class="s3">= </span><span class="s1">Socket </span><span class="s3">| </span><span class="s1">TLSSocket</span><span class="s3">;</span>
<a name="l6883"><span class="ln">6883 </span></a>
<a name="l6884"><span class="ln">6884 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6885"><span class="ln">6885 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">StreamDescription </span><span class="s3">{</span>
<a name="l6886"><span class="ln">6886 </span></a>    <span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6887"><span class="ln">6887 </span></a>    <span class="s1">type</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6888"><span class="ln">6888 </span></a>    <span class="s1">minWireVersion</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6889"><span class="ln">6889 </span></a>    <span class="s1">maxWireVersion</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6890"><span class="ln">6890 </span></a>    <span class="s1">maxBsonObjectSize</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6891"><span class="ln">6891 </span></a>    <span class="s1">maxMessageSizeBytes</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6892"><span class="ln">6892 </span></a>    <span class="s1">maxWriteBatchSize</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6893"><span class="ln">6893 </span></a>    <span class="s1">compressors</span><span class="s3">: </span><span class="s1">CompressorName</span><span class="s3">[];</span>
<a name="l6894"><span class="ln">6894 </span></a>    <span class="s1">compressor</span><span class="s3">?: </span><span class="s1">CompressorName</span><span class="s3">;</span>
<a name="l6895"><span class="ln">6895 </span></a>    <span class="s1">logicalSessionTimeoutMinutes</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6896"><span class="ln">6896 </span></a>    <span class="s1">loadBalanced</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6897"><span class="ln">6897 </span></a>    <span class="s1">__nodejs_mock_server__</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6898"><span class="ln">6898 </span></a>    <span class="s1">zlibCompressionLevel</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6899"><span class="ln">6899 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">address</span><span class="s3">: </span><span class="s1">string</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">StreamDescriptionOptions</span><span class="s3">);</span>
<a name="l6900"><span class="ln">6900 </span></a>    <span class="s1">receiveResponse</span><span class="s3">(</span><span class="s1">response</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s2">null</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l6901"><span class="ln">6901 </span></a><span class="s3">}</span>
<a name="l6902"><span class="ln">6902 </span></a>
<a name="l6903"><span class="ln">6903 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6904"><span class="ln">6904 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">StreamDescriptionOptions </span><span class="s3">{</span>
<a name="l6905"><span class="ln">6905 </span></a>    <span class="s1">compressors</span><span class="s3">?: </span><span class="s1">CompressorName</span><span class="s3">[];</span>
<a name="l6906"><span class="ln">6906 </span></a>    <span class="s1">logicalSessionTimeoutMinutes</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6907"><span class="ln">6907 </span></a>    <span class="s1">loadBalanced</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l6908"><span class="ln">6908 </span></a><span class="s3">}</span>
<a name="l6909"><span class="ln">6909 </span></a>
<a name="l6910"><span class="ln">6910 </span></a><span class="s5">/**</span>
<a name="l6911"><span class="ln">6911 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6912"><span class="ln">6912 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l6913"><span class="ln">6913 </span></a> <span class="s5">*/</span>
<a name="l6914"><span class="ln">6914 </span></a><span class="s2">export </span><span class="s1">declare type StrictFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">Partial</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | ({</span>
<a name="l6915"><span class="ln">6915 </span></a>    <span class="s3">[</span><span class="s1">Property </span><span class="s2">in </span><span class="s1">Join</span><span class="s3">&lt;</span><span class="s1">NestedPaths</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, []&gt;, </span><span class="s4">'.'</span><span class="s3">&gt;]?: </span><span class="s1">Condition</span><span class="s3">&lt;</span><span class="s1">PropertyType</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;, </span><span class="s1">Property</span><span class="s3">&gt;&gt;;</span>
<a name="l6916"><span class="ln">6916 </span></a><span class="s3">} &amp; </span><span class="s1">RootFilterOperators</span><span class="s3">&lt;</span><span class="s1">WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;&gt;);</span>
<a name="l6917"><span class="ln">6917 </span></a>
<a name="l6918"><span class="ln">6918 </span></a><span class="s5">/**</span>
<a name="l6919"><span class="ln">6919 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6920"><span class="ln">6920 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l6921"><span class="ln">6921 </span></a> <span class="s5">*/</span>
<a name="l6922"><span class="ln">6922 </span></a><span class="s2">export </span><span class="s1">declare type StrictMatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l6923"><span class="ln">6923 </span></a>    <span class="s3">[</span><span class="s1">Property </span><span class="s2">in </span><span class="s1">Join</span><span class="s3">&lt;</span><span class="s1">NestedPaths</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, []&gt;, </span><span class="s4">'.'</span><span class="s3">&gt;]?: </span><span class="s1">PropertyType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Property</span><span class="s3">&gt;;</span>
<a name="l6924"><span class="ln">6924 </span></a><span class="s3">} &amp; {</span>
<a name="l6925"><span class="ln">6925 </span></a>    <span class="s3">[</span><span class="s1">Property </span><span class="s2">in </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">NestedPathsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">any</span><span class="s3">[]&gt;}</span><span class="s4">.$</span><span class="s1">$</span><span class="s3">{</span><span class="s4">`[</span><span class="s1">$</span><span class="s3">{</span><span class="s1">string</span><span class="s3">}</span><span class="s4">]` </span><span class="s3">| </span><span class="s4">''</span><span class="s3">}</span><span class="s4">`</span><span class="s3">]?: </span><span class="s1">ArrayElement</span><span class="s3">&lt;</span><span class="s1">PropertyType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Property </span><span class="s2">extends </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">infer Key</span><span class="s3">}</span><span class="s4">.$</span><span class="s1">$</span><span class="s3">{</span><span class="s1">string</span><span class="s3">}</span><span class="s4">` </span><span class="s3">? </span><span class="s1">Key </span><span class="s3">: </span><span class="s1">never</span><span class="s3">&gt;&gt;;</span>
<a name="l6926"><span class="ln">6926 </span></a><span class="s3">} &amp; {</span>
<a name="l6927"><span class="ln">6927 </span></a>    <span class="s3">[</span><span class="s1">Property </span><span class="s2">in </span><span class="s4">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">NestedPathsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">any</span><span class="s3">&gt;[]&gt;}</span><span class="s4">.$</span><span class="s1">$</span><span class="s3">{</span><span class="s4">`[</span><span class="s1">$</span><span class="s3">{</span><span class="s1">string</span><span class="s3">}</span><span class="s4">]` </span><span class="s3">| </span><span class="s4">''</span><span class="s3">}</span><span class="s4">.</span><span class="s1">$</span><span class="s3">{</span><span class="s1">string</span><span class="s3">}</span><span class="s4">`</span><span class="s3">]?: </span><span class="s1">any</span><span class="s3">;</span>
<a name="l6928"><span class="ln">6928 </span></a><span class="s3">} &amp; </span><span class="s1">Document</span><span class="s3">&gt;;</span>
<a name="l6929"><span class="ln">6929 </span></a>
<a name="l6930"><span class="ln">6930 </span></a><span class="s5">/**</span>
<a name="l6931"><span class="ln">6931 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l6932"><span class="ln">6932 </span></a> <span class="s5">* </span><span class="s6">@experimental</span>
<a name="l6933"><span class="ln">6933 </span></a> <span class="s5">*/</span>
<a name="l6934"><span class="ln">6934 </span></a><span class="s2">export </span><span class="s1">declare type StrictUpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = {</span>
<a name="l6935"><span class="ln">6935 </span></a>    <span class="s1">$currentDate</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Date </span><span class="s3">| </span><span class="s1">Timestamp</span><span class="s3">, </span><span class="s2">true </span><span class="s3">| {</span>
<a name="l6936"><span class="ln">6936 </span></a>        <span class="s1">$type</span><span class="s3">: </span><span class="s4">'date' </span><span class="s3">| </span><span class="s4">'timestamp'</span><span class="s3">;</span>
<a name="l6937"><span class="ln">6937 </span></a>    <span class="s3">}&gt;;</span>
<a name="l6938"><span class="ln">6938 </span></a>    <span class="s1">$inc</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">NumericType </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">&gt;;</span>
<a name="l6939"><span class="ln">6939 </span></a>    <span class="s1">$min</span><span class="s3">?: </span><span class="s1">StrictMatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6940"><span class="ln">6940 </span></a>    <span class="s1">$max</span><span class="s3">?: </span><span class="s1">StrictMatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6941"><span class="ln">6941 </span></a>    <span class="s1">$mul</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">NumericType </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">&gt;;</span>
<a name="l6942"><span class="ln">6942 </span></a>    <span class="s1">$rename</span><span class="s3">?: </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">string</span><span class="s3">&gt;;</span>
<a name="l6943"><span class="ln">6943 </span></a>    <span class="s1">$set</span><span class="s3">?: </span><span class="s1">StrictMatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6944"><span class="ln">6944 </span></a>    <span class="s1">$setOnInsert</span><span class="s3">?: </span><span class="s1">StrictMatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6945"><span class="ln">6945 </span></a>    <span class="s1">$unset</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">any</span><span class="s3">, </span><span class="s4">'' </span><span class="s3">| </span><span class="s2">true </span><span class="s3">| </span><span class="s7">1</span><span class="s3">&gt;;</span>
<a name="l6946"><span class="ln">6946 </span></a>    <span class="s1">$addToSet</span><span class="s3">?: </span><span class="s1">SetFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6947"><span class="ln">6947 </span></a>    <span class="s1">$pop</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;, </span><span class="s7">1 </span><span class="s3">| -</span><span class="s7">1</span><span class="s3">&gt;;</span>
<a name="l6948"><span class="ln">6948 </span></a>    <span class="s1">$pull</span><span class="s3">?: </span><span class="s1">PullOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6949"><span class="ln">6949 </span></a>    <span class="s1">$push</span><span class="s3">?: </span><span class="s1">PushOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6950"><span class="ln">6950 </span></a>    <span class="s1">$pullAll</span><span class="s3">?: </span><span class="s1">PullAllOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l6951"><span class="ln">6951 </span></a>    <span class="s1">$bit</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">NumericType </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">, {</span>
<a name="l6952"><span class="ln">6952 </span></a>        <span class="s1">and</span><span class="s3">: </span><span class="s1">IntegerType</span><span class="s3">;</span>
<a name="l6953"><span class="ln">6953 </span></a>    <span class="s3">} | {</span>
<a name="l6954"><span class="ln">6954 </span></a>        <span class="s1">or</span><span class="s3">: </span><span class="s1">IntegerType</span><span class="s3">;</span>
<a name="l6955"><span class="ln">6955 </span></a>    <span class="s3">} | {</span>
<a name="l6956"><span class="ln">6956 </span></a>        <span class="s1">xor</span><span class="s3">: </span><span class="s1">IntegerType</span><span class="s3">;</span>
<a name="l6957"><span class="ln">6957 </span></a>    <span class="s3">}&gt;;</span>
<a name="l6958"><span class="ln">6958 </span></a><span class="s3">} &amp; </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l6959"><span class="ln">6959 </span></a>
<a name="l6960"><span class="ln">6960 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6961"><span class="ln">6961 </span></a><span class="s2">export </span><span class="s1">declare type SupportedNodeConnectionOptions </span><span class="s3">= </span><span class="s1">SupportedTLSConnectionOptions </span><span class="s3">&amp; </span><span class="s1">SupportedTLSSocketOptions </span><span class="s3">&amp; </span><span class="s1">SupportedSocketOptions</span><span class="s3">;</span>
<a name="l6962"><span class="ln">6962 </span></a>
<a name="l6963"><span class="ln">6963 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6964"><span class="ln">6964 </span></a><span class="s2">export </span><span class="s1">declare type SupportedSocketOptions </span><span class="s3">= </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">TcpNetConnectOpts</span><span class="s3">, (</span><span class="s2">typeof </span><span class="s1">LEGAL_TCP_SOCKET_OPTIONS</span><span class="s3">)[</span><span class="s1">number</span><span class="s3">]&gt;;</span>
<a name="l6965"><span class="ln">6965 </span></a>
<a name="l6966"><span class="ln">6966 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6967"><span class="ln">6967 </span></a><span class="s2">export </span><span class="s1">declare type SupportedTLSConnectionOptions </span><span class="s3">= </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">ConnectionOptions_2</span><span class="s3">, </span><span class="s1">Extract</span><span class="s3">&lt;</span><span class="s1">keyof ConnectionOptions_2</span><span class="s3">, (</span><span class="s2">typeof </span><span class="s1">LEGAL_TLS_SOCKET_OPTIONS</span><span class="s3">)[</span><span class="s1">number</span><span class="s3">]&gt;&gt;;</span>
<a name="l6968"><span class="ln">6968 </span></a>
<a name="l6969"><span class="ln">6969 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6970"><span class="ln">6970 </span></a><span class="s2">export </span><span class="s1">declare type SupportedTLSSocketOptions </span><span class="s3">= </span><span class="s1">Pick</span><span class="s3">&lt;</span><span class="s1">TLSSocketOptions</span><span class="s3">, </span><span class="s1">Extract</span><span class="s3">&lt;</span><span class="s1">keyof TLSSocketOptions</span><span class="s3">, (</span><span class="s2">typeof </span><span class="s1">LEGAL_TLS_SOCKET_OPTIONS</span><span class="s3">)[</span><span class="s1">number</span><span class="s3">]&gt;&gt;;</span>
<a name="l6971"><span class="ln">6971 </span></a>
<a name="l6972"><span class="ln">6972 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l6973"><span class="ln">6973 </span></a><span class="s2">export </span><span class="s1">declare type TagSet </span><span class="s3">= {</span>
<a name="l6974"><span class="ln">6974 </span></a>    <span class="s3">[</span><span class="s1">key</span><span class="s3">: </span><span class="s1">string</span><span class="s3">]: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6975"><span class="ln">6975 </span></a><span class="s3">};</span>
<a name="l6976"><span class="ln">6976 </span></a>
<a name="l6977"><span class="ln">6977 </span></a><span class="s0">/* Excluded from this release type: TimeoutController */</span>
<a name="l6978"><span class="ln">6978 </span></a>
<a name="l6979"><span class="ln">6979 </span></a><span class="s0">/* Excluded from this release type: TimerQueue */</span>
<a name="l6980"><span class="ln">6980 </span></a>
<a name="l6981"><span class="ln">6981 </span></a><span class="s5">/** </span><span class="s6">@public</span>
<a name="l6982"><span class="ln">6982 </span></a> <span class="s5">* Configuration options for timeseries collections</span>
<a name="l6983"><span class="ln">6983 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/core/timeseries-collections/</span>
<a name="l6984"><span class="ln">6984 </span></a> <span class="s5">*/</span>
<a name="l6985"><span class="ln">6985 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">TimeSeriesCollectionOptions </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">{</span>
<a name="l6986"><span class="ln">6986 </span></a>    <span class="s1">timeField</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6987"><span class="ln">6987 </span></a>    <span class="s1">metaField</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6988"><span class="ln">6988 </span></a>    <span class="s1">granularity</span><span class="s3">?: </span><span class="s4">'seconds' </span><span class="s3">| </span><span class="s4">'minutes' </span><span class="s3">| </span><span class="s4">'hours' </span><span class="s3">| </span><span class="s1">string</span><span class="s3">;</span>
<a name="l6989"><span class="ln">6989 </span></a>    <span class="s1">bucketMaxSpanSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6990"><span class="ln">6990 </span></a>    <span class="s1">bucketRoundingSeconds</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l6991"><span class="ln">6991 </span></a><span class="s3">}</span>
<a name="l6992"><span class="ln">6992 </span></a>
<a name="l6993"><span class="ln">6993 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">Timestamp </span><span class="s3">}</span>
<a name="l6994"><span class="ln">6994 </span></a>
<a name="l6995"><span class="ln">6995 </span></a><span class="s0">/* Excluded from this release type: Topology */</span>
<a name="l6996"><span class="ln">6996 </span></a>
<a name="l6997"><span class="ln">6997 </span></a><span class="s5">/**</span>
<a name="l6998"><span class="ln">6998 </span></a> <span class="s5">* Emitted when topology is closed.</span>
<a name="l6999"><span class="ln">6999 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7000"><span class="ln">7000 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l7001"><span class="ln">7001 </span></a> <span class="s5">*/</span>
<a name="l7002"><span class="ln">7002 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">TopologyClosedEvent </span><span class="s3">{</span>
<a name="l7003"><span class="ln">7003 </span></a>    <span class="s5">/** A unique identifier for the topology */</span>
<a name="l7004"><span class="ln">7004 </span></a>    <span class="s1">topologyId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7005"><span class="ln">7005 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l7006"><span class="ln">7006 </span></a><span class="s3">}</span>
<a name="l7007"><span class="ln">7007 </span></a>
<a name="l7008"><span class="ln">7008 </span></a><span class="s5">/**</span>
<a name="l7009"><span class="ln">7009 </span></a> <span class="s5">* Representation of a deployment of servers</span>
<a name="l7010"><span class="ln">7010 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7011"><span class="ln">7011 </span></a> <span class="s5">*/</span>
<a name="l7012"><span class="ln">7012 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">TopologyDescription </span><span class="s3">{</span>
<a name="l7013"><span class="ln">7013 </span></a>    <span class="s1">type</span><span class="s3">: </span><span class="s1">TopologyType</span><span class="s3">;</span>
<a name="l7014"><span class="ln">7014 </span></a>    <span class="s1">setName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l7015"><span class="ln">7015 </span></a>    <span class="s1">maxSetVersion</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l7016"><span class="ln">7016 </span></a>    <span class="s1">maxElectionId</span><span class="s3">: </span><span class="s1">ObjectId </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l7017"><span class="ln">7017 </span></a>    <span class="s1">servers</span><span class="s3">: </span><span class="s1">Map</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">ServerDescription</span><span class="s3">&gt;;</span>
<a name="l7018"><span class="ln">7018 </span></a>    <span class="s1">stale</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7019"><span class="ln">7019 </span></a>    <span class="s1">compatible</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7020"><span class="ln">7020 </span></a>    <span class="s1">compatibilityError</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l7021"><span class="ln">7021 </span></a>    <span class="s1">logicalSessionTimeoutMinutes</span><span class="s3">: </span><span class="s1">number </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l7022"><span class="ln">7022 </span></a>    <span class="s1">heartbeatFrequencyMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7023"><span class="ln">7023 </span></a>    <span class="s1">localThresholdMS</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7024"><span class="ln">7024 </span></a>    <span class="s1">commonWireVersion</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7025"><span class="ln">7025 </span></a>    <span class="s5">/**</span>
<a name="l7026"><span class="ln">7026 </span></a>     <span class="s5">* Create a TopologyDescription</span>
<a name="l7027"><span class="ln">7027 </span></a>     <span class="s5">*/</span>
<a name="l7028"><span class="ln">7028 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">topologyType</span><span class="s3">: </span><span class="s1">TopologyType</span><span class="s3">, </span><span class="s1">serverDescriptions</span><span class="s3">?: </span><span class="s1">Map</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">ServerDescription</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">, </span><span class="s1">setName</span><span class="s3">?: </span><span class="s1">string </span><span class="s3">| </span><span class="s2">null</span><span class="s3">, </span><span class="s1">maxSetVersion</span><span class="s3">?: </span><span class="s1">number </span><span class="s3">| </span><span class="s2">null</span><span class="s3">, </span><span class="s1">maxElectionId</span><span class="s3">?: </span><span class="s1">ObjectId </span><span class="s3">| </span><span class="s2">null</span><span class="s3">, </span><span class="s1">commonWireVersion</span><span class="s3">?: </span><span class="s1">number </span><span class="s3">| </span><span class="s2">null</span><span class="s3">, </span><span class="s1">options</span><span class="s3">?: </span><span class="s1">TopologyDescriptionOptions </span><span class="s3">| </span><span class="s2">null</span><span class="s3">);</span>
<a name="l7029"><span class="ln">7029 </span></a>    <span class="s0">/* Excluded from this release type: updateFromSrvPollingEvent */</span>
<a name="l7030"><span class="ln">7030 </span></a>    <span class="s0">/* Excluded from this release type: update */</span>
<a name="l7031"><span class="ln">7031 </span></a>    <span class="s1">get error</span><span class="s3">(): </span><span class="s1">MongoServerError </span><span class="s3">| </span><span class="s2">null</span><span class="s3">;</span>
<a name="l7032"><span class="ln">7032 </span></a>    <span class="s5">/**</span>
<a name="l7033"><span class="ln">7033 </span></a>     <span class="s5">* Determines if the topology description has any known servers</span>
<a name="l7034"><span class="ln">7034 </span></a>     <span class="s5">*/</span>
<a name="l7035"><span class="ln">7035 </span></a>    <span class="s1">get hasKnownServers</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7036"><span class="ln">7036 </span></a>    <span class="s5">/**</span>
<a name="l7037"><span class="ln">7037 </span></a>     <span class="s5">* Determines if this topology description has a data-bearing server available.</span>
<a name="l7038"><span class="ln">7038 </span></a>     <span class="s5">*/</span>
<a name="l7039"><span class="ln">7039 </span></a>    <span class="s1">get hasDataBearingServers</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7040"><span class="ln">7040 </span></a>    <span class="s0">/* Excluded from this release type: hasServer */</span>
<a name="l7041"><span class="ln">7041 </span></a><span class="s3">}</span>
<a name="l7042"><span class="ln">7042 </span></a>
<a name="l7043"><span class="ln">7043 </span></a><span class="s5">/**</span>
<a name="l7044"><span class="ln">7044 </span></a> <span class="s5">* Emitted when topology description changes.</span>
<a name="l7045"><span class="ln">7045 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7046"><span class="ln">7046 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l7047"><span class="ln">7047 </span></a> <span class="s5">*/</span>
<a name="l7048"><span class="ln">7048 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">TopologyDescriptionChangedEvent </span><span class="s3">{</span>
<a name="l7049"><span class="ln">7049 </span></a>    <span class="s5">/** A unique identifier for the topology */</span>
<a name="l7050"><span class="ln">7050 </span></a>    <span class="s1">topologyId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7051"><span class="ln">7051 </span></a>    <span class="s5">/** The old topology description */</span>
<a name="l7052"><span class="ln">7052 </span></a>    <span class="s1">previousDescription</span><span class="s3">: </span><span class="s1">TopologyDescription</span><span class="s3">;</span>
<a name="l7053"><span class="ln">7053 </span></a>    <span class="s5">/** The new topology description */</span>
<a name="l7054"><span class="ln">7054 </span></a>    <span class="s1">newDescription</span><span class="s3">: </span><span class="s1">TopologyDescription</span><span class="s3">;</span>
<a name="l7055"><span class="ln">7055 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l7056"><span class="ln">7056 </span></a><span class="s3">}</span>
<a name="l7057"><span class="ln">7057 </span></a>
<a name="l7058"><span class="ln">7058 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7059"><span class="ln">7059 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">TopologyDescriptionOptions </span><span class="s3">{</span>
<a name="l7060"><span class="ln">7060 </span></a>    <span class="s1">heartbeatFrequencyMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7061"><span class="ln">7061 </span></a>    <span class="s1">localThresholdMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7062"><span class="ln">7062 </span></a><span class="s3">}</span>
<a name="l7063"><span class="ln">7063 </span></a>
<a name="l7064"><span class="ln">7064 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7065"><span class="ln">7065 </span></a><span class="s2">export </span><span class="s1">declare type TopologyEvents </span><span class="s3">= {</span>
<a name="l7066"><span class="ln">7066 </span></a>    <span class="s0">/* Excluded from this release type: connect */</span>
<a name="l7067"><span class="ln">7067 </span></a>    <span class="s1">serverOpening</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerOpeningEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7068"><span class="ln">7068 </span></a>    <span class="s1">serverClosed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerClosedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7069"><span class="ln">7069 </span></a>    <span class="s1">serverDescriptionChanged</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">ServerDescriptionChangedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7070"><span class="ln">7070 </span></a>    <span class="s1">topologyClosed</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">TopologyClosedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7071"><span class="ln">7071 </span></a>    <span class="s1">topologyOpening</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">TopologyOpeningEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7072"><span class="ln">7072 </span></a>    <span class="s1">topologyDescriptionChanged</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">TopologyDescriptionChangedEvent</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7073"><span class="ln">7073 </span></a>    <span class="s1">error</span><span class="s3">(</span><span class="s1">error</span><span class="s3">: </span><span class="s1">Error</span><span class="s3">): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7074"><span class="ln">7074 </span></a>    <span class="s0">/* Excluded from this release type: open */</span>
<a name="l7075"><span class="ln">7075 </span></a>    <span class="s1">close</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7076"><span class="ln">7076 </span></a>    <span class="s1">timeout</span><span class="s3">(): </span><span class="s2">void</span><span class="s3">;</span>
<a name="l7077"><span class="ln">7077 </span></a><span class="s3">} &amp; </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">ServerEvents</span><span class="s3">, </span><span class="s4">'connect'</span><span class="s3">&gt; &amp; </span><span class="s1">ConnectionPoolEvents </span><span class="s3">&amp; </span><span class="s1">ConnectionEvents </span><span class="s3">&amp; </span><span class="s1">EventEmitterWithState</span><span class="s3">;</span>
<a name="l7078"><span class="ln">7078 </span></a>
<a name="l7079"><span class="ln">7079 </span></a><span class="s5">/**</span>
<a name="l7080"><span class="ln">7080 </span></a> <span class="s5">* Emitted when topology is initialized.</span>
<a name="l7081"><span class="ln">7081 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7082"><span class="ln">7082 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Event</span>
<a name="l7083"><span class="ln">7083 </span></a> <span class="s5">*/</span>
<a name="l7084"><span class="ln">7084 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">TopologyOpeningEvent </span><span class="s3">{</span>
<a name="l7085"><span class="ln">7085 </span></a>    <span class="s5">/** A unique identifier for the topology */</span>
<a name="l7086"><span class="ln">7086 </span></a>    <span class="s1">topologyId</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7087"><span class="ln">7087 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l7088"><span class="ln">7088 </span></a><span class="s3">}</span>
<a name="l7089"><span class="ln">7089 </span></a>
<a name="l7090"><span class="ln">7090 </span></a><span class="s0">/* Excluded from this release type: TopologyOptions */</span>
<a name="l7091"><span class="ln">7091 </span></a>
<a name="l7092"><span class="ln">7092 </span></a><span class="s0">/* Excluded from this release type: TopologyPrivate */</span>
<a name="l7093"><span class="ln">7093 </span></a>
<a name="l7094"><span class="ln">7094 </span></a><span class="s5">/**</span>
<a name="l7095"><span class="ln">7095 </span></a> <span class="s5">* An enumeration of topology types we know about</span>
<a name="l7096"><span class="ln">7096 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7097"><span class="ln">7097 </span></a> <span class="s5">*/</span>
<a name="l7098"><span class="ln">7098 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">const </span><span class="s1">TopologyType</span><span class="s3">: </span><span class="s1">Readonly</span><span class="s3">&lt;{</span>
<a name="l7099"><span class="ln">7099 </span></a>    <span class="s1">readonly Single</span><span class="s3">: </span><span class="s4">&quot;Single&quot;</span><span class="s3">;</span>
<a name="l7100"><span class="ln">7100 </span></a>    <span class="s1">readonly ReplicaSetNoPrimary</span><span class="s3">: </span><span class="s4">&quot;ReplicaSetNoPrimary&quot;</span><span class="s3">;</span>
<a name="l7101"><span class="ln">7101 </span></a>    <span class="s1">readonly ReplicaSetWithPrimary</span><span class="s3">: </span><span class="s4">&quot;ReplicaSetWithPrimary&quot;</span><span class="s3">;</span>
<a name="l7102"><span class="ln">7102 </span></a>    <span class="s1">readonly Sharded</span><span class="s3">: </span><span class="s4">&quot;Sharded&quot;</span><span class="s3">;</span>
<a name="l7103"><span class="ln">7103 </span></a>    <span class="s1">readonly Unknown</span><span class="s3">: </span><span class="s4">&quot;Unknown&quot;</span><span class="s3">;</span>
<a name="l7104"><span class="ln">7104 </span></a>    <span class="s1">readonly LoadBalanced</span><span class="s3">: </span><span class="s4">&quot;LoadBalanced&quot;</span><span class="s3">;</span>
<a name="l7105"><span class="ln">7105 </span></a><span class="s3">}&gt;;</span>
<a name="l7106"><span class="ln">7106 </span></a>
<a name="l7107"><span class="ln">7107 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7108"><span class="ln">7108 </span></a><span class="s2">export </span><span class="s1">declare type TopologyType </span><span class="s3">= (</span><span class="s2">typeof </span><span class="s1">TopologyType</span><span class="s3">)[</span><span class="s1">keyof </span><span class="s2">typeof </span><span class="s1">TopologyType</span><span class="s3">];</span>
<a name="l7109"><span class="ln">7109 </span></a>
<a name="l7110"><span class="ln">7110 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7111"><span class="ln">7111 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">TopologyVersion </span><span class="s3">{</span>
<a name="l7112"><span class="ln">7112 </span></a>    <span class="s1">processId</span><span class="s3">: </span><span class="s1">ObjectId</span><span class="s3">;</span>
<a name="l7113"><span class="ln">7113 </span></a>    <span class="s1">counter</span><span class="s3">: </span><span class="s1">Long</span><span class="s3">;</span>
<a name="l7114"><span class="ln">7114 </span></a><span class="s3">}</span>
<a name="l7115"><span class="ln">7115 </span></a>
<a name="l7116"><span class="ln">7116 </span></a><span class="s5">/**</span>
<a name="l7117"><span class="ln">7117 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7118"><span class="ln">7118 </span></a> <span class="s5">* A class maintaining state related to a server transaction. Internal Only</span>
<a name="l7119"><span class="ln">7119 </span></a> <span class="s5">*/</span>
<a name="l7120"><span class="ln">7120 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Transaction </span><span class="s3">{</span>
<a name="l7121"><span class="ln">7121 </span></a>    <span class="s0">/* Excluded from this release type: state */</span>
<a name="l7122"><span class="ln">7122 </span></a>    <span class="s1">options</span><span class="s3">: </span><span class="s1">TransactionOptions</span><span class="s3">;</span>
<a name="l7123"><span class="ln">7123 </span></a>    <span class="s0">/* Excluded from this release type: _pinnedServer */</span>
<a name="l7124"><span class="ln">7124 </span></a>    <span class="s0">/* Excluded from this release type: _recoveryToken */</span>
<a name="l7125"><span class="ln">7125 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l7126"><span class="ln">7126 </span></a>    <span class="s0">/* Excluded from this release type: server */</span>
<a name="l7127"><span class="ln">7127 </span></a>    <span class="s1">get recoveryToken</span><span class="s3">(): </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l7128"><span class="ln">7128 </span></a>    <span class="s1">get isPinned</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7129"><span class="ln">7129 </span></a>    <span class="s5">/** </span><span class="s6">@returns </span><span class="s5">Whether the transaction has started */</span>
<a name="l7130"><span class="ln">7130 </span></a>    <span class="s1">get isStarting</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7131"><span class="ln">7131 </span></a>    <span class="s5">/**</span>
<a name="l7132"><span class="ln">7132 </span></a>     <span class="s5">* </span><span class="s6">@returns </span><span class="s5">Whether this session is presently in a transaction</span>
<a name="l7133"><span class="ln">7133 </span></a>     <span class="s5">*/</span>
<a name="l7134"><span class="ln">7134 </span></a>    <span class="s1">get isActive</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7135"><span class="ln">7135 </span></a>    <span class="s1">get isCommitted</span><span class="s3">(): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7136"><span class="ln">7136 </span></a>    <span class="s0">/* Excluded from this release type: transition */</span>
<a name="l7137"><span class="ln">7137 </span></a>    <span class="s0">/* Excluded from this release type: pinServer */</span>
<a name="l7138"><span class="ln">7138 </span></a>    <span class="s0">/* Excluded from this release type: unpinServer */</span>
<a name="l7139"><span class="ln">7139 </span></a><span class="s3">}</span>
<a name="l7140"><span class="ln">7140 </span></a>
<a name="l7141"><span class="ln">7141 </span></a><span class="s5">/**</span>
<a name="l7142"><span class="ln">7142 </span></a> <span class="s5">* Configuration options for a transaction.</span>
<a name="l7143"><span class="ln">7143 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7144"><span class="ln">7144 </span></a> <span class="s5">*/</span>
<a name="l7145"><span class="ln">7145 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">TransactionOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l7146"><span class="ln">7146 </span></a>    <span class="s5">/** A default read concern for commands in this transaction */</span>
<a name="l7147"><span class="ln">7147 </span></a>    <span class="s1">readConcern</span><span class="s3">?: </span><span class="s1">ReadConcernLike</span><span class="s3">;</span>
<a name="l7148"><span class="ln">7148 </span></a>    <span class="s5">/** A default writeConcern for commands in this transaction */</span>
<a name="l7149"><span class="ln">7149 </span></a>    <span class="s1">writeConcern</span><span class="s3">?: </span><span class="s1">WriteConcern</span><span class="s3">;</span>
<a name="l7150"><span class="ln">7150 </span></a>    <span class="s5">/** A default read preference for commands in this transaction */</span>
<a name="l7151"><span class="ln">7151 </span></a>    <span class="s1">readPreference</span><span class="s3">?: </span><span class="s1">ReadPreferenceLike</span><span class="s3">;</span>
<a name="l7152"><span class="ln">7152 </span></a>    <span class="s5">/** Specifies the maximum amount of time to allow a commit action on a transaction to run in milliseconds */</span>
<a name="l7153"><span class="ln">7153 </span></a>    <span class="s1">maxCommitTimeMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7154"><span class="ln">7154 </span></a><span class="s3">}</span>
<a name="l7155"><span class="ln">7155 </span></a>
<a name="l7156"><span class="ln">7156 </span></a><span class="s0">/* Excluded from this release type: TxnState */</span>
<a name="l7157"><span class="ln">7157 </span></a>
<a name="l7158"><span class="ln">7158 </span></a><span class="s5">/**</span>
<a name="l7159"><span class="ln">7159 </span></a> <span class="s5">* Typescript type safe event emitter</span>
<a name="l7160"><span class="ln">7160 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7161"><span class="ln">7161 </span></a> <span class="s5">*/</span>
<a name="l7162"><span class="ln">7162 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;</span><span class="s1">Events </span><span class="s2">extends </span><span class="s1">EventsDescription</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">EventEmitter </span><span class="s3">{</span>
<a name="l7163"><span class="ln">7163 </span></a>    <span class="s1">addListener</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7164"><span class="ln">7164 </span></a>    <span class="s1">addListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommonEvents</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: (</span><span class="s1">eventName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7165"><span class="ln">7165 </span></a>    <span class="s1">addListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7166"><span class="ln">7166 </span></a>    <span class="s1">on</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7167"><span class="ln">7167 </span></a>    <span class="s1">on</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommonEvents</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: (</span><span class="s1">eventName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7168"><span class="ln">7168 </span></a>    <span class="s1">on</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7169"><span class="ln">7169 </span></a>    <span class="s1">once</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7170"><span class="ln">7170 </span></a>    <span class="s1">once</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommonEvents</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: (</span><span class="s1">eventName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7171"><span class="ln">7171 </span></a>    <span class="s1">once</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7172"><span class="ln">7172 </span></a>    <span class="s1">removeListener</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7173"><span class="ln">7173 </span></a>    <span class="s1">removeListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommonEvents</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: (</span><span class="s1">eventName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7174"><span class="ln">7174 </span></a>    <span class="s1">removeListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7175"><span class="ln">7175 </span></a>    <span class="s1">off</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7176"><span class="ln">7176 </span></a>    <span class="s1">off</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommonEvents</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: (</span><span class="s1">eventName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7177"><span class="ln">7177 </span></a>    <span class="s1">off</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7178"><span class="ln">7178 </span></a>    <span class="s1">removeAllListeners</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">?: </span><span class="s1">EventKey </span><span class="s3">| </span><span class="s1">CommonEvents </span><span class="s3">| </span><span class="s1">symbol </span><span class="s3">| </span><span class="s1">string</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7179"><span class="ln">7179 </span></a>    <span class="s1">listeners</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey </span><span class="s3">| </span><span class="s1">CommonEvents </span><span class="s3">| </span><span class="s1">symbol </span><span class="s3">| </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">][];</span>
<a name="l7180"><span class="ln">7180 </span></a>    <span class="s1">rawListeners</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey </span><span class="s3">| </span><span class="s1">CommonEvents </span><span class="s3">| </span><span class="s1">symbol </span><span class="s3">| </span><span class="s1">string</span><span class="s3">): </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">][];</span>
<a name="l7181"><span class="ln">7181 </span></a>    <span class="s1">emit</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">...args</span><span class="s3">: </span><span class="s1">Parameters</span><span class="s3">&lt;</span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]&gt;): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7182"><span class="ln">7182 </span></a>    <span class="s1">listenerCount</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">type</span><span class="s3">: </span><span class="s1">EventKey </span><span class="s3">| </span><span class="s1">CommonEvents </span><span class="s3">| </span><span class="s1">symbol </span><span class="s3">| </span><span class="s1">string</span><span class="s3">): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7183"><span class="ln">7183 </span></a>    <span class="s1">prependListener</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7184"><span class="ln">7184 </span></a>    <span class="s1">prependListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommonEvents</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: (</span><span class="s1">eventName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7185"><span class="ln">7185 </span></a>    <span class="s1">prependListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7186"><span class="ln">7186 </span></a>    <span class="s1">prependOnceListener</span><span class="s3">&lt;</span><span class="s1">EventKey </span><span class="s2">extends </span><span class="s1">keyof Events</span><span class="s3">&gt;(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">EventKey</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">Events</span><span class="s3">[</span><span class="s1">EventKey</span><span class="s3">]): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7187"><span class="ln">7187 </span></a>    <span class="s1">prependOnceListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">CommonEvents</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: (</span><span class="s1">eventName</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">) =&gt; </span><span class="s2">void</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7188"><span class="ln">7188 </span></a>    <span class="s1">prependOnceListener</span><span class="s3">(</span><span class="s1">event</span><span class="s3">: </span><span class="s1">string </span><span class="s3">| </span><span class="s1">symbol</span><span class="s3">, </span><span class="s1">listener</span><span class="s3">: </span><span class="s1">GenericListener</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7189"><span class="ln">7189 </span></a>    <span class="s1">eventNames</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l7190"><span class="ln">7190 </span></a>    <span class="s1">getMaxListeners</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7191"><span class="ln">7191 </span></a>    <span class="s1">setMaxListeners</span><span class="s3">(</span><span class="s1">n</span><span class="s3">: </span><span class="s1">number</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7192"><span class="ln">7192 </span></a><span class="s3">}</span>
<a name="l7193"><span class="ln">7193 </span></a>
<a name="l7194"><span class="ln">7194 </span></a><span class="s5">/**</span>
<a name="l7195"><span class="ln">7195 </span></a> <span class="s5">* Typescript type safe event emitter</span>
<a name="l7196"><span class="ln">7196 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7197"><span class="ln">7197 </span></a> <span class="s5">*/</span>
<a name="l7198"><span class="ln">7198 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">TypedEventEmitter</span><span class="s3">&lt;</span><span class="s1">Events </span><span class="s2">extends </span><span class="s1">EventsDescription</span><span class="s3">&gt; </span><span class="s2">extends </span><span class="s1">EventEmitter </span><span class="s3">{</span>
<a name="l7199"><span class="ln">7199 </span></a>    <span class="s0">/* Excluded from this release type: mongoLogger */</span>
<a name="l7200"><span class="ln">7200 </span></a>    <span class="s0">/* Excluded from this release type: component */</span>
<a name="l7201"><span class="ln">7201 </span></a>    <span class="s0">/* Excluded from this release type: emitAndLog */</span>
<a name="l7202"><span class="ln">7202 </span></a><span class="s3">}</span>
<a name="l7203"><span class="ln">7203 </span></a>
<a name="l7204"><span class="ln">7204 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7205"><span class="ln">7205 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">UnorderedBulkOperation </span><span class="s2">extends </span><span class="s1">BulkOperationBase </span><span class="s3">{</span>
<a name="l7206"><span class="ln">7206 </span></a>    <span class="s0">/* Excluded from this release type: __constructor */</span>
<a name="l7207"><span class="ln">7207 </span></a>    <span class="s1">handleWriteError</span><span class="s3">(</span><span class="s1">callback</span><span class="s3">: </span><span class="s1">Callback</span><span class="s3">, </span><span class="s1">writeResult</span><span class="s3">: </span><span class="s1">BulkWriteResult</span><span class="s3">): </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7208"><span class="ln">7208 </span></a>    <span class="s1">addToOperationsList</span><span class="s3">(</span><span class="s1">batchType</span><span class="s3">: </span><span class="s1">BatchType</span><span class="s3">, </span><span class="s1">document</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">UpdateStatement </span><span class="s3">| </span><span class="s1">DeleteStatement</span><span class="s3">): </span><span class="s2">this</span><span class="s3">;</span>
<a name="l7209"><span class="ln">7209 </span></a><span class="s3">}</span>
<a name="l7210"><span class="ln">7210 </span></a>
<a name="l7211"><span class="ln">7211 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7212"><span class="ln">7212 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">UpdateDescription</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l7213"><span class="ln">7213 </span></a>    <span class="s5">/**</span>
<a name="l7214"><span class="ln">7214 </span></a>     <span class="s5">* A document containing key:value pairs of names of the fields that were</span>
<a name="l7215"><span class="ln">7215 </span></a>     <span class="s5">* changed, and the new value for those fields.</span>
<a name="l7216"><span class="ln">7216 </span></a>     <span class="s5">*/</span>
<a name="l7217"><span class="ln">7217 </span></a>    <span class="s1">updatedFields</span><span class="s3">?: </span><span class="s1">Partial</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7218"><span class="ln">7218 </span></a>    <span class="s5">/**</span>
<a name="l7219"><span class="ln">7219 </span></a>     <span class="s5">* An array of field names that were removed from the document.</span>
<a name="l7220"><span class="ln">7220 </span></a>     <span class="s5">*/</span>
<a name="l7221"><span class="ln">7221 </span></a>    <span class="s1">removedFields</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">[];</span>
<a name="l7222"><span class="ln">7222 </span></a>    <span class="s5">/**</span>
<a name="l7223"><span class="ln">7223 </span></a>     <span class="s5">* An array of documents which record array truncations performed with pipeline-based updates using one or more of the following stages:</span>
<a name="l7224"><span class="ln">7224 </span></a>     <span class="s5">* - $addFields</span>
<a name="l7225"><span class="ln">7225 </span></a>     <span class="s5">* - $set</span>
<a name="l7226"><span class="ln">7226 </span></a>     <span class="s5">* - $replaceRoot</span>
<a name="l7227"><span class="ln">7227 </span></a>     <span class="s5">* - $replaceWith</span>
<a name="l7228"><span class="ln">7228 </span></a>     <span class="s5">*/</span>
<a name="l7229"><span class="ln">7229 </span></a>    <span class="s1">truncatedArrays</span><span class="s3">?: </span><span class="s1">Array</span><span class="s3">&lt;{</span>
<a name="l7230"><span class="ln">7230 </span></a>        <span class="s5">/** The name of the truncated field. */</span>
<a name="l7231"><span class="ln">7231 </span></a>        <span class="s1">field</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l7232"><span class="ln">7232 </span></a>        <span class="s5">/** The number of elements in the truncated array. */</span>
<a name="l7233"><span class="ln">7233 </span></a>        <span class="s1">newSize</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7234"><span class="ln">7234 </span></a>    <span class="s3">}&gt;;</span>
<a name="l7235"><span class="ln">7235 </span></a>    <span class="s5">/**</span>
<a name="l7236"><span class="ln">7236 </span></a>     <span class="s5">* A document containing additional information about any ambiguous update paths from the update event.  The document</span>
<a name="l7237"><span class="ln">7237 </span></a>     <span class="s5">* maps the full ambiguous update path to an array containing the actual resolved components of the path.  For example,</span>
<a name="l7238"><span class="ln">7238 </span></a>     <span class="s5">* given a document shaped like `{ a: { '0': 0 } }`, and an update of `{ $inc: 'a.0' }`, disambiguated paths would look like</span>
<a name="l7239"><span class="ln">7239 </span></a>     <span class="s5">* the following:</span>
<a name="l7240"><span class="ln">7240 </span></a>     <span class="s5">*</span>
<a name="l7241"><span class="ln">7241 </span></a>     <span class="s5">* ```</span>
<a name="l7242"><span class="ln">7242 </span></a>     <span class="s5">*   {</span>
<a name="l7243"><span class="ln">7243 </span></a>     <span class="s5">*     'a.0': ['a', '0']</span>
<a name="l7244"><span class="ln">7244 </span></a>     <span class="s5">*   }</span>
<a name="l7245"><span class="ln">7245 </span></a>     <span class="s5">* ```</span>
<a name="l7246"><span class="ln">7246 </span></a>     <span class="s5">*</span>
<a name="l7247"><span class="ln">7247 </span></a>     <span class="s5">* This field is only present when there are ambiguous paths that are updated as a part of the update event and `showExpandedEvents`</span>
<a name="l7248"><span class="ln">7248 </span></a>     <span class="s5">* is enabled for the change stream.</span>
<a name="l7249"><span class="ln">7249 </span></a>     <span class="s5">* </span><span class="s6">@sinceServerVersion </span><span class="s5">6.1.0</span>
<a name="l7250"><span class="ln">7250 </span></a>     <span class="s5">*/</span>
<a name="l7251"><span class="ln">7251 </span></a>    <span class="s1">disambiguatedPaths</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7252"><span class="ln">7252 </span></a><span class="s3">}</span>
<a name="l7253"><span class="ln">7253 </span></a>
<a name="l7254"><span class="ln">7254 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7255"><span class="ln">7255 </span></a><span class="s2">export </span><span class="s1">declare type UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = {</span>
<a name="l7256"><span class="ln">7256 </span></a>    <span class="s1">$currentDate</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">Date </span><span class="s3">| </span><span class="s1">Timestamp</span><span class="s3">, </span><span class="s2">true </span><span class="s3">| {</span>
<a name="l7257"><span class="ln">7257 </span></a>        <span class="s1">$type</span><span class="s3">: </span><span class="s4">'date' </span><span class="s3">| </span><span class="s4">'timestamp'</span><span class="s3">;</span>
<a name="l7258"><span class="ln">7258 </span></a>    <span class="s3">}&gt;;</span>
<a name="l7259"><span class="ln">7259 </span></a>    <span class="s1">$inc</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">NumericType </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">&gt;;</span>
<a name="l7260"><span class="ln">7260 </span></a>    <span class="s1">$min</span><span class="s3">?: </span><span class="s1">MatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7261"><span class="ln">7261 </span></a>    <span class="s1">$max</span><span class="s3">?: </span><span class="s1">MatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7262"><span class="ln">7262 </span></a>    <span class="s1">$mul</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">NumericType </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">&gt;;</span>
<a name="l7263"><span class="ln">7263 </span></a>    <span class="s1">$rename</span><span class="s3">?: </span><span class="s1">Record</span><span class="s3">&lt;</span><span class="s1">string</span><span class="s3">, </span><span class="s1">string</span><span class="s3">&gt;;</span>
<a name="l7264"><span class="ln">7264 </span></a>    <span class="s1">$set</span><span class="s3">?: </span><span class="s1">MatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7265"><span class="ln">7265 </span></a>    <span class="s1">$setOnInsert</span><span class="s3">?: </span><span class="s1">MatchKeysAndValues</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7266"><span class="ln">7266 </span></a>    <span class="s1">$unset</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">any</span><span class="s3">, </span><span class="s4">'' </span><span class="s3">| </span><span class="s2">true </span><span class="s3">| </span><span class="s7">1</span><span class="s3">&gt;;</span>
<a name="l7267"><span class="ln">7267 </span></a>    <span class="s1">$addToSet</span><span class="s3">?: </span><span class="s1">SetFields</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7268"><span class="ln">7268 </span></a>    <span class="s1">$pop</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">ReadonlyArray</span><span class="s3">&lt;</span><span class="s1">any</span><span class="s3">&gt;, </span><span class="s7">1 </span><span class="s3">| -</span><span class="s7">1</span><span class="s3">&gt;;</span>
<a name="l7269"><span class="ln">7269 </span></a>    <span class="s1">$pull</span><span class="s3">?: </span><span class="s1">PullOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7270"><span class="ln">7270 </span></a>    <span class="s1">$push</span><span class="s3">?: </span><span class="s1">PushOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7271"><span class="ln">7271 </span></a>    <span class="s1">$pullAll</span><span class="s3">?: </span><span class="s1">PullAllOperator</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7272"><span class="ln">7272 </span></a>    <span class="s1">$bit</span><span class="s3">?: </span><span class="s1">OnlyFieldsOfType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s1">NumericType </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">, {</span>
<a name="l7273"><span class="ln">7273 </span></a>        <span class="s1">and</span><span class="s3">: </span><span class="s1">IntegerType</span><span class="s3">;</span>
<a name="l7274"><span class="ln">7274 </span></a>    <span class="s3">} | {</span>
<a name="l7275"><span class="ln">7275 </span></a>        <span class="s1">or</span><span class="s3">: </span><span class="s1">IntegerType</span><span class="s3">;</span>
<a name="l7276"><span class="ln">7276 </span></a>    <span class="s3">} | {</span>
<a name="l7277"><span class="ln">7277 </span></a>        <span class="s1">xor</span><span class="s3">: </span><span class="s1">IntegerType</span><span class="s3">;</span>
<a name="l7278"><span class="ln">7278 </span></a>    <span class="s3">}&gt;;</span>
<a name="l7279"><span class="ln">7279 </span></a><span class="s3">} &amp; </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7280"><span class="ln">7280 </span></a>
<a name="l7281"><span class="ln">7281 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7282"><span class="ln">7282 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">UpdateManyModel</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l7283"><span class="ln">7283 </span></a>    <span class="s5">/** The filter to limit the updated documents. */</span>
<a name="l7284"><span class="ln">7284 </span></a>    <span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7285"><span class="ln">7285 </span></a>    <span class="s5">/** A document or pipeline containing update operators. */</span>
<a name="l7286"><span class="ln">7286 </span></a>    <span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[];</span>
<a name="l7287"><span class="ln">7287 </span></a>    <span class="s5">/** A set of filters specifying to which array elements an update should apply. */</span>
<a name="l7288"><span class="ln">7288 </span></a>    <span class="s1">arrayFilters</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l7289"><span class="ln">7289 </span></a>    <span class="s5">/** Specifies a collation. */</span>
<a name="l7290"><span class="ln">7290 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l7291"><span class="ln">7291 </span></a>    <span class="s5">/** The index to use. If specified, then the query system will only consider plans using the hinted index. */</span>
<a name="l7292"><span class="ln">7292 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l7293"><span class="ln">7293 </span></a>    <span class="s5">/** When true, creates a new document if no document matches the query. */</span>
<a name="l7294"><span class="ln">7294 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7295"><span class="ln">7295 </span></a><span class="s3">}</span>
<a name="l7296"><span class="ln">7296 </span></a>
<a name="l7297"><span class="ln">7297 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7298"><span class="ln">7298 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">UpdateOneModel</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l7299"><span class="ln">7299 </span></a>    <span class="s5">/** The filter to limit the updated documents. */</span>
<a name="l7300"><span class="ln">7300 </span></a>    <span class="s1">filter</span><span class="s3">: </span><span class="s1">Filter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7301"><span class="ln">7301 </span></a>    <span class="s5">/** A document or pipeline containing update operators. */</span>
<a name="l7302"><span class="ln">7302 </span></a>    <span class="s1">update</span><span class="s3">: </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s1">UpdateFilter</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;[];</span>
<a name="l7303"><span class="ln">7303 </span></a>    <span class="s5">/** A set of filters specifying to which array elements an update should apply. */</span>
<a name="l7304"><span class="ln">7304 </span></a>    <span class="s1">arrayFilters</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l7305"><span class="ln">7305 </span></a>    <span class="s5">/** Specifies a collation. */</span>
<a name="l7306"><span class="ln">7306 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l7307"><span class="ln">7307 </span></a>    <span class="s5">/** The index to use. If specified, then the query system will only consider plans using the hinted index. */</span>
<a name="l7308"><span class="ln">7308 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l7309"><span class="ln">7309 </span></a>    <span class="s5">/** When true, creates a new document if no document matches the query. */</span>
<a name="l7310"><span class="ln">7310 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7311"><span class="ln">7311 </span></a><span class="s3">}</span>
<a name="l7312"><span class="ln">7312 </span></a>
<a name="l7313"><span class="ln">7313 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7314"><span class="ln">7314 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">UpdateOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l7315"><span class="ln">7315 </span></a>    <span class="s5">/** A set of filters specifying to which array elements an update should apply */</span>
<a name="l7316"><span class="ln">7316 </span></a>    <span class="s1">arrayFilters</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l7317"><span class="ln">7317 </span></a>    <span class="s5">/** If true, allows the write to opt-out of document level validation */</span>
<a name="l7318"><span class="ln">7318 </span></a>    <span class="s1">bypassDocumentValidation</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7319"><span class="ln">7319 </span></a>    <span class="s5">/** Specifies a collation */</span>
<a name="l7320"><span class="ln">7320 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l7321"><span class="ln">7321 </span></a>    <span class="s5">/** Specify that the update query should only consider plans using the hinted index */</span>
<a name="l7322"><span class="ln">7322 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l7323"><span class="ln">7323 </span></a>    <span class="s5">/** When true, creates a new document if no document matches the query */</span>
<a name="l7324"><span class="ln">7324 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7325"><span class="ln">7325 </span></a>    <span class="s5">/** Map of parameter names and values that can be accessed using $$var (requires MongoDB 5.0). */</span>
<a name="l7326"><span class="ln">7326 </span></a>    <span class="s2">let</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7327"><span class="ln">7327 </span></a><span class="s3">}</span>
<a name="l7328"><span class="ln">7328 </span></a>
<a name="l7329"><span class="ln">7329 </span></a><span class="s5">/**</span>
<a name="l7330"><span class="ln">7330 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7331"><span class="ln">7331 </span></a> <span class="s5">* `TSchema` is the schema of the collection</span>
<a name="l7332"><span class="ln">7332 </span></a> <span class="s5">*/</span>
<a name="l7333"><span class="ln">7333 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">UpdateResult</span><span class="s3">&lt;</span><span class="s1">TSchema </span><span class="s2">extends </span><span class="s1">Document </span><span class="s3">= </span><span class="s1">Document</span><span class="s3">&gt; {</span>
<a name="l7334"><span class="ln">7334 </span></a>    <span class="s5">/** Indicates whether this write result was acknowledged. If not, then all other members of this result will be undefined */</span>
<a name="l7335"><span class="ln">7335 </span></a>    <span class="s1">acknowledged</span><span class="s3">: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7336"><span class="ln">7336 </span></a>    <span class="s5">/** The number of documents that matched the filter */</span>
<a name="l7337"><span class="ln">7337 </span></a>    <span class="s1">matchedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7338"><span class="ln">7338 </span></a>    <span class="s5">/** The number of documents that were modified */</span>
<a name="l7339"><span class="ln">7339 </span></a>    <span class="s1">modifiedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7340"><span class="ln">7340 </span></a>    <span class="s5">/** The number of documents that were upserted */</span>
<a name="l7341"><span class="ln">7341 </span></a>    <span class="s1">upsertedCount</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7342"><span class="ln">7342 </span></a>    <span class="s5">/** The identifier of the inserted document if an upsert took place */</span>
<a name="l7343"><span class="ln">7343 </span></a>    <span class="s1">upsertedId</span><span class="s3">: </span><span class="s1">InferIdType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; | </span><span class="s2">null</span><span class="s3">;</span>
<a name="l7344"><span class="ln">7344 </span></a><span class="s3">}</span>
<a name="l7345"><span class="ln">7345 </span></a>
<a name="l7346"><span class="ln">7346 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7347"><span class="ln">7347 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">UpdateStatement </span><span class="s3">{</span>
<a name="l7348"><span class="ln">7348 </span></a>    <span class="s5">/** The query that matches documents to update. */</span>
<a name="l7349"><span class="ln">7349 </span></a>    <span class="s1">q</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7350"><span class="ln">7350 </span></a>    <span class="s5">/** The modifications to apply. */</span>
<a name="l7351"><span class="ln">7351 </span></a>    <span class="s1">u</span><span class="s3">: </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l7352"><span class="ln">7352 </span></a>    <span class="s5">/**  If true, perform an insert if no documents match the query. */</span>
<a name="l7353"><span class="ln">7353 </span></a>    <span class="s1">upsert</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7354"><span class="ln">7354 </span></a>    <span class="s5">/** If true, updates all documents that meet the query criteria. */</span>
<a name="l7355"><span class="ln">7355 </span></a>    <span class="s1">multi</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7356"><span class="ln">7356 </span></a>    <span class="s5">/** Specifies the collation to use for the operation. */</span>
<a name="l7357"><span class="ln">7357 </span></a>    <span class="s1">collation</span><span class="s3">?: </span><span class="s1">CollationOptions</span><span class="s3">;</span>
<a name="l7358"><span class="ln">7358 </span></a>    <span class="s5">/** An array of filter documents that determines which array elements to modify for an update operation on an array field. */</span>
<a name="l7359"><span class="ln">7359 </span></a>    <span class="s1">arrayFilters</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">[];</span>
<a name="l7360"><span class="ln">7360 </span></a>    <span class="s5">/** A document or string that specifies the index to use to support the query predicate. */</span>
<a name="l7361"><span class="ln">7361 </span></a>    <span class="s1">hint</span><span class="s3">?: </span><span class="s1">Hint</span><span class="s3">;</span>
<a name="l7362"><span class="ln">7362 </span></a><span class="s3">}</span>
<a name="l7363"><span class="ln">7363 </span></a>
<a name="l7364"><span class="ln">7364 </span></a><span class="s2">export </span><span class="s3">{ </span><span class="s1">UUID </span><span class="s3">}</span>
<a name="l7365"><span class="ln">7365 </span></a>
<a name="l7366"><span class="ln">7366 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7367"><span class="ln">7367 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">ValidateCollectionOptions </span><span class="s2">extends </span><span class="s1">CommandOperationOptions </span><span class="s3">{</span>
<a name="l7368"><span class="ln">7368 </span></a>    <span class="s5">/** Validates a collection in the background, without interrupting read or write traffic (only in MongoDB 4.4+) */</span>
<a name="l7369"><span class="ln">7369 </span></a>    <span class="s1">background</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7370"><span class="ln">7370 </span></a><span class="s3">}</span>
<a name="l7371"><span class="ln">7371 </span></a>
<a name="l7372"><span class="ln">7372 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7373"><span class="ln">7373 </span></a><span class="s2">export </span><span class="s1">declare type W </span><span class="s3">= </span><span class="s1">number </span><span class="s3">| </span><span class="s4">'majority'</span><span class="s3">;</span>
<a name="l7374"><span class="ln">7374 </span></a>
<a name="l7375"><span class="ln">7375 </span></a><span class="s0">/* Excluded from this release type: WaitQueueMember */</span>
<a name="l7376"><span class="ln">7376 </span></a>
<a name="l7377"><span class="ln">7377 </span></a><span class="s0">/* Excluded from this release type: WithConnectionCallback */</span>
<a name="l7378"><span class="ln">7378 </span></a>
<a name="l7379"><span class="ln">7379 </span></a><span class="s5">/** Add an _id field to an object shaped type @public */</span>
<a name="l7380"><span class="ln">7380 </span></a><span class="s2">export </span><span class="s1">declare type WithId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">EnhancedOmit</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s4">'_id'</span><span class="s3">&gt; &amp; {</span>
<a name="l7381"><span class="ln">7381 </span></a>    <span class="s1">_id</span><span class="s3">: </span><span class="s1">InferIdType</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt;;</span>
<a name="l7382"><span class="ln">7382 </span></a><span class="s3">};</span>
<a name="l7383"><span class="ln">7383 </span></a>
<a name="l7384"><span class="ln">7384 </span></a><span class="s5">/** Remove the _id field from an object shaped type @public */</span>
<a name="l7385"><span class="ln">7385 </span></a><span class="s2">export </span><span class="s1">declare type WithoutId</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">&gt; = </span><span class="s1">Omit</span><span class="s3">&lt;</span><span class="s1">TSchema</span><span class="s3">, </span><span class="s4">'_id'</span><span class="s3">&gt;;</span>
<a name="l7386"><span class="ln">7386 </span></a>
<a name="l7387"><span class="ln">7387 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7388"><span class="ln">7388 </span></a><span class="s2">export </span><span class="s1">declare type WithSessionCallback</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">unknown</span><span class="s3">&gt; = (</span><span class="s1">session</span><span class="s3">: </span><span class="s1">ClientSession</span><span class="s3">) =&gt; </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l7389"><span class="ln">7389 </span></a>
<a name="l7390"><span class="ln">7390 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7391"><span class="ln">7391 </span></a><span class="s2">export </span><span class="s1">declare type WithTransactionCallback</span><span class="s3">&lt;</span><span class="s1">T </span><span class="s3">= </span><span class="s1">any</span><span class="s3">&gt; = (</span><span class="s1">session</span><span class="s3">: </span><span class="s1">ClientSession</span><span class="s3">) =&gt; </span><span class="s1">Promise</span><span class="s3">&lt;</span><span class="s1">T</span><span class="s3">&gt;;</span>
<a name="l7392"><span class="ln">7392 </span></a>
<a name="l7393"><span class="ln">7393 </span></a><span class="s0">/* Excluded from this release type: writeCommand */</span>
<a name="l7394"><span class="ln">7394 </span></a>
<a name="l7395"><span class="ln">7395 </span></a><span class="s5">/**</span>
<a name="l7396"><span class="ln">7396 </span></a> <span class="s5">* A MongoDB WriteConcern, which describes the level of acknowledgement</span>
<a name="l7397"><span class="ln">7397 </span></a> <span class="s5">* requested from MongoDB for write operations.</span>
<a name="l7398"><span class="ln">7398 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7399"><span class="ln">7399 </span></a> <span class="s5">*</span>
<a name="l7400"><span class="ln">7400 </span></a> <span class="s5">* </span><span class="s6">@see </span><span class="s5">https://www.mongodb.com/docs/manual/reference/write-concern/</span>
<a name="l7401"><span class="ln">7401 </span></a> <span class="s5">*/</span>
<a name="l7402"><span class="ln">7402 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">WriteConcern </span><span class="s3">{</span>
<a name="l7403"><span class="ln">7403 </span></a>    <span class="s5">/** Request acknowledgment that the write operation has propagated to a specified number of mongod instances or to mongod instances with specified tags. */</span>
<a name="l7404"><span class="ln">7404 </span></a>    <span class="s1">readonly w</span><span class="s3">?: </span><span class="s1">W</span><span class="s3">;</span>
<a name="l7405"><span class="ln">7405 </span></a>    <span class="s5">/** Request acknowledgment that the write operation has been written to the on-disk journal */</span>
<a name="l7406"><span class="ln">7406 </span></a>    <span class="s1">readonly journal</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7407"><span class="ln">7407 </span></a>    <span class="s5">/** Specify a time limit to prevent write operations from blocking indefinitely */</span>
<a name="l7408"><span class="ln">7408 </span></a>    <span class="s1">readonly wtimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7409"><span class="ln">7409 </span></a>    <span class="s5">/**</span>
<a name="l7410"><span class="ln">7410 </span></a>     <span class="s5">* Specify a time limit to prevent write operations from blocking indefinitely.</span>
<a name="l7411"><span class="ln">7411 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Please use wtimeoutMS.</span>
<a name="l7412"><span class="ln">7412 </span></a>     <span class="s5">*/</span>
<a name="l7413"><span class="ln">7413 </span></a>    <span class="s1">wtimeout</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7414"><span class="ln">7414 </span></a>    <span class="s5">/**</span>
<a name="l7415"><span class="ln">7415 </span></a>     <span class="s5">* Request acknowledgment that the write operation has been written to the on-disk journal.</span>
<a name="l7416"><span class="ln">7416 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Please use journal.</span>
<a name="l7417"><span class="ln">7417 </span></a>     <span class="s5">*/</span>
<a name="l7418"><span class="ln">7418 </span></a>    <span class="s1">j</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7419"><span class="ln">7419 </span></a>    <span class="s5">/**</span>
<a name="l7420"><span class="ln">7420 </span></a>     <span class="s5">* Equivalent to the j option.</span>
<a name="l7421"><span class="ln">7421 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Please use journal.</span>
<a name="l7422"><span class="ln">7422 </span></a>     <span class="s5">*/</span>
<a name="l7423"><span class="ln">7423 </span></a>    <span class="s1">fsync</span><span class="s3">?: </span><span class="s1">boolean </span><span class="s3">| </span><span class="s7">1</span><span class="s3">;</span>
<a name="l7424"><span class="ln">7424 </span></a>    <span class="s5">/**</span>
<a name="l7425"><span class="ln">7425 </span></a>     <span class="s5">* Constructs a WriteConcern from the write concern properties.</span>
<a name="l7426"><span class="ln">7426 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">w - request acknowledgment that the write operation has propagated to a specified number of mongod instances or to mongod instances with specified tags.</span>
<a name="l7427"><span class="ln">7427 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">wtimeoutMS - specify a time limit to prevent write operations from blocking indefinitely</span>
<a name="l7428"><span class="ln">7428 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">journal - request acknowledgment that the write operation has been written to the on-disk journal</span>
<a name="l7429"><span class="ln">7429 </span></a>     <span class="s5">* </span><span class="s6">@param </span><span class="s5">fsync - equivalent to the j option. Is deprecated and will be removed in the next major version.</span>
<a name="l7430"><span class="ln">7430 </span></a>     <span class="s5">*/</span>
<a name="l7431"><span class="ln">7431 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">w</span><span class="s3">?: </span><span class="s1">W</span><span class="s3">, </span><span class="s1">wtimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">, </span><span class="s1">journal</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">, </span><span class="s1">fsync</span><span class="s3">?: </span><span class="s1">boolean </span><span class="s3">| </span><span class="s7">1</span><span class="s3">);</span>
<a name="l7432"><span class="ln">7432 </span></a>    <span class="s5">/**</span>
<a name="l7433"><span class="ln">7433 </span></a>     <span class="s5">* Apply a write concern to a command document. Will modify and return the command.</span>
<a name="l7434"><span class="ln">7434 </span></a>     <span class="s5">*/</span>
<a name="l7435"><span class="ln">7435 </span></a>    <span class="s2">static </span><span class="s1">apply</span><span class="s3">(</span><span class="s1">command</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">, </span><span class="s1">writeConcern</span><span class="s3">: </span><span class="s1">WriteConcern</span><span class="s3">): </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7436"><span class="ln">7436 </span></a>    <span class="s5">/** Construct a WriteConcern given an options object. */</span>
<a name="l7437"><span class="ln">7437 </span></a>    <span class="s2">static </span><span class="s1">fromOptions</span><span class="s3">(</span><span class="s1">options</span><span class="s3">?: </span><span class="s1">WriteConcernOptions </span><span class="s3">| </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">W</span><span class="s3">, </span><span class="s1">inherit</span><span class="s3">?: </span><span class="s1">WriteConcernOptions </span><span class="s3">| </span><span class="s1">WriteConcern</span><span class="s3">): </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l7438"><span class="ln">7438 </span></a><span class="s3">}</span>
<a name="l7439"><span class="ln">7439 </span></a>
<a name="l7440"><span class="ln">7440 </span></a><span class="s5">/**</span>
<a name="l7441"><span class="ln">7441 </span></a> <span class="s5">* An error representing a failure by the server to apply the requested write concern to the bulk operation.</span>
<a name="l7442"><span class="ln">7442 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7443"><span class="ln">7443 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l7444"><span class="ln">7444 </span></a> <span class="s5">*/</span>
<a name="l7445"><span class="ln">7445 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">WriteConcernError </span><span class="s3">{</span>
<a name="l7446"><span class="ln">7446 </span></a>    <span class="s0">/* Excluded from this release type: [kServerError] */</span>
<a name="l7447"><span class="ln">7447 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">error</span><span class="s3">: </span><span class="s1">WriteConcernErrorData</span><span class="s3">);</span>
<a name="l7448"><span class="ln">7448 </span></a>    <span class="s5">/** Write concern error code. */</span>
<a name="l7449"><span class="ln">7449 </span></a>    <span class="s1">get code</span><span class="s3">(): </span><span class="s1">number </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l7450"><span class="ln">7450 </span></a>    <span class="s5">/** Write concern error message. */</span>
<a name="l7451"><span class="ln">7451 </span></a>    <span class="s1">get errmsg</span><span class="s3">(): </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l7452"><span class="ln">7452 </span></a>    <span class="s5">/** Write concern error info. */</span>
<a name="l7453"><span class="ln">7453 </span></a>    <span class="s1">get errInfo</span><span class="s3">(): </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l7454"><span class="ln">7454 </span></a>    <span class="s1">toJSON</span><span class="s3">(): </span><span class="s1">WriteConcernErrorData</span><span class="s3">;</span>
<a name="l7455"><span class="ln">7455 </span></a>    <span class="s1">toString</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l7456"><span class="ln">7456 </span></a><span class="s3">}</span>
<a name="l7457"><span class="ln">7457 </span></a>
<a name="l7458"><span class="ln">7458 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7459"><span class="ln">7459 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">WriteConcernErrorData </span><span class="s3">{</span>
<a name="l7460"><span class="ln">7460 </span></a>    <span class="s1">code</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7461"><span class="ln">7461 </span></a>    <span class="s1">errmsg</span><span class="s3">: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l7462"><span class="ln">7462 </span></a>    <span class="s1">errInfo</span><span class="s3">?: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7463"><span class="ln">7463 </span></a><span class="s3">}</span>
<a name="l7464"><span class="ln">7464 </span></a>
<a name="l7465"><span class="ln">7465 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7466"><span class="ln">7466 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">WriteConcernOptions </span><span class="s3">{</span>
<a name="l7467"><span class="ln">7467 </span></a>    <span class="s5">/** Write Concern as an object */</span>
<a name="l7468"><span class="ln">7468 </span></a>    <span class="s1">writeConcern</span><span class="s3">?: </span><span class="s1">WriteConcern </span><span class="s3">| </span><span class="s1">WriteConcernSettings</span><span class="s3">;</span>
<a name="l7469"><span class="ln">7469 </span></a><span class="s3">}</span>
<a name="l7470"><span class="ln">7470 </span></a>
<a name="l7471"><span class="ln">7471 </span></a><span class="s5">/** </span><span class="s6">@public </span><span class="s5">*/</span>
<a name="l7472"><span class="ln">7472 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">interface </span><span class="s1">WriteConcernSettings </span><span class="s3">{</span>
<a name="l7473"><span class="ln">7473 </span></a>    <span class="s5">/** The write concern */</span>
<a name="l7474"><span class="ln">7474 </span></a>    <span class="s1">w</span><span class="s3">?: </span><span class="s1">W</span><span class="s3">;</span>
<a name="l7475"><span class="ln">7475 </span></a>    <span class="s5">/** The write concern timeout */</span>
<a name="l7476"><span class="ln">7476 </span></a>    <span class="s1">wtimeoutMS</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7477"><span class="ln">7477 </span></a>    <span class="s5">/** The journal write concern */</span>
<a name="l7478"><span class="ln">7478 </span></a>    <span class="s1">journal</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7479"><span class="ln">7479 </span></a>    <span class="s5">/**</span>
<a name="l7480"><span class="ln">7480 </span></a>     <span class="s5">* The journal write concern.</span>
<a name="l7481"><span class="ln">7481 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Please use the journal option.</span>
<a name="l7482"><span class="ln">7482 </span></a>     <span class="s5">*/</span>
<a name="l7483"><span class="ln">7483 </span></a>    <span class="s1">j</span><span class="s3">?: </span><span class="s1">boolean</span><span class="s3">;</span>
<a name="l7484"><span class="ln">7484 </span></a>    <span class="s5">/**</span>
<a name="l7485"><span class="ln">7485 </span></a>     <span class="s5">* The write concern timeout.</span>
<a name="l7486"><span class="ln">7486 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Please use the wtimeoutMS option.</span>
<a name="l7487"><span class="ln">7487 </span></a>     <span class="s5">*/</span>
<a name="l7488"><span class="ln">7488 </span></a>    <span class="s1">wtimeout</span><span class="s3">?: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7489"><span class="ln">7489 </span></a>    <span class="s5">/**</span>
<a name="l7490"><span class="ln">7490 </span></a>     <span class="s5">* The file sync write concern.</span>
<a name="l7491"><span class="ln">7491 </span></a>     <span class="s5">* </span><span class="s6">@deprecated </span><span class="s5">Will be removed in the next major version. Please use the journal option.</span>
<a name="l7492"><span class="ln">7492 </span></a>     <span class="s5">*/</span>
<a name="l7493"><span class="ln">7493 </span></a>    <span class="s1">fsync</span><span class="s3">?: </span><span class="s1">boolean </span><span class="s3">| </span><span class="s7">1</span><span class="s3">;</span>
<a name="l7494"><span class="ln">7494 </span></a><span class="s3">}</span>
<a name="l7495"><span class="ln">7495 </span></a>
<a name="l7496"><span class="ln">7496 </span></a><span class="s5">/**</span>
<a name="l7497"><span class="ln">7497 </span></a> <span class="s5">* An error that occurred during a BulkWrite on the server.</span>
<a name="l7498"><span class="ln">7498 </span></a> <span class="s5">* </span><span class="s6">@public</span>
<a name="l7499"><span class="ln">7499 </span></a> <span class="s5">* </span><span class="s6">@category </span><span class="s5">Error</span>
<a name="l7500"><span class="ln">7500 </span></a> <span class="s5">*/</span>
<a name="l7501"><span class="ln">7501 </span></a><span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">WriteError </span><span class="s3">{</span>
<a name="l7502"><span class="ln">7502 </span></a>    <span class="s1">err</span><span class="s3">: </span><span class="s1">BulkWriteOperationError</span><span class="s3">;</span>
<a name="l7503"><span class="ln">7503 </span></a>    <span class="s1">constructor</span><span class="s3">(</span><span class="s1">err</span><span class="s3">: </span><span class="s1">BulkWriteOperationError</span><span class="s3">);</span>
<a name="l7504"><span class="ln">7504 </span></a>    <span class="s5">/** WriteError code. */</span>
<a name="l7505"><span class="ln">7505 </span></a>    <span class="s1">get code</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7506"><span class="ln">7506 </span></a>    <span class="s5">/** WriteError original bulk operation index. */</span>
<a name="l7507"><span class="ln">7507 </span></a>    <span class="s1">get index</span><span class="s3">(): </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7508"><span class="ln">7508 </span></a>    <span class="s5">/** WriteError message. */</span>
<a name="l7509"><span class="ln">7509 </span></a>    <span class="s1">get errmsg</span><span class="s3">(): </span><span class="s1">string </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l7510"><span class="ln">7510 </span></a>    <span class="s5">/** WriteError details. */</span>
<a name="l7511"><span class="ln">7511 </span></a>    <span class="s1">get errInfo</span><span class="s3">(): </span><span class="s1">Document </span><span class="s3">| </span><span class="s1">undefined</span><span class="s3">;</span>
<a name="l7512"><span class="ln">7512 </span></a>    <span class="s5">/** Returns the underlying operation that caused the error */</span>
<a name="l7513"><span class="ln">7513 </span></a>    <span class="s1">getOperation</span><span class="s3">(): </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7514"><span class="ln">7514 </span></a>    <span class="s1">toJSON</span><span class="s3">(): {</span>
<a name="l7515"><span class="ln">7515 </span></a>        <span class="s1">code</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7516"><span class="ln">7516 </span></a>        <span class="s1">index</span><span class="s3">: </span><span class="s1">number</span><span class="s3">;</span>
<a name="l7517"><span class="ln">7517 </span></a>        <span class="s1">errmsg</span><span class="s3">?: </span><span class="s1">string</span><span class="s3">;</span>
<a name="l7518"><span class="ln">7518 </span></a>        <span class="s1">op</span><span class="s3">: </span><span class="s1">Document</span><span class="s3">;</span>
<a name="l7519"><span class="ln">7519 </span></a>    <span class="s3">};</span>
<a name="l7520"><span class="ln">7520 </span></a>    <span class="s1">toString</span><span class="s3">(): </span><span class="s1">string</span><span class="s3">;</span>
<a name="l7521"><span class="ln">7521 </span></a><span class="s3">}</span>
<a name="l7522"><span class="ln">7522 </span></a>
<a name="l7523"><span class="ln">7523 </span></a><span class="s0">/* Excluded from this release type: WriteProtocolMessageType */</span>
<a name="l7524"><span class="ln">7524 </span></a>
<a name="l7525"><span class="ln">7525 </span></a><span class="s2">export </span><span class="s3">{ }</span>
<a name="l7526"><span class="ln">7526 </span></a></pre>
</body>
</html>